{"code":"import GameConfig from \"./GameConfig\";\r\nimport MainController from \"./Biz/MainController\";\r\nimport UIMainSceneBinder from \"./UI/UIMainScene/UIMainSceneBinder\";\r\nimport { Database } from \"./Database/Database\";\r\nimport { ResourceManager } from \"./Asset/ResourcesManager\";\r\nimport { EventManager } from \"./Event/EventManager\";\r\nimport * as fileSaver from \"../libs/fileSaver\";\r\nclass Main {\r\n    constructor() {\r\n        if (window[\"Laya3D\"])\r\n            Laya3D.init(GameConfig.width, GameConfig.height);\r\n        else\r\n            Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n        Laya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n        Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n        Laya.stage.scaleMode = GameConfig.scaleMode;\r\n        Laya.stage.screenMode = GameConfig.screenMode;\r\n        Laya.stage.alignV = GameConfig.alignV;\r\n        Laya.stage.alignH = GameConfig.alignH;\r\n        Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n        if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\")\r\n            Laya.enableDebugPanel();\r\n        if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"])\r\n            Laya[\"PhysicsDebugDraw\"].enable();\r\n        if (GameConfig.stat)\r\n            Laya.Stat.show();\r\n        Laya.alertGlobalError = true;\r\n        Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n        EventManager.RegistEvent(\"RESOURCE_READY\", Laya.Handler.create(this, this.Ready));\r\n    }\r\n    onVersionLoaded() {\r\n        Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n    }\r\n    onConfigLoaded() {\r\n        var db = Database.getInstance();\r\n        window['Database'] = db;\r\n        fileSaver.download(\"\", \"\", \"\");\r\n        ResourceManager.getInstance();\r\n        Laya.stage.addChild(fgui.GRoot.inst.displayObject);\r\n        this.bindAllUI();\r\n    }\r\n    bindAllUI() {\r\n        UIMainSceneBinder.bindAll();\r\n        console.log(\"UI绑定成功\");\r\n    }\r\n    Ready() {\r\n        MainController.getInstance();\r\n    }\r\n}\r\nnew Main();\r\n//# sourceMappingURL=Main.js.map","references":["D:/laya_project/MyLaya/src/GameConfig.ts","D:/laya_project/MyLaya/src/Biz/MainController.ts","D:/laya_project/MyLaya/src/UI/UIMainScene/UIMainSceneBinder.ts","D:/laya_project/MyLaya/src/Database/Database.ts","D:/laya_project/MyLaya/src/Asset/ResourcesManager.ts","D:/laya_project/MyLaya/src/Event/EventManager.ts","D:/laya_project/MyLaya/libs/fileSaver.d.ts"],"map":"{\"version\":3,\"file\":\"Main.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/Main.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,UAAU,MAAM,cAAc,CAAC;AACtC,OAAO,cAAc,MAAM,sBAAsB,CAAC;AAClD,OAAO,iBAAiB,MAAM,oCAAoC,CAAC;AACnE,OAAO,EAAE,QAAQ,EAAE,MAAM,qBAAqB,CAAC;AAC/C,OAAO,EAAE,eAAe,EAAE,MAAM,0BAA0B,CAAC;AAC3D,OAAO,EAAE,YAAY,EAAa,MAAM,sBAAsB,CAAC;AAC/D,OAAO,KAAK,SAAS,MAAM,mBAAmB,CAAC;AAC/C,MAAM,IAAI;IACT;QAEC,IAAI,MAAM,CAAC,QAAQ,CAAC;YAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;;YAClE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC;QAClD,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC;QAC5C,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;QAC9C,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;QACtC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;QAEtC,IAAI,CAAC,GAAG,CAAC,iBAAiB,GAAG,UAAU,CAAC,iBAAiB,CAAC;QAG1D,IAAI,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,MAAM;YAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC9F,IAAI,UAAU,CAAC,YAAY,IAAI,IAAI,CAAC,kBAAkB,CAAC;YAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,EAAE,CAAC;QAC3F,IAAI,UAAU,CAAC,IAAI;YAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QACtC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAG7B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;QACpI,YAAY,CAAC,WAAW,mBAA2B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IAC3F,CAAC;IAED,eAAe;QAEd,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;IACjG,CAAC;IAED,cAAc;QACb,IAAI,EAAE,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;QAEhC,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;QAMxB,SAAS,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/B,eAAe,CAAC,WAAW,EAAE,CAAC;QAG9B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACnD,IAAI,CAAC,SAAS,EAAE,CAAC;IAElB,CAAC;IAED,SAAS;QACR,iBAAiB,CAAC,OAAO,EAAE,CAAC;QAC5B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACvB,CAAC;IAED,KAAK;QACJ,cAAc,CAAC,WAAW,EAAE,CAAC;IAE9B,CAAC;CAED;AAED,IAAI,IAAI,EAAE,CAAC\"}"}
