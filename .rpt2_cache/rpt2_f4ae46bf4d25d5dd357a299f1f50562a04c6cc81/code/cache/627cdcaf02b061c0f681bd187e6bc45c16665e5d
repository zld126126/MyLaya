{
  "code": "import { BaseController } from \"../Base/BaseController\";\r\nimport { EventManager } from \"../Event/EventManager\";\r\nimport UIMainScene from \"../UI/UIMainScene/UIMainScene\";\r\nexport default class MainController extends BaseController {\r\n    constructor() {\r\n        super();\r\n        this.IsChange = false;\r\n        this.IsAdd = false;\r\n        this.Title = \"\";\r\n        this.Author = \"\";\r\n        this.ItemCount = 0;\r\n        this.init(\"res/ui/UIMainScene\");\r\n    }\r\n    onUILoaded() {\r\n        this._ui = UIMainScene.createInstance();\r\n        this._ui.makeFullScreen();\r\n        fgui.GRoot.inst.addChild(this._ui);\r\n        console.log(\"页面加载成功\");\r\n        this.Register();\r\n    }\r\n    Register() {\r\n        this._ui.m_Change.onClick(this, this.Change, [\"东宝\", \"你好,世界！\"]);\r\n        this._ui.m_Add.onClick(this, this.Add);\r\n        this._ui.m_ContentBox.itemRenderer = Laya.Handler.create(this, this.RenderItem, undefined, false);\r\n        this._ui.m_ContentBox.numItems = this.ItemCount;\r\n        EventManager.RegistEvent(\"TEST_EVENT\", Laya.Handler.create(this, this.EventTest));\r\n        console.log(\"页面注册组件成功\");\r\n    }\r\n    Add() {\r\n        this.IsAdd = true;\r\n    }\r\n    AddItem() {\r\n        this.IsAdd = false;\r\n        this.ItemCount++;\r\n        if (this.ItemCount > 0) {\r\n            this._ui.m_ContentBox.numItems = this.ItemCount;\r\n            this._ui.m_ContentBox.scrollToView(this.ItemCount - 1, true);\r\n            EventManager.DispatchEvent(\"TEST_EVENT\");\r\n        }\r\n    }\r\n    RenderItem(index, obj) {\r\n        let isLeft = index % 2 == 1;\r\n        if (isLeft) {\r\n            obj.m_Pos.setSelectedIndex(0);\r\n            obj.m_Title_Left.text = \"这是第\" + index + \"行测试数据\";\r\n        }\r\n        else {\r\n            obj.m_Pos.setSelectedIndex(1);\r\n            obj.m_Title_Right.text = \"这是第\" + index + \"行测试数据\";\r\n        }\r\n    }\r\n    Change(author, title) {\r\n        console.log(\"点击了按钮\");\r\n        this.IsChange = true;\r\n        this.Title = title;\r\n        this.Author = author;\r\n        console.log(author, title);\r\n    }\r\n    ChangeContent() {\r\n        this.IsChange = false;\r\n        this._ui.m_Title.text = this.Title;\r\n        this._ui.m_Author.text = this.Author;\r\n        this._ui.m_ShowTransition.play(undefined, 1, 0);\r\n        this._ui.m_ShowTransition.timeScale = 1;\r\n    }\r\n    Update() {\r\n        if (this.IsChange) {\r\n            this.ChangeContent();\r\n        }\r\n        if (this.IsAdd) {\r\n            this.AddItem();\r\n        }\r\n    }\r\n    destroy() {\r\n        this._ui.dispose();\r\n    }\r\n    EventTest() {\r\n        console.log(\"EventTest 事件派发测试\");\r\n    }\r\n}\r\n//# sourceMappingURL=MainController.js.map",
  "references": [
    "D:/laya_project/MyLaya/src/Base/BaseController.ts",
    "D:/laya_project/MyLaya/src/Event/EventManager.ts",
    "D:/laya_project/MyLaya/src/UI/UIMainScene/Item.ts",
    "D:/laya_project/MyLaya/src/UI/UIMainScene/UIMainScene.ts"
  ],
  "map": "{\"version\":3,\"file\":\"MainController.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/Biz/MainController.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
