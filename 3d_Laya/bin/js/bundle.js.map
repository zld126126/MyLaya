{"version":3,"file":"bundle.js","sources":["../../src/GameConfig.ts","../../src/EventManager.ts","../../src/SingletonMainScene.ts","../../src/common/CameraMoveScript.ts","../../src/GlobalConfig.ts","../../src/SingletonScene.ts","../../src/Resource/LoadResourceDemo.ts","../../src/Resource/GarbageCollection.ts","../../src/Resource/LoadGltfRosource.ts","../../src/Resource/ResourceMain.ts","../../src/Scene3D/SceneLoad1.ts","../../src/Scene3D/SceneLoad2.ts","../../src/Scene3D/EnvironmentalReflection.ts","../../src/Scene3D/LightmapScene.ts","../../src/Scene3D/Scene3DMain.ts","../../src/Camera/CameraDemo.ts","../../src/Camera/CameraLookAt.ts","../../src/Camera/MultiCamera.ts","../../src/Camera/CameraRay.ts","../../src/Camera/CameraLayer.ts","../../src/Camera/OrthographicCamera.ts","../../src/Camera/D3SpaceToD2Space.ts","../../src/Camera/RenderTarget3DTo2DSprite.ts","../../src/Camera/RenderTargetCamera.ts","../../src/Camera/RenderTargetTo2DSprite.ts","../../src/Camera/PickPixel.ts","../../src/Camera/CameraMain.ts","../../src/PostProcess/PostProcessBloom.ts","../../src/common/BlurEffect.ts","../../src/PostProcess/PostProcess_Blur.ts","../../src/common/EdgeEffect.ts","../../src/PostProcess/PostProcess_Edge.ts","../../src/common/GaussianDoF.ts","../../src/PostProcess/PostProcessDoF.ts","../../src/common/ScalableAO.ts","../../src/PostProcess/ProstProcess_AO.ts","../../src/PostProcess/PostProcessMain.ts","../../src/Lighting/DirectionLightDemo.ts","../../src/Lighting/PointLightDemo.ts","../../src/Lighting/SpotLightDemo.ts","../../src/Lighting/RealTimeShadow.ts","../../src/Lighting/SpotLightShadowMap.ts","../../src/Lighting/MultiLight.ts","../../src/Lighting/LightingMain.ts","../../src/Sprite3D/SkinnedMeshSprite3DDemo.ts","../../src/Sprite3D/Sprite3DParent.ts","../../src/Sprite3D/TransformDemo.ts","../../src/common/Tool.ts","../../src/Sprite3D/PixelLineSprite3DDemo.ts","../../src/Sprite3D/Sprite3DClone.ts","../../src/Sprite3D/Sprite3DMain.ts","../../src/Mesh/MeshLoad.ts","../../src/Mesh/CustomMesh.ts","../../src/Mesh/ChangeMesh.ts","../../src/Mesh/MeshMain.ts","../../src/Material/MaterialDemo.ts","../../src/Material/BlinnPhongMaterialLoad.ts","../../src/Material/BlinnPhong_DiffuseMap.ts","../../src/Material/BlinnPhong_NormalMap.ts","../../src/Material/BlinnPhong_SpecularMap.ts","../../src/Material/Blinnphong_Transmission.ts","../../src/Material/PBRMaterialDemo.ts","../../src/Material/EffectMaterialDemo.ts","../../src/Material/UnlitMaterialDemo.ts","../../src/Material/WaterPrimaryMaterialDemo.ts","../../src/Material/MaterialMain.ts","../../src/Texture/TextureDemo.ts","../../src/Texture/TextureGPUCompression.ts","../../src/Texture/HalfFloatTexture.ts","../../src/Texture/GPUCompression_ASTC.ts","../../src/Texture/GPUCompression_ETC2.ts","../../src/Texture/TextureMain.ts","../../src/Animation3D/AnimatorDemo.ts","../../src/Animation3D/AnimationLayerBlend.ts","../../src/Animation3D/AnimatorStateScriptDemo.ts","../../src/Animation3D/BoneLinkSprite3D.ts","../../src/Animation3D/MaterialAnimation.ts","../../src/Animation3D/SkeletonMask.ts","../../src/Animation3D/SimpleSkinAnimationInstance.ts","../../src/Animation3D/CameraAnimation.ts","../../src/Animation3D/RigidbodyAnimationDemo.ts","../../src/Animation3D/Animation3DMain.ts","../../src/Physics3D/PhysicsWorld_BaseCollidert.ts","../../src/Physics3D/PhysicsWorld_BuildingBlocks.ts","../../src/Physics3D/PhysicsWorld_Character.ts","../../src/Physics3D/PhysicsWorld_CollisionFiflter.ts","../../src/Physics3D/PhysicsWorld_CompoundCollider.ts","../../src/Physics3D/PhysicsWorld_ContinueCollisionDetection.ts","../../src/Physics3D/PhysicsWorld_Kinematic.ts","../../src/Physics3D/PhysicsWorld_MeshCollider.ts","../../src/Physics3D/PhysicsWorld_TriggerAndCollisionEvent.ts","../../src/Physics3D/PhysicsWorld_RayShapeCast.ts","../../src/Physics3D/PhysicsWorld_ConstraintFixedJoint.ts","../../src/Physics3D/PhysicsWorld_ConfigurableJoint.ts","../../src/Physics3D/Physics3DMain.ts","../../src/CannonPhysics3D/CannonPhysicsWorld_BaseCollider.ts","../../src/CannonPhysics3D/CannonPhysicsWorld_ColliderEvent.ts","../../src/CannonPhysics3D/CannonPhysicsWorld_PhysicsProperty.ts","../../src/CannonPhysics3D/CannonPhysicsWorld_RayCheck.ts","../../src/CannonPhysics3D/CannonPhysics3DMain.ts","../../src/MouseInteraction/MouseInteraction.ts","../../src/MouseInteraction/MultiTouch.ts","../../src/MouseInteraction/MouseInteractionMain.ts","../../src/Script/ScriptDemo.ts","../../src/Script/ScriptMain.ts","../../src/Sky/Sky_SkyBox.ts","../../src/Sky/Sky_Procedural.ts","../../src/Sky/SkyMain.ts","../../src/Particle3D/ParticleEternalLight.ts","../../src/Particle3D/Particle_BurningGround.ts","../../src/Particle3D/Particle3DMain.ts","../../src/Trail/TrailRender.ts","../../src/Trail/TrailMain.ts","../../src/common/CustomMaterial.ts","../../src/Shader/Shader_Simple.ts","../../src/Shader/Shader_GlowingEdge.ts","../../src/common/CustomTerrainMaterial.ts","../../src/Shader/Shader_Terrain.ts","../../src/common/MultiplePassOutlineMaterial.ts","../../src/Shader/Shader_MultiplePassOutline.ts","../../src/Shader/ShaderMain.ts","../../src/Performance/StaticBatchingTest.ts","../../src/Performance/DynamicBatchTest.ts","../../src/Performance/PerformanceMain.ts","../../src/Demo/DamagedHelmetModelShow.ts","../../src/Demo/GhostModelShow.ts","../../src/Demo/CerberusModelShow.ts","../../src/Demo/DemoMain.ts","../../src/Advance/Laya3DCombineHtml.ts","../../src/Advance/AStarFindPath.ts","../../src/Advance/Scene2DPlayer3D.ts","../../src/Advance/Secne3DPlayer2D.ts","../../src/Advance/AdvanceMain.ts","../../src/LayaMain3d.ts","../../src/Main.ts"],"sourcesContent":["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=640;\r\n    static height:number=1136;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"top\";\r\n    static alignH:string=\"left\";\r\n    static startScene:any=\"\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n\r\n    }\r\n}\r\nGameConfig.init();","export const enum EventType {\r\n    /**测试事件 */\r\n    TESTEVENT = \"TEST_EVENT\",\r\n    /**返回主页 */\r\n    BACKTOMAIN = \"BACKTOMAIN\",\r\n    /**设置scene */\r\n    SETSCENE3D = \"SETSCENE3D\",\r\n}\r\n\r\nexport class EventExtra {\r\n    // handler列表\r\n    private _handerList: Array<Laya.Handler>;\r\n\r\n    constructor() {\r\n        this._handerList = new Array<Laya.Handler>();\r\n    }\r\n\r\n    public Add(handler: Laya.Handler): void {\r\n        this._handerList.push(handler);\r\n    }\r\n\r\n    public Remove(handler: Laya.Handler): void {\r\n        for (let i: number = 0; i < this._handerList.length; i++) {\r\n            if (handler.caller == this._handerList[i].caller && handler.method == this._handerList[i].method) {\r\n                this._handerList[i].recover();\r\n                this._handerList.splice(i, 1);\r\n                handler.recover();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    public Exec(args: any[]): void {\r\n        for (let i: number = this._handerList.length; i >= 0; i--) {\r\n            let handler: Laya.Handler = this._handerList[i];\r\n            if (handler != null) {\r\n                try {\r\n                    handler.setTo(handler.caller, handler.method, args, false);\r\n                    //  如果run 中出现异常 for 会停止  其他的类注册的事件则不会走\r\n                    handler.run();\r\n                }\r\n                catch (e) {\r\n                    console.error(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport class EventManager {\r\n    //事件列表\r\n    private static eventMap: Map<string, EventExtra> = new Map();\r\n\r\n    /**\r\n     * 派发事件\r\n     * @param type 消息类型\r\n     * @param args 额外参数\r\n     */\r\n    public static DispatchEvent(type: string, args?: any): void {\r\n        if (!(args instanceof Array))\r\n            args = [args];\r\n\r\n        let e: EventExtra | undefined = EventManager.eventMap.get(type);\r\n        if (e != null || e != undefined) {\r\n            try {\r\n                e.Exec(args);\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 注册事件\r\n     * @param type 消息类型\r\n     * @param handler 回调函数\r\n     */\r\n    public static RegistEvent(type: string, handler: Laya.Handler): void {\r\n        let e: EventExtra | undefined = EventManager.eventMap.get(type);\r\n        if (e == null || e == undefined) {\r\n            e = new EventExtra();\r\n            EventManager.eventMap.set(type, e);\r\n        }\r\n        e.Add(handler);\r\n    }\r\n\r\n    /**\r\n     * 删除事件\r\n     * @param type 消息类型\r\n     * @param handler 回调函数\r\n     */\r\n    public static RemoveEvent(type: string, handler: Laya.Handler): void {\r\n        let e: EventExtra | undefined = EventManager.eventMap.get(type);\r\n        if (e != undefined && handler != null) {\r\n            e.Remove(handler);\r\n        }\r\n    }\r\n}","import { EventManager, EventType } from \"./EventManager\";\r\n\r\n/**\r\n * 功能场景(按钮控制)(单例)\r\n */\r\nexport default abstract class SingletonMainScene extends Laya.Scene {\r\n    /**\r\n     * 构造函数\r\n     */\r\n    constructor() {\r\n        super();\r\n        // 注册事件\r\n        EventManager.RegistEvent(EventType.BACKTOMAIN, Laya.Handler.create(this, this.Back2Main));\r\n    }\r\n    \r\n    /**\r\n     *\r\n     * @param this 单例\r\n     * @returns\r\n     */\r\n    static getInstance<T extends {}>(this: new () => T): T {\r\n        if (!(<any>this).instance) {\r\n            (<any>this).instance = new this();\r\n        }\r\n        return (<any>this).instance;\r\n    }\r\n\r\n    /**\r\n     * 显示\r\n     */\r\n    Show(): void {\r\n        this.visible = true;\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     */\r\n    Hide(): void {\r\n        this.visible = false;\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    Destroy(): void {\r\n        if (this != null) {\r\n            this.destroy();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 返回主页 隐藏当前页面\r\n     */\r\n    public Back2Main() {\r\n        this.Hide();\r\n    }\r\n}\r\n","export class CameraMoveScript extends Laya.Script3D {\r\n    _tempVector3: Laya.Vector3;\r\n    yawPitchRoll: Laya.Vector3;\r\n    resultRotation: Laya.Quaternion;\r\n    tempRotationZ: Laya.Quaternion;\r\n    tempRotationX: Laya.Quaternion;\r\n    tempRotationY: Laya.Quaternion;\r\n    rotaionSpeed: number;\r\n    camera: any;\r\n    lastMouseX: number;\r\n    lastMouseY: number;\r\n    isMouseDown: boolean;\r\n\r\n    constructor() {\r\n        super();\r\n        this._tempVector3 = new Laya.Vector3();\r\n        this.yawPitchRoll = new Laya.Vector3();\r\n        this.resultRotation = new Laya.Quaternion();\r\n        this.tempRotationZ = new Laya.Quaternion();\r\n        this.tempRotationX = new Laya.Quaternion();\r\n        this.tempRotationY = new Laya.Quaternion();\r\n        this.rotaionSpeed = 0.00006;\r\n    }\r\n    onAwake() {\r\n        Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.mouseUp);\r\n        this.camera = this.owner;\r\n    }\r\n    _onDestroy() {\r\n        //关闭监听函数\r\n        Laya.stage.off(Laya.Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.RIGHT_MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    onUpdate() {\r\n        var elapsedTime = Laya.timer.delta;\r\n        if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY) && this.isMouseDown) {\r\n            var scene = this.owner.scene;\r\n            Laya.KeyBoardManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime);//W\r\n            Laya.KeyBoardManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime);//S\r\n            Laya.KeyBoardManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime);//A\r\n            Laya.KeyBoardManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime);//D\r\n            Laya.KeyBoardManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime);//Q\r\n            Laya.KeyBoardManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime);//E\r\n\r\n            var offsetX = Laya.stage.mouseX - this.lastMouseX;\r\n            var offsetY = Laya.stage.mouseY - this.lastMouseY;\r\n\r\n            var yprElem = this.yawPitchRoll;\r\n            yprElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n            yprElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n            this.updateRotation();\r\n        }\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n\r\n\r\n    }\r\n    mouseDown() {\r\n        //获得鼠标的旋转值\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n        //获得鼠标的xy值\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        //设置bool值\r\n        this.isMouseDown = true;\r\n\r\n    }\r\n    mouseUp() {\r\n        //设置bool值\r\n        this.isMouseDown = false;\r\n    }\r\n    /**\r\n     * 向前移动。\r\n     */\r\n    moveForward(distance) {\r\n        this._tempVector3.x = 0;\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = distance;\r\n        this.camera.transform.translate(this._tempVector3);\r\n    }\r\n    /**\r\n     * 向右移动。\r\n     */\r\n    moveRight(distance) {\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = 0;\r\n        this._tempVector3.x = distance;\r\n        this.camera.transform.translate(this._tempVector3);\r\n    }\r\n    /**\r\n     * 向上移动。\r\n     */\r\n    moveVertical(distance) {\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n    }\r\n\r\n    updateRotation() {\r\n        if (Math.abs(this.yawPitchRoll.y) < 1.50) {\r\n            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);\r\n            this.tempRotationZ.cloneTo(this.camera.transform.localRotation);\r\n            this.camera.transform.localRotation = this.camera.transform.localRotation;\r\n        }\r\n    }\r\n}","export module GlobalConfig {\r\n    export let ResPath = \"https://layaair.ldc.layabox.com/demo2/h5/\";\r\n}","import { EventManager, EventType } from \"./EventManager\";\r\nimport { GlobalConfig } from \"./GlobalConfig\";\r\n\r\n/**\r\n * 场景(单例)\r\n */\r\nexport default abstract class SingletonScene {\r\n    /**\r\n     * 每个页面单独的返回主页按钮\r\n     */\r\n    backbtn: Laya.Button;\r\n\r\n    constructor() {\r\n        /**\r\n         * 注册设置场景按钮\r\n         */\r\n        EventManager.RegistEvent(EventType.SETSCENE3D, Laya.Handler.create(this, this.SetScene3d));\r\n    }\r\n\r\n    // 是否展示\r\n    public isShow: boolean = false;\r\n    // 当前场景\r\n    public CurrentScene: Laya.Scene3D;\r\n    /**\r\n     *\r\n     * @param this 单例\r\n     * @returns\r\n     */\r\n    static getInstance<T extends {}>(this: new () => T): T {\r\n        if (!(<any>this).instance) {\r\n            (<any>this).instance = new this();\r\n        }\r\n        return (<any>this).instance;\r\n    }\r\n\r\n    /**\r\n     * 增加按钮\r\n     * @param x \r\n     * @param y \r\n     * @param width \r\n     * @param height \r\n     * @param text \r\n     * @param clickFun \r\n     */\r\n    private addButton(x: number, y: number, width: number, height: number, text: string, clickFun: Function): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function () {\r\n            this.backbtn = new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", text);\r\n            Laya.stage.addChild(this.backbtn);\r\n            this.backbtn.size(width, height);\r\n            this.backbtn.pos(x, y);\r\n            this.backbtn.on(Laya.Event.CLICK, this, clickFun);\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * 设置当前场景\r\n     * @param scene 场景\r\n     */\r\n    public SetScene3d(scene: Laya.Scene3D) {\r\n        if (!this.CurrentScene) {\r\n            this.CurrentScene = scene;\r\n            Laya.stage.addChild(this.CurrentScene);\r\n            this.Show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取当前场景\r\n     * @returns 场景\r\n     */\r\n    public GetScene3d(): Laya.Scene3D {\r\n        return this.CurrentScene;\r\n    }\r\n\r\n    /**\r\n     * 自动设置current场景\r\n     * @param scene 场景\r\n     */\r\n    public AutoSetScene3d(scene: Laya.Scene3D) {\r\n        EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n        EventManager.DispatchEvent(EventType.SETSCENE3D, scene);\r\n    }\r\n\r\n    /**\r\n     * 增加返回主页按钮\r\n     */\r\n    AddReturn() {\r\n        this.addButton(50, 50, 100, 40, \"返回主页\", function (e) {\r\n            this.Hide();\r\n            if (this.backbtn) {\r\n                this.backbtn.visible = false;\r\n                this.backbtn.destroy();\r\n                this.backbtn = null;\r\n            }\r\n            EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n            this.isShow = false;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 显示\r\n     */\r\n    Show(): void {\r\n        if (this.CurrentScene) {\r\n            this.CurrentScene.visible = true;\r\n            this.AddReturn();\r\n        }\r\n        //显示性能面板\r\n        Laya.Stat.show();\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     */\r\n    Hide(): void {\r\n        if (this.CurrentScene) {\r\n            this.CurrentScene.visible = false;\r\n        }\r\n        //隐藏性能面板\r\n        Laya.Stat.hide();\r\n    }\r\n\r\n    /**\r\n     * 点击\r\n     */\r\n    Click(): void {\r\n        this.isShow = !this.isShow;\r\n        if (this.isShow) {\r\n            this.Show();\r\n        }\r\n        else {\r\n            this.Hide();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 销毁\r\n     */\r\n    Destroy(): void {\r\n        if (this.CurrentScene) {\r\n            this.CurrentScene.destroy();\r\n        }\r\n    }\r\n}\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class LoadResourceDemo extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private sprite3D: Laya.Sprite3D;\r\n    private pangzi: Laya.Sprite3D;\r\n    private pangziAnimator: Laya.Animator;\r\n    constructor() {\r\n        super();\r\n\r\n        this.s_scene = null;\r\n        this.sprite3D = null;\r\n\r\n        //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        //Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        //Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        //加载资源\r\n        //this.LoadRes();\r\n\r\n        //批量预加载方式\r\n        this.PreloadingRes();\r\n    }\r\n    LoadRes() {\r\n        //场景加载\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/XunLongShi/XunLongShi.ls\", Laya.Handler.create(this, function (scene) {\r\n            this.s_scene = scene;\r\n            this.AutoSetScene3d(this.s_scene);\r\n            //添加相机\r\n            var camera = new Laya.Camera();\r\n            this.s_scene.addChild(camera);\r\n            //设置相机清楚标记，使用天空\r\n            camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n            //调整相机的位置\r\n            camera.transform.translate(new Laya.Vector3(3, 20, 47));\r\n            //相机视角控制组件(脚本)\r\n            camera.addComponent(CameraMoveScript);\r\n            //添加光照\r\n            var directionLight = this.s_scene.addChild(new Laya.DirectionLight());\r\n            directionLight.color = new Laya.Vector3(1, 1, 1);\r\n            directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n            //材质加载\r\n            Laya.BaseMaterial.load(GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox2/skyBox2.lmat\", Laya.Handler.create(null, function (mat): void {\r\n                //获取相机的天空渲染器\r\n                var skyRenderer: Laya.SkyRenderer = camera.skyRenderer;\r\n                //创建天空盒的mesh\r\n                skyRenderer.mesh = Laya.SkyBox.instance;\r\n                //设置天空盒材质\r\n                skyRenderer.material = mat;\r\n            }));\r\n\r\n            (scene.getChildByName('Scenes').getChildByName('HeightMap')).active = false;\r\n            (scene.getChildByName('Scenes').getChildByName('Area')).active = false;\r\n\r\n            //加载纹理\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\", Laya.Handler.create(null, function (tex): void {\r\n                //使用纹理\r\n                var earth1 = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(5, 32, 32))) as Laya.MeshSprite3D;\r\n                earth1.transform.translate(new Laya.Vector3(17, 20, 0));\r\n\r\n                var earthMat = new Laya.BlinnPhongMaterial();\r\n                earthMat.albedoTexture = tex;\r\n                earthMat.albedoIntensity = 1;\r\n                earth1.meshRenderer.material = earthMat;\r\n            }));\r\n\r\n            //加载Mesh\r\n            Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\", Laya.Handler.create(this, function (mesh) {\r\n                var layaMonkey = scene.addChild(new Laya.MeshSprite3D(mesh));\r\n                layaMonkey.transform.localScale = new Laya.Vector3(4, 4, 4);\r\n                layaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n                layaMonkey.transform.translate(new Laya.Vector3(5, 3, 13));\r\n            }));\r\n\r\n            //加载精灵\r\n            Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (sp) {\r\n                var layaMonkey2 = scene.addChild(sp);\r\n                layaMonkey2.transform.localScale = new Laya.Vector3(4, 4, 4);\r\n                layaMonkey2.transform.translate(new Laya.Vector3(-10, 13, 0));\r\n            }));\r\n\r\n            //加载胖子精灵\r\n            Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZiNoAni.lh\", Laya.Handler.create(this, function (sp: Laya.Sprite3D): void {\r\n                this.pangzi = scene.addChild(sp) as Laya.Sprite3D;\r\n                this.pangzi.transform.localScale = new Laya.Vector3(4, 4, 4);\r\n                this.pangzi.transform.translate(new Laya.Vector3(-20, 13, 0));\r\n                //获取动画组件\r\n                this.pangziAnimator = this.pangzi.getChildAt(0).getComponent(Laya.Animator) as Laya.Animator;\r\n\r\n                Laya.AnimationClip.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/Assets/Model3D/PangZi-Take 001.lani\", Laya.Handler.create(this, function (aniClip: Laya.AnimationClip): void {\r\n                    //创建动作状态\r\n                    var state1 = new Laya.AnimatorState();\r\n                    //动作名称\r\n                    state1.name = \"hello\";\r\n                    //动作播放起始时间\r\n                    state1.clipStart = 0 / 581;\r\n                    //动作播放结束时间\r\n                    state1.clipEnd = 581 / 581;\r\n                    //设置动作\r\n                    state1.clip = aniClip;\r\n                    //设置动作循环\r\n                    state1.clip.islooping = true;\r\n                    //为动画组件添加一个动作状态\r\n                    this.pangziAnimator.addState(state1);\r\n                    //播放动作\r\n                    this.pangziAnimator.play(\"hello\");\r\n                }));\r\n            }));\r\n\r\n        }));\r\n    }\r\n    //批量预加载方式\r\n    PreloadingRes() {\r\n        //预加载所有资源\r\n        var resource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/scene/XunLongShi/XunLongShi.ls\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox2/skyBox2.lmat\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZiNoAni.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/Assets/Model3D/PangZi-Take 001.lani\"];\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onPreLoadFinish));\r\n    }\r\n    onPreLoadFinish() {\r\n        //初始化3D场景\r\n        this.s_scene = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/XunLongShi/XunLongShi.ls\") as Laya.Scene3D;\r\n        this.AutoSetScene3d(this.s_scene);\r\n        //添加相机\r\n        var camera = new Laya.Camera();\r\n        this.s_scene.addChild(camera);\r\n        //设置相机清楚标记，使用天空\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n        //调整相机的位置\r\n        camera.transform.translate(new Laya.Vector3(3, 20, 47));\r\n        //相机视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //添加光照\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        //光照颜色\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //使用材质\r\n        var skyboxMaterial = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox2/skyBox2.lmat\");\r\n        var skyRenderer = camera.skyRenderer;\r\n        skyRenderer.mesh = Laya.SkyBox.instance;\r\n        skyRenderer.material = skyboxMaterial;\r\n\r\n        //激活场景中的子节点\r\n        (this.s_scene.getChildByName('Scenes').getChildByName('HeightMap')).active = false;\r\n        (this.s_scene.getChildByName('Scenes').getChildByName('Area')).active = false;\r\n\r\n        //使用纹理\r\n        var earth1 = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(5, 32, 32))) as Laya.MeshSprite3D;\r\n        earth1.transform.translate(new Laya.Vector3(17, 20, 0));\r\n\r\n        var earthMat = new Laya.BlinnPhongMaterial();\r\n        earthMat.albedoTexture = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\");\r\n        earthMat.albedoIntensity = 1;\r\n        earth1.meshRenderer.material = earthMat;\r\n\r\n        //创建一个精灵\r\n        this.sprite3D = new Laya.Sprite3D();\r\n        this.s_scene.addChild(this.sprite3D);\r\n        //获取Mesh资源\r\n        var mesh = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\");\r\n        //为精灵设置Mesh资源\r\n        var layaMonkey = new Laya.MeshSprite3D(mesh);\r\n        this.sprite3D.addChild(layaMonkey);\r\n        layaMonkey.transform.localScale = new Laya.Vector3(4, 4, 4);\r\n        layaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n        layaMonkey.transform.translate(new Laya.Vector3(5, 3, 13));\r\n\r\n        //使用精灵\r\n        var sp = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\");\r\n        var layaMonkey2 = this.s_scene.addChild(sp) as Laya.MeshSprite3D;\r\n        layaMonkey2.transform.localScale = new Laya.Vector3(4, 4, 4);\r\n        layaMonkey2.transform.translate(new Laya.Vector3(-10, 13, 0));\r\n\r\n        //使用精灵\r\n        this.pangzi = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZiNoAni.lh\");\r\n        this.s_scene.addChild(this.pangzi);\r\n        this.pangzi.transform.localScale = new Laya.Vector3(4, 4, 4);\r\n        this.pangzi.transform.translate(new Laya.Vector3(-20, 13, 0));\r\n\r\n        //获取动画组件\r\n        this.pangziAnimator = this.pangzi.getChildAt(0).getComponent(Laya.Animator) as Laya.Animator;\r\n\r\n        var pangAni = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/Assets/Model3D/PangZi-Take 001.lani\") as Laya.AnimationClip;\r\n        //创建动作状态\r\n        var state1 = new Laya.AnimatorState();\r\n        //动作名称\r\n        state1.name = \"hello\";\r\n        //动作播放起始时间\r\n        state1.clipStart = 0 / 581;\r\n        //动作播放结束时间\r\n        state1.clipEnd = 581 / 581;\r\n        //设置动作\r\n        state1.clip = pangAni;\r\n        //设置动作循环\r\n        state1.clip.islooping = true;\r\n        //为动画组件添加一个动作状态\r\n        this.pangziAnimator.addState(state1);\r\n        //播放动作\r\n        this.pangziAnimator.play(\"hello\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class GarbageCollection extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private changeActionButton: Laya.Button;\r\n    private castType;\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        this.castType = 0;\r\n        this.s_scene = null;\r\n\r\n        this.loadScene();\r\n        this.addBtn(200, 200, 160, 40, \"释放显存\", function (e) {\r\n            this.castType++;\r\n            this.castType %= 2;\r\n            switch (this.castType) {\r\n                case 0:\r\n                    (e.target).label = \"释放显存\";\r\n                    this.loadScene();\r\n                    break;\r\n                case 1:\r\n                    (e.target).label = \"加载场景\";\r\n                    if (this.s_scene)//_scene不为空表示场景已加载完成\r\n                        this.garbageCollection();\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    private addBtn(x: number, y: number, width: number, height: number, text: string, clickFun: Function): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function () {\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", text)) as Laya.Button;\r\n            this.changeActionButton.size(width, height);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(x, y);\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, clickFun);\r\n        }));\r\n    }\r\n    private loadScene(): void {\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/ParticleScene/Example_01.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D) {\r\n            this.s_scene = scene;\r\n            this.AutoSetScene3d(this.s_scene);\r\n            var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100));\r\n            camera.transform.translate(new Laya.Vector3(0, 1, 0));\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n    }\r\n    private garbageCollection(): void {\r\n        this.s_scene.destroy();//销毁场景\r\n        this.s_scene = null;\r\n        Laya.Resource.destroyUnusedResources();//销毁无用资源(没有被场景树引用,并且没有加资源锁的)\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}\r\n\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Loader = Laya.Loader;\r\nimport glTFLoader = Laya.glTFLoader;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport TextureCube = Laya.TextureCube;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class LoadGltfRosource extends SingletonScene {\r\n\r\n    s_scene: Scene3D;\r\n    camera: Camera;\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n\r\n        // Stat.show();\r\n\r\n        Shader3D.debugMode = true;\r\n\r\n        this.s_scene = new Scene3D();\r\n        this.camera = <Camera>this.s_scene.addChild(new Camera);\r\n        this.camera.addComponent(CameraMoveScript);\r\n\r\n        this.camera.transform.position = new Vector3(0, 1, 7);\r\n\r\n        //light\r\n        var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n        directionLight.color = new Vector3(0.6, 0.6, 0.6);\r\n        //设置平行光的方向\r\n        var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        // 配置环境反射贴图\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_depthNormalScene/Conventional/Assets/Scenes/depthNormalSceneGIReflection.ltcb.ls\", Handler.create(this, function () {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.ambientColor = new Vector3(0.858, 0.858, 0.858);\r\n            this.s_scene.reflection = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_depthNormalScene/Conventional/Assets/Scenes/depthNormalSceneGIReflection.ltcb.ls\") as TextureCube;\r\n            this.s_scene.reflectionDecodingFormat = 1;\r\n            this.s_scene.reflectionIntensity = 1;\r\n        }));\r\n\r\n        // 初始化 glTFLoader\r\n        glTFLoader.init();\r\n\r\n        var gltfResource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/gltf/RiggedFigure/RiggedFigure.gltf\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/gltf/Duck/Duck.gltf\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/gltf/AnimatedCube/AnimatedCube.gltf\"\r\n        ];\r\n\r\n        Laya.loader.create(gltfResource, Handler.create(this, this.onGLTFComplate));\r\n    }\r\n\r\n    onGLTFComplate(success: boolean): void {\r\n        if (!success) {\r\n            // 加载失败\r\n            console.log(\"gltf load failed\");\r\n            return;\r\n        }\r\n        var RiggedFigure: Sprite3D = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/gltf/RiggedFigure/RiggedFigure.gltf\");\r\n        this.s_scene.addChild(RiggedFigure);\r\n        RiggedFigure.transform.position = new Vector3(-2, 0, 0);\r\n        console.log(\"RiggedFigure: This model is licensed under a Creative Commons Attribution 4.0 International License.\");\r\n\r\n        var duck: Sprite3D = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/gltf/Duck/Duck.gltf\");\r\n        this.s_scene.addChild(duck);\r\n\r\n        var cube: Sprite3D = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/gltf/AnimatedCube/AnimatedCube.gltf\");\r\n        this.s_scene.addChild(cube);\r\n        cube.transform.position = new Vector3(2.5, 0.6, 0);\r\n        cube.transform.setWorldLossyScale(new Vector3(0.6, 0.6, 0.6));\r\n    }\r\n\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { LoadResourceDemo } from \"./LoadResourceDemo\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { GarbageCollection } from \"./GarbageCollection\";\r\nimport { LoadGltfRosource } from \"./LoadGltfRosource\";\r\n\r\n\r\nexport class ResourceMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"资源加载\", \"释放显存\", \"加载Gltf资源\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                LoadResourceDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                GarbageCollection.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                LoadGltfRosource.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\"\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nexport class SceneLoad1 extends SingletonScene {\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeScene.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            var camera: Laya.Camera = scene.getChildByName(\"Camera\") as Laya.Camera;\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class SceneLoad2 extends SingletonScene {\r\n    constructor() {\r\n        super();\r\n        //初始化引擎\r\n        Laya3D.init(0, 0);\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        //显示性能面板\r\n        Laya.Stat.show();\r\n\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/XunLongShi/XunLongShi.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            //Laya.stage.addChild(scene);\r\n            //开启雾化效果\r\n            scene.enableFog = true;\r\n            //设置雾化的颜色\r\n            scene.fogColor = new Laya.Vector3(0, 0, 0.6);\r\n            //设置雾化的起始位置，相对于相机的距离\r\n            scene.fogStart = 10;\r\n            //设置雾化最浓处的距离。\r\n            scene.fogRange = 40;\r\n            //设置场景环境光\r\n            scene.ambientColor = new Laya.Vector3(0.6, 0, 0);\r\n\r\n            //添加相机\r\n            var camera = new Laya.Camera();\r\n            scene.addChild(camera);\r\n            //调整相机的位置\r\n            camera.transform.translate(new Laya.Vector3(10, 15, -25));\r\n            camera.transform.rotate(new Laya.Vector3(-20, 170, 0), false, false);\r\n            //设置相机横纵比\r\n            camera.aspectRatio = 0;\r\n            //设置相机近距裁剪\r\n            camera.nearPlane = 0.1;\r\n            //设置相机远距裁剪\r\n            camera.farPlane = 1000;\r\n            //相机设置清楚标记\r\n            camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n            //设置摄像机视野范围（角度）\r\n            camera.fieldOfView = 60;\r\n            //设置背景颜色\r\n            //camera.clearColor = new Vector4(0,0,0.6,1);    \r\n            //加入摄像机移动控制脚本\r\n            camera.addComponent(CameraMoveScript);\r\n\r\n            //加载相机天空盒材质\r\n            Laya.Material.load(GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox3/SkyBox.lmat\", Laya.Handler.create(this, function (mat: Laya.Material): void {\r\n                var skyRenderer = camera.skyRenderer;\r\n                skyRenderer.mesh = Laya.SkyBox.instance;\r\n                skyRenderer.material = mat;\r\n            }));\r\n\r\n            //创建方向光\r\n            var light = scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n            //移动灯光位置\r\n            light.transform.translate(new Laya.Vector3(0, 2, 5));\r\n            //调整灯光方向\r\n            var mat: Laya.Matrix4x4 = light.transform.worldMatrix;\r\n            mat.setForward(new Laya.Vector3(0, -5, 1));\r\n            light.transform.worldMatrix = mat;\r\n            //设置灯光漫反射颜色\r\n            light.diffuseColor = new Laya.Vector3(0.3, 0.3, 0.3);\r\n\r\n            //激活场景中的两个子节点\r\n            (scene.getChildByName('Scenes').getChildByName('HeightMap') as Laya.MeshSprite3D).active = false;\r\n            (scene.getChildByName('Scenes').getChildByName('Area') as Laya.MeshSprite3D).active = false;\r\n        }));\r\n\r\n    }\r\n}\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class EnvironmentalReflection extends SingletonScene {\r\n\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private sprite3D: Laya.Sprite3D;\r\n    private scene: Laya.Scene3D = null;\r\n    private teapot: Laya.MeshSprite3D = null;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        //创建场景\r\n        var scene = new Laya.Scene3D();\r\n        //Laya.stage.addChild(scene);\r\n\r\n        //设置场景的反射模式(全局有效)\r\n        scene.reflectionMode = Laya.Scene3D.REFLECTIONMODE_CUSTOM;\r\n\r\n        //初始化照相机\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 2, 3));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        //为相机添加视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n        //设置相机的清除标识为天空盒\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n\r\n        //天空盒\r\n        Laya.BaseMaterial.load(GlobalConfig.ResPath + \"res/threeDimen/skyBox/DawnDusk/SkyBox.lmat\", Laya.Handler.create(this, function (mat: Laya.SkyBoxMaterial): void {\r\n            this.AutoSetScene3d(scene);\r\n\r\n            //获取相机的天空盒渲染体\r\n            var skyRenderer = camera.skyRenderer as Laya.SkyRenderer;\r\n            //设置天空盒mesh\r\n            skyRenderer.mesh = Laya.SkyBox.instance;\r\n            //设置天空盒材质\r\n            skyRenderer.material = mat;\r\n            //设置场景的反射贴图\r\n            scene.customReflection = mat.textureCube;\r\n            //设置曝光强度\r\n            var exposureNumber: Number = 0;\r\n            mat.exposure = 0.6 + 1;\r\n        }));\r\n        //创建平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n\r\n        //添加一个精灵\r\n        this.sprite3D = new Laya.Sprite3D();\r\n        scene.addChild(this.sprite3D);\r\n        //加载Mesh\r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/staticModel/teapot/teapot-Teapot001.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n            this.teapot = this.sprite3D.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            this.teapot.transform.position = new Laya.Vector3(0, 1.75, 2);\r\n            this.teapot.transform.rotate(new Laya.Vector3(-90, 0, 0), false, false);\r\n            this.sprite3D.addChild(this.teapot);\r\n            //实例PBR材质\r\n            var pbrMat = new Laya.PBRStandardMaterial();\r\n            //开启该材质的反射\r\n            // pbrMat.enableReflection = true;\r\n            //设置材质的金属度，尽量高点，反射效果更明显\r\n            pbrMat.metallic = 1;\r\n            this.teapot.meshRenderer.material = pbrMat;\r\n        }));\r\n\r\n    }\r\n}\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class LightmapScene extends SingletonScene {\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/ParticleScene/Example_01.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n\r\n            var camera = scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n            camera.transform.translate(new Laya.Vector3(0, 1, 0));\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { SceneLoad1 } from \"./SceneLoad1\";\r\nimport { SceneLoad2 } from \"./SceneLoad2\";\r\nimport { EnvironmentalReflection } from \"./EnvironmentalReflection\";\r\nimport { LightmapScene } from \"./LightmapScene\";\r\n\r\nexport class Scene3DMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"场景加载1\", \"场景加载2\", \"环境反射\", \"光照贴图\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                SceneLoad1.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                SceneLoad2.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                EnvironmentalReflection.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                LightmapScene.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class CameraDemo extends SingletonScene {\r\n    private index = 0;\r\n    private camera: Laya.Camera;\r\n    private changeActionButton: Laya.Button;\r\n    private changeActionButton2: Laya.Button;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(1000, 500);\r\n        // //适配模式\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //开启统计信息\r\n        // Laya.Stat.show();\r\n        //预加载所有资源\r\n        var resource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/texture/layabox.png\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox2/skyBox2.lmat\"];\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onPreLoadFinish));\r\n    }\r\n\r\n    private onPreLoadFinish() {\r\n        //创建场景\r\n        var scene = new Laya.Scene3D();\r\n        // Laya.stage.addChild(scene);\r\n        this.AutoSetScene3d(scene);\r\n\r\n        //创建相机，构造函数的三个参数为相机横纵比，近距裁剪，远距裁剪\r\n        this.camera = new Laya.Camera(0, 0.1, 100);\r\n        this.camera.transform.translate(new Laya.Vector3(0, 0.7, 5));\r\n        this.camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        //相机设置清楚标记,使用固定颜色\r\n        this.camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SOLIDCOLOR;\r\n        //使用默认颜色\r\n        //this.camera.clearColor = new Laya.Vector4(0, 0.2, 0.6, 1);\r\n        //设置摄像机视野范围（角度）\r\n        this.camera.fieldOfView = 60;\r\n        //为相机添加视角控制组件(脚本)\r\n        this.camera.addComponent(CameraMoveScript);\r\n        scene.addChild(this.camera);\r\n\r\n        //添加平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        scene.addChild(directionLight);\r\n        //设置平行光颜色\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n        var sprite = new Laya.Sprite3D;\r\n        scene.addChild(sprite);\r\n\r\n        //正方体\r\n        var box = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(0.5, 0.5, 0.5));\r\n        sprite.addChild(box);\r\n        box.transform.position = new Laya.Vector3(0.0, 0.0, 2);\r\n        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n\r\n        //创建linnPhong材质\r\n        var materialBill = new Laya.BlinnPhongMaterial;\r\n        box.meshRenderer.material = materialBill;\r\n        //为材质加载纹理\r\n        var tex = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/texture/layabox.png\") as Laya.Texture2D;\r\n        //设置反照率贴图\r\n        materialBill.albedoTexture = tex;\r\n\r\n        this.loadUI();\r\n\r\n    }\r\n    private loadUI() {\r\n\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n\r\n            this.changeActionButton = new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"正透切换\");\r\n            Laya.stage.addChild(this.changeActionButton);\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2 - 100, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function (): void {\r\n                this.index++;\r\n                if (this.index % 2 === 1) {\r\n                    //正交投影属性设置\r\n                    this.camera.orthographic = true;\r\n                    //正交垂直矩阵距离,控制3D物体远近与显示大小\r\n                    this.camera.orthographicVerticalSize = 7;\r\n                }\r\n                else {\r\n                    //正交投影属性设置,关闭\r\n                    this.camera.orthographic = false;\r\n                }\r\n            });\r\n\r\n            this.changeActionButton2 = new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"切换背景\");\r\n            Laya.stage.addChild(this.changeActionButton2);\r\n            this.changeActionButton2.size(160, 40);\r\n            this.changeActionButton2.labelBold = true;\r\n            this.changeActionButton2.labelSize = 30;\r\n            this.changeActionButton2.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton2.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton2.pos(Laya.stage.width / 2 - this.changeActionButton2.width * Laya.Browser.pixelRatio / 2 + 100, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton2.on(Laya.Event.CLICK, this, function () {\r\n                this.index++;\r\n                if (this.index % 2 === 1) {\r\n                    //设置相机的清除标识为天空盒\r\n                    this.camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n                    //使用加载天空盒材质\r\n                    var skyboxMaterial = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox2/skyBox2.lmat\") as Laya.BaseMaterial;\r\n                    //获取相机的天空渲染器\r\n                    var skyRenderer = this.camera.skyRenderer;\r\n                    //设置相机的天空渲染器的mesh\r\n                    skyRenderer.mesh = Laya.SkyBox.instance;\r\n                    //设置相机的天空渲染器的material\r\n                    skyRenderer.material = skyboxMaterial;\r\n                }\r\n                else {\r\n                    //设置相机的清除标识为为固定颜色\r\n                    this.camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SOLIDCOLOR;\r\n                }\r\n            });\r\n\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n\r\n        if (this.changeActionButton2) {\r\n            this.changeActionButton2.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n\r\n        if (this.changeActionButton2) {\r\n            this.changeActionButton2.visible = false;\r\n        }\r\n    }\r\n\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class CameraLookAt extends SingletonScene {\r\n    private index = 0;\r\n    private camera: Laya.Camera;\r\n    private box: Laya.MeshSprite3D;\r\n    private capsule: Laya.MeshSprite3D;\r\n    private cylinder: Laya.MeshSprite3D;\r\n    private upVector: Laya.Vector3 = new Laya.Vector3(0, 1, 0);\r\n    private changeActionButton: Laya.Button;\r\n    constructor() {\r\n        super();\r\n        //初始化引擎\r\n        Laya3D.init(1000, 500);\r\n        //适配模式\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n        //开启统计信息\r\n        Laya.Stat.show();\r\n        //预加载所有资源\r\n        var resource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/texture/layabox.png\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox3/skyBox3.lmat\"];\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onPreLoadFinish));\r\n    }\r\n\r\n    private onPreLoadFinish() {\r\n        //创建场景\r\n        var scene = new Laya.Scene3D();\r\n        // Laya.stage.addChild(scene);\r\n        this.AutoSetScene3d(scene);\r\n\r\n        //创建相机，构造函数的三个参数为相机横纵比，近距裁剪，远距裁剪\r\n        this.camera = new Laya.Camera(0, 0.1, 100);\r\n        this.camera.transform.translate(new Laya.Vector3(0, 0.7, 5));\r\n        this.camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        //相机设置清楚标记,使用固定颜色\r\n        this.camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SOLIDCOLOR;\r\n        //使用默认颜色\r\n        //this.camera.clearColor = new Laya.Vector4(0, 0.2, 0.6, 1);\r\n        //设置摄像机视野范围（角度）\r\n        this.camera.fieldOfView = 60;\r\n        //为相机添加视角控制组件(脚本)\r\n        this.camera.addComponent(CameraMoveScript);\r\n        scene.addChild(this.camera);\r\n\r\n        //添加平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        scene.addChild(directionLight);\r\n        //设置平行光颜色\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n        var sprite = new Laya.Sprite3D;\r\n        scene.addChild(sprite);\r\n\r\n        //正方体\r\n        this.box = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(0.5, 0.5, 0.5));\r\n        sprite.addChild(this.box);\r\n        this.box.transform.position = new Laya.Vector3(1.5, 0.0, 2);\r\n        this.box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n\r\n        //胶囊体\r\n        this.capsule = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(0.25, 1, 10, 20));\r\n        this.capsule.transform.position = new Laya.Vector3(-1.5, 0.0, 2);\r\n        sprite.addChild(this.capsule);\r\n\r\n        //圆柱\r\n        this.cylinder = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCylinder(0.25, 1, 20));\r\n        this.cylinder.transform.position = new Laya.Vector3(0.0, 0.0, 2);\r\n        sprite.addChild(this.cylinder);\r\n\r\n        //创建linnPhong材质\r\n        var materialBill = new Laya.BlinnPhongMaterial;\r\n        this.box.meshRenderer.material = materialBill;\r\n        this.capsule.meshRenderer.material = materialBill;\r\n        this.cylinder.meshRenderer.material = materialBill;\r\n        //为材质加载纹理\r\n        var tex = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/texture/layabox.png\") as Laya.Texture2D;\r\n        //设置反照率贴图\r\n        materialBill.albedoTexture = tex;\r\n\r\n        this.loadUI();\r\n    }\r\n    private loadUI(): void {\r\n\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"切换注视目标\")) as Laya.Button;\r\n            this.changeActionButton.size(200, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function (): void {\r\n                this.index++;\r\n                if (this.index % 3 === 1) {\r\n                    //摄像机捕捉模型目标\r\n                    this.camera.transform.lookAt(this.box.transform.position, this.upVector);\r\n                }\r\n                else if (this.index % 3 === 2) {\r\n                    //摄this.changeActionButton像机捕捉模型目标\r\n                    this.camera.transform.lookAt(this.cylinder.transform.position, this.upVector);\r\n                }\r\n                else {\r\n                    //摄像机捕捉模型目标\r\n                    this.camera.transform.lookAt(this.capsule.transform.position, this.upVector);\r\n                }\r\n            });\r\n\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class MultiCamera extends SingletonScene{\r\n    private camera1: Laya.Camera;\r\n    private camera2: Laya.Camera;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        var scene = new Laya.Scene3D();\r\n        this.camera1 = scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera1.clearColor = new Laya.Vector4(0.3, 0.3, 0.3, 1.0);\r\n        this.camera1.transform.translate(new Laya.Vector3(0, 0, 1.5));\r\n        this.camera1.normalizedViewport = new Laya.Viewport(0, 0, 0.5, 1.0);\r\n\r\n        this.camera2 = scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera2.clearColor = new Laya.Vector4(0.0, 0.0, 1.0, 1.0);\r\n        this.camera2.transform.translate(new Laya.Vector3(0, 0, 1.5));\r\n        this.camera2.normalizedViewport = new Laya.Viewport(0.5, 0.0, 0.5, 0.5);\r\n        this.camera2.addComponent(CameraMoveScript);\r\n        this.camera2.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n        Laya.BaseMaterial.load(GlobalConfig.ResPath + \"res/threeDimen/skyBox/skyBox2/skyBox2.lmat\", Laya.Handler.create(this, function (mat: Laya.SkyBoxMaterial): void {\r\n            this.AutoSetScene3d(scene);\r\n            var skyRenderer: Laya.SkyRenderer = this.camera2.skyRenderer;\r\n            skyRenderer.mesh = Laya.SkyBox.instance;\r\n            skyRenderer.material = mat;\r\n        }));\r\n\r\n        var directionLight: Laya.DirectionLight = scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (sp: Laya.Sprite3D): void {\r\n            var layaMonkey: Laya.Sprite3D = scene.addChild(sp) as Laya.Sprite3D;\r\n        }));\r\n    }\r\n\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class CameraRay extends SingletonScene {\r\n    private camera: Laya.Camera;\r\n    private _ray: Laya.Ray;\r\n    private _outHitResult: Laya.HitResult = new Laya.HitResult();\r\n    private outs: Array<Laya.HitResult> = new Array<Laya.HitResult>();\r\n    private posX: number = 0.0;\r\n    private posY: number = 0.0;\r\n    private point: Laya.Vector2 = new Laya.Vector2();\r\n\r\n    private tmpVector: Laya.Vector3;\r\n    private albedoColor: Laya.Vector4;\r\n    private s_scene: Laya.Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        //Laya.stage.addChild(this.scene);\r\n\r\n        //初始化照相机\r\n        this.camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(this.camera);\r\n        this.camera.transform.translate(new Laya.Vector3(0, 6, 9.5));\r\n        this.camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        this.camera.addComponent(CameraMoveScript);\r\n        //this.camera.clearColor = null;\r\n\r\n        //初始化变量\r\n        this.tmpVector = new Laya.Vector3(0, 0, 0)\r\n        this.albedoColor = new Laya.Vector4(1.0, 0.0, 0.0, 1.0);\r\n\r\n        //方向光\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //平面\r\n        var plane = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10, 10, 10, 10));\r\n        this.s_scene.addChild(plane);\r\n        var planeMat = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Laya.Handler.create(this, function (tex): void {\r\n            planeMat.albedoTexture = tex;\r\n            this.AutoSetScene3d(this.s_scene);\r\n        }));\r\n        //设置纹理平铺和偏移\r\n        planeMat.tilingOffset = new Laya.Vector4(10, 10, 0, 0);\r\n        //设置材质\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        //平面添加物理碰撞体组件\r\n        var planeStaticCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        //创建盒子形状碰撞器\r\n        var planeShape = new Laya.BoxColliderShape(10, 0, 10);\r\n        //物理碰撞体设置形状\r\n        planeStaticCollider.colliderShape = planeShape;\r\n        //物理碰撞体设置摩擦力\r\n        planeStaticCollider.friction = 2;\r\n        //物理碰撞体设置弹力\r\n        planeStaticCollider.restitution = 0.3;\r\n        //添加鼠标事件\r\n        this.addMouseEvent();\r\n        //射线初始化（必须初始化）\r\n        this._ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));\r\n    }\r\n\r\n    public addBoxXYZ(x, y, z): void {\r\n        var mat1 = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(null, function (tex) {\r\n            mat1.albedoTexture = tex;\r\n        }));\r\n\r\n        //随机生成坐标值\r\n        var sX = Math.random() * 0.75 + 0.25;\r\n        var sY = Math.random() * 0.75 + 0.25;\r\n        var sZ = Math.random() * 0.75 + 0.25;\r\n        //创建盒型MeshSprite3D\r\n        var box = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ));\r\n        this.s_scene.addChild(box);\r\n        //设置材质\r\n        box.meshRenderer.material = mat1;\r\n        this.tmpVector.setValue(x, y, z);\r\n        box.transform.position = this.tmpVector;\r\n        //设置欧拉角\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        box.transform.rotationEuler = this.tmpVector;\r\n        //创建刚体碰撞器\r\n        var rigidBody = box.addComponent(Laya.Rigidbody3D) as Laya.Rigidbody3D;\r\n        //创建盒子形状碰撞器\r\n        var boxShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n    private addMouseEvent(): void {\r\n        //鼠标事件监听\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    }\r\n    private onMouseDown() {\r\n        if (!this.isShow) {\r\n            return;\r\n        }\r\n        this.posX = this.point.x = Laya.MouseManager.instance.mouseX;\r\n        this.posY = this.point.y = Laya.MouseManager.instance.mouseY;\r\n        //产生射线\r\n        this.camera.viewportPointToRay(this.point, this._ray);\r\n        //拿到射线碰撞的物体\r\n        this.s_scene.physicsSimulation.rayCastAll(this._ray, this.outs);\r\n        //如果碰撞到物体\r\n        if (this.outs.length != 0) {\r\n\r\n            for (var i = 0; i < this.outs.length; i++)\r\n                //在射线击中的位置添加一个立方体\r\n                this.addBoxXYZ(this.outs[i].point.x, this.outs[i].point.y, this.outs[i].point.z);\r\n        }\r\n\r\n    }\r\n\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class CameraLayer extends SingletonScene {\r\n    private changeActionButton: Laya.Button;\r\n    private layerIndex;\r\n    private camera: Laya.Camera;\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        this.changeActionButton = null;\r\n        this.layerIndex = null;\r\n        this.camera = null;\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        //Laya.stage.addChild(this._scene);\r\n\r\n        //添加相机\r\n        this.camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(this.camera);\r\n        this.camera.transform.translate(new Laya.Vector3(0, 0.7, 3));\r\n        this.camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        //相机添加视角控制组件(脚本)\r\n        this.camera.addComponent(CameraMoveScript);\r\n\r\n        //移除所有图层\r\n        this.camera.removeAllLayers();\r\n        //添加显示图层(为相机添加一个蒙版)\r\n        this.camera.addLayer(5);\r\n\r\n        //添加平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n        Laya.loader.create([\r\n            GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n        ], Laya.Handler.create(this, this.onComplete));\r\n    }\r\n    onComplete() {\r\n        this.AutoSetScene3d(this.s_scene);\r\n        //添加地面\r\n        var grid: Laya.Sprite3D = this.s_scene.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\")) as Laya.Sprite3D;\r\n        //地面接收阴影\r\n        (grid.getChildAt(0) as Laya.MeshSprite3D).meshRenderer.receiveShadow = true;\r\n        //设置该精灵的蒙版为5(所属图层)\r\n        (grid.getChildAt(0) as Laya.MeshSprite3D).layer = 5;\r\n\r\n        //添加静态猴子\r\n        var staticLayaMonkey = new Laya.MeshSprite3D(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\"));\r\n        this.s_scene.addChild(staticLayaMonkey);\r\n        //设置静态猴子的材质\r\n        staticLayaMonkey.meshRenderer.material = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\");\r\n        //设置静态猴子的蒙版为1(所属图层)\r\n        staticLayaMonkey.layer = 1;\r\n        staticLayaMonkey.transform.position = new Laya.Vector3(0, 0, 0.5);\r\n        staticLayaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n        staticLayaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n        //产生阴影\r\n        staticLayaMonkey.meshRenderer.castShadow = true;\r\n\r\n        //克隆sprite3d\r\n        var layaMonkey_clone1 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, new Laya.Vector3(0.0, 0, 0.5));\r\n        var layaMonkey_clone2 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, new Laya.Vector3(0.0, 0, 0.5));\r\n        var layaMonkey_clone3 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, new Laya.Vector3(0.0, 0, 0.5));\r\n\r\n        //设置蒙版(所属图层)\r\n        layaMonkey_clone1.layer = 2;\r\n        layaMonkey_clone2.layer = 3;\r\n        layaMonkey_clone3.layer = 0;\r\n        //平移\r\n        layaMonkey_clone1.transform.translate(new Laya.Vector3(1.5, 0, 0.0));\r\n        layaMonkey_clone2.transform.translate(new Laya.Vector3(-1.5, 0, 0.0));\r\n        layaMonkey_clone3.transform.translate(new Laya.Vector3(2.5, 0, 0.0));\r\n        //旋转\r\n        layaMonkey_clone2.transform.rotate(new Laya.Vector3(0, 60, 0), false, false);\r\n        //缩放\r\n        var scale = new Laya.Vector3(0.1, 0.1, 0.1);\r\n        layaMonkey_clone3.transform.localScale = scale;\r\n\r\n        //生成UI\r\n        this.loadUI();\r\n    }\r\n    loadUI() {\r\n        this.layerIndex = 0;\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function () {\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"切换图层\"));\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function () {\r\n                this.camera.removeAllLayers();\r\n                this.layerIndex++;\r\n                this.camera.addLayer(this.layerIndex % 4);\r\n                this.camera.addLayer(5);\r\n\r\n            });\r\n\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class OrthographicCamera extends SingletonScene {\r\n    private pos: Laya.Vector3 = new Laya.Vector3(310, 500, 0);\r\n    private _translate: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private dialog: Laya.Image;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(1024, 768);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FIXED_HEIGHT;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        var scene: Laya.Scene3D = new Laya.Scene3D();\r\n        this.dialog = new Laya.Image(GlobalConfig.ResPath + \"res/cartoon2/background.jpg\");\r\n        Laya.stage.addChild(this.dialog);\r\n\r\n\r\n        var camera: Laya.Camera = scene.addChild(new Laya.Camera(0, 0.1, 1000)) as Laya.Camera;\r\n        camera.transform.rotate(new Laya.Vector3(-45, 0, 0), false, false);\r\n        camera.transform.translate(new Laya.Vector3(5, -10, 1));\r\n        camera.orthographic = true;\r\n        //正交投影垂直矩阵尺寸\r\n        camera.orthographicVerticalSize = 10;\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_DEPTHONLY;\r\n\r\n        var directionLight: Laya.DirectionLight = scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(scene);\r\n\r\n            scene.addChild(layaMonkey);\r\n            layaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n            //转换2D屏幕坐标系统到3D正交投影下的坐标系统\r\n            camera.convertScreenCoordToOrthographicCoord(this.pos, this._translate);\r\n            layaMonkey.transform.position = this._translate;\r\n\r\n            Laya.stage.on(Laya.Event.RESIZE, this, function (): void {\r\n                camera.convertScreenCoordToOrthographicCoord(this.pos, this._translate);\r\n                layaMonkey.transform.position = this._translate;\r\n            });\r\n\r\n        }));\r\n\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.dialog) {\r\n            this.dialog.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.dialog) {\r\n            this.dialog.visible = false;\r\n        }\r\n    }\r\n}","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class D3SpaceToD2Space extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private layaMonkey3D: Laya.Sprite3D;\r\n    private layaMonkey2D: Laya.Image;\r\n    private _position: Laya.Vector3 = new Laya.Vector3();\r\n    private _outPos: Laya.Vector4 = new Laya.Vector4();\r\n    private scaleDelta: number = 0;\r\n    private scale: Laya.Vector3 = new Laya.Vector3(0.1, 0.1, 0.1);\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.translate(new Laya.Vector3(0, 0.35, 1));\r\n        this.camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n\r\n        var completeHandler: Laya.Handler = Laya.Handler.create(this, this.onComplete);\r\n\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", completeHandler);\r\n    }\r\n    public onComplete(): void {\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey3D: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.layaMonkey3D = layaMonkey3D;\r\n            this.s_scene.addChild(layaMonkey3D);\r\n\r\n            this.layaMonkey2D = new Laya.Image(GlobalConfig.ResPath + \"res/threeDimen/monkey.png\");\r\n            Laya.stage.addChild(this.layaMonkey2D);\r\n            Laya.timer.frameLoop(1, this, this.animate);\r\n        }))\r\n    }\r\n\r\n    private animate(): void {\r\n        if (!this.isShow) {\r\n            return;\r\n        }\r\n        this._position.x = Math.sin(this.scaleDelta += 0.01);\r\n        this.layaMonkey3D.transform.position = this._position;\r\n        this.layaMonkey3D.transform.scale = this.scale;\r\n        //转换坐标\r\n        this.camera.viewport.project(this.layaMonkey3D.transform.position, this.camera.projectionViewMatrix, this._outPos);\r\n        //赋值给2D\r\n        this.layaMonkey2D.pos(this._outPos.x / Laya.stage.clientScaleX, this._outPos.y / Laya.stage.clientScaleY);\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.layaMonkey2D) {\r\n            this.layaMonkey2D.visible = true;\r\n        }\r\n\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.layaMonkey2D) {\r\n            this.layaMonkey2D.visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class RenderTarget3DTo2DSprite extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private scene3DImage: Laya.Image;\r\n    private dialog: Laya.Image;\r\n    private _pos: Laya.Vector3 = new Laya.Vector3(310, 500, 0);\r\n    private _translate: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private _translate2: Laya.Vector3 = new Laya.Vector3(5, -10, 1);\r\n    private _translate3: Laya.Vector3 = new Laya.Vector3(0, 0, -0.2);\r\n    private _translate4: Laya.Vector3 = new Laya.Vector3(0, 0, 0.2);\r\n    private _translate5: Laya.Vector3 = new Laya.Vector3(-0.2, 0, 0);\r\n    private _translate6: Laya.Vector3 = new Laya.Vector3(0.2, 0, 0);\r\n    private _layaMonkey: Laya.Sprite3D;\r\n    private _rotation: Laya.Vector3 = new Laya.Vector3(-45, 0, 0);\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        //显示性能面板\r\n        this.dialog = new Laya.Image(GlobalConfig.ResPath + \"res/threeDimen/secne.jpg\");\r\n        Laya.stage.addChild(this.dialog);\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = (<Laya.Camera>this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000)));\r\n        camera.transform.rotate(this._rotation, false, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        camera.transform.translate(this._translate2);\r\n        camera.orthographic = true;\r\n        camera.clearFlag = Laya.CameraClearFlags.SolidColor;\r\n        //除了猴子自身，渲染图片其他地方都完全渲染到屏幕上deddd\r\n        camera.clearColor = new Laya.Vector4(0.5, 0.0, 0.0, 0.5);\r\n        //创建一个渲染图片\r\n        var renderTexture = new Laya.RenderTexture(512, 512, Laya.RenderTextureFormat.R8G8B8A8, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE);\r\n        camera.renderTarget = renderTexture;\r\n        //正交投影垂直矩阵尺寸\r\n        camera.orthographicVerticalSize = 10;\r\n\r\n        this.s_scene.addChild(new Laya.DirectionLight());\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(layaMonkey);\r\n            this._layaMonkey = layaMonkey;\r\n            var transform: Laya.Transform3D = layaMonkey.transform;\r\n            var localScale: Laya.Vector3 = transform.localScale;\r\n            var rotationEuler: Laya.Vector3 = transform.rotationEuler;\r\n            //转换2D屏幕坐标系统到3D正交投影下的坐标系统\r\n            camera.convertScreenCoordToOrthographicCoord(this._pos, this._translate);\r\n            transform.position = this._translate;\r\n            localScale.setValue(0.5, 0.5, 0.5);\r\n            transform.localScale = localScale;\r\n            rotationEuler.setValue(-30, 0, 0);\r\n            transform.rotationEuler = rotationEuler;\r\n\r\n            //显示2D图片\r\n            this.scene3DImage = new Laya.Image();\r\n            //@ts-ignore\r\n            this.scene3DImage.source = new Laya.Texture(renderTexture as Laya.Texture2D);\r\n            //添加到stage\r\n            Laya.stage.addChild(this.scene3DImage);\r\n            Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n        }));\r\n\r\n    }\r\n    private onKeyDown(): void {\r\n        var transform: Laya.Transform3D = this._layaMonkey.transform;\r\n        Laya.KeyBoardManager.hasKeyDown(87) && transform.translate(this._translate3);//W\r\n        Laya.KeyBoardManager.hasKeyDown(83) && transform.translate(this._translate4);//S\r\n        Laya.KeyBoardManager.hasKeyDown(65) && transform.translate(this._translate5);//A\r\n        Laya.KeyBoardManager.hasKeyDown(68) && transform.translate(this._translate6);//D\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.dialog) {\r\n            this.dialog.visible = true;\r\n        }\r\n        if (this.scene3DImage) {\r\n            this.scene3DImage.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.dialog) {\r\n            this.dialog.visible = false;\r\n        }\r\n        if (this.scene3DImage) {\r\n            this.scene3DImage.visible = false;\r\n        }\r\n    }\r\n}\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class RenderTargetCamera extends SingletonScene {\r\n    private changeActionButton: Laya.Button;\r\n    private renderTargetObj: any;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(1000, 500);\r\n        // //适配模式\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //开启统计信息\r\n        // Laya.Stat.show();\r\n        //预加载角色动画资源\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/scene/CourtyardScene/Courtyard.ls\", Laya.Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    onComplete() {\r\n        //加载场景\r\n        var scene = Laya.loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/CourtyardScene/Courtyard.ls\");\r\n        //Laya.stage.addChild(scene);\r\n        this.AutoSetScene3d(scene);\r\n        //添加相机\r\n        var camera = scene.addChild(new Laya.Camera(0, 0.1, 1000));\r\n        camera.transform.translate(new Laya.Vector3(57, 2.5, 58));\r\n        camera.transform.rotate(new Laya.Vector3(-10, 150, 0), true, false);\r\n        //设置相机清除标识\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n        //相机添加视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //渲染到纹理的相机\r\n        var renderTargetCamera = scene.addChild(new Laya.Camera(0, 0.1, 1000));\r\n        renderTargetCamera.transform.translate(new Laya.Vector3(57, 2.5, 58));\r\n        renderTargetCamera.transform.rotate(new Laya.Vector3(-10, 150, 0), true, false);\r\n        //选择渲染目标为纹理\r\n        renderTargetCamera.renderTarget = new Laya.RenderTexture(2048, 2048);\r\n        //渲染顺序\r\n        renderTargetCamera.renderingOrder = -1;\r\n        //相机添加视角控制组件(脚本)\r\n        renderTargetCamera.addComponent(CameraMoveScript);\r\n\r\n        //创建网格精灵\r\n        this.renderTargetObj = scene.getChildAt(0).getChildByName(\"RenderTarget\");\r\n\r\n        Laya.loader.load(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", Laya.Handler.create(this, function () {\r\n            var btn = new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"渲染目标\");\r\n            this.changeActionButton = btn;\r\n            Laya.stage.addChild(this.changeActionButton);\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function () {\r\n                //设置网格精灵的纹理\r\n                (this.renderTargetObj.meshRenderer.material).albedoTexture = renderTargetCamera.renderTarget;\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Stage = Laya.Stage;\r\nimport Stat = Laya.Stat;\r\nimport Handler = Laya.Handler;\r\nimport Loader = Laya.Loader;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Button = Laya.Button;\r\nimport Browser = Laya.Browser;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport Event = Laya.Event;\r\nimport BaseCamera = Laya.BaseCamera;\r\nimport Texture = Laya.Texture;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Sprite = Laya.Sprite;\r\n\r\nexport class RenderTargetTo2DSprite extends SingletonScene {\r\n    changeActionButton: Button;\r\n    sp: Laya.Sprite;\r\n    constructor() {\r\n        super();\r\n\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Stat.show();\r\n\r\n        //预加载资源\r\n        Laya.loader.create([GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_city01/Conventional/city01.ls\"], Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    private onComplete(): void {\r\n        //加载场景\r\n        var scene: Scene3D = (<Scene3D>Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_city01/Conventional/city01.ls\"));\r\n        this.AutoSetScene3d(scene);\r\n        //添加相机\r\n        var camera: Camera = <Camera>scene.getChildByName(\"Main Camera\");\r\n        //相机添加视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //增加个小猴\r\n        Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Handler.create(this, function (layaMonkey: Sprite3D): void {\r\n            scene.addChild(layaMonkey);\r\n            layaMonkey.transform.localScale = new Vector3(0.5, 0.5, 0.5);\r\n            layaMonkey.transform.rotate(new Vector3(0, 180, 0), true, false);\r\n            layaMonkey.transform.position = new Vector3(-28.8, 5, -53);\r\n        }));\r\n\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Handler.create(this, function (): void {\r\n            this.changeActionButton = <Button>Laya.stage.addChild(new Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"渲染到2DSprite\"));\r\n            this.changeActionButton.size(240, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Browser.pixelRatio / 2, Laya.stage.height - 100 * Browser.pixelRatio);\r\n            this.changeActionButton.on(Event.CLICK, this, function (): void {\r\n                //渲染到纹理的相机\r\n                var renderTargetCamera: Camera = <Camera>scene.addChild(new Camera(0, 0.3, 1000));\r\n                renderTargetCamera.transform.position = new Vector3(-28.8, 8, -60);\r\n                renderTargetCamera.transform.rotate(new Vector3(0, 180, 0), true, false);\r\n                //选择渲染目标为纹理\r\n                renderTargetCamera.renderTarget = new RenderTexture(512, 512);\r\n                //渲染顺序\r\n                renderTargetCamera.renderingOrder = -1;\r\n                //清除标记\r\n                renderTargetCamera.clearFlag = BaseCamera.CLEARFLAG_SKY;\r\n                var rtex = new Texture(((<Texture2D>(renderTargetCamera.renderTarget as any))), Texture.DEF_UV);\r\n                this.sp = new Sprite();\r\n                Laya.stage.addChild(this.sp);\r\n                this.sp.graphics.drawTexture(rtex);\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n        if (this.sp) {\r\n            this.sp.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n        if (this.sp) {\r\n            this.sp.visible = false;\r\n        }\r\n    }\r\n}\r\n\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nexport class PickPixel extends SingletonScene {\r\n    private isPick: Boolean = false;\r\n    private changeActionButton: Laya.Button;\r\n    private ray: Laya.Ray;\r\n    private text: Laya.Text = new Laya.Text();\r\n    private renderTargetCamera: Laya.Camera;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n        //射线初始化（必须初始化）\r\n        this.ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));\r\n\r\n        //预加载资源\r\n        Laya.loader.create([GlobalConfig.ResPath + \"res/threeDimen/scene/CourtyardScene/Courtyard.ls\", GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\"], Laya.Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    private onMouseDown() {\r\n        var posX = Laya.MouseManager.instance.mouseX;\r\n        var posY = Laya.MouseManager.instance.mouseY;\r\n        var out = new Uint8Array(4);\r\n        this.renderTargetCamera.renderTarget.getData(posX, posY, 1, 1, out);\r\n        this.text.text = out[0] + \" \" + out[1] + \" \" + out[2] + \" \" + out[3];\r\n    }\r\n\r\n    private onResize(): void {\r\n        var stageHeight = Laya.stage.height;\r\n        var stageWidth = Laya.stage.width;\r\n        this.renderTargetCamera.renderTarget.destroy();\r\n        this.renderTargetCamera.renderTarget = new Laya.RenderTexture(stageWidth, stageHeight);\r\n        this.text.x = Laya.stage.width / 2;\r\n        this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n    }\r\n    private onComplete(): void {\r\n        //加载场景\r\n        var scene = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/CourtyardScene/Courtyard.ls\") as Laya.Scene3D;\r\n        this.AutoSetScene3d(scene);\r\n        //添加相机\r\n        var camera = scene.addChild(new Laya.Camera(0, 0.1, 1000)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(57, 2.5, 58));\r\n        camera.transform.rotate(new Laya.Vector3(-10, 150, 0), true, false);\r\n        //设置相机清除标识\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n        //相机添加视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //渲染到纹理的相机\r\n        this.renderTargetCamera = scene.addChild(new Laya.Camera(0, 0.1, 1000)) as Laya.Camera;\r\n        this.renderTargetCamera.transform.translate(new Laya.Vector3(57, 2.5, 58));\r\n        this.renderTargetCamera.transform.rotate(new Laya.Vector3(-10, 150, 0), true, false);\r\n        //选择渲染目标为纹理\r\n        var stageHeight = Laya.stage.height;\r\n        var stageWidth = Laya.stage.width;\r\n        this.renderTargetCamera.renderTarget = new Laya.RenderTexture(stageWidth, stageHeight);\r\n        //渲染顺序\r\n        this.renderTargetCamera.renderingOrder = -1;\r\n        //相机添加视角控制组件(脚本)\r\n        this.renderTargetCamera.addComponent(CameraMoveScript);\r\n\r\n\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"拾取像素\"));\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function (): void {\r\n                if (this.isPick) {\r\n                    Laya.stage.on(Laya.Event.MOUSE_DOWN, this, null);\r\n                    this.changeActionButton.label = \"拾取像素\";\r\n                    this.isPick = false;\r\n                }\r\n                else {\r\n                    //鼠标事件监听\r\n                    Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n                    this.changeActionButton.label = \"结束拾取\";\r\n                    this.isPick = true;\r\n                }\r\n            });\r\n        }));\r\n        this.text.x = Laya.stage.width / 2 - 50;\r\n        this.text.y = 50;\r\n        this.text.overflow = Laya.Text.HIDDEN;\r\n        this.text.color = \"#FFFFFF\";\r\n        this.text.font = \"Impact\";\r\n        this.text.fontSize = 20;\r\n        this.text.borderColor = \"#FFFF00\";\r\n        this.text.x = Laya.stage.width / 2;\r\n        this.text.text = \"选中的颜色：\";\r\n        Laya.stage.addChild(this.text);\r\n        //添加舞台RESIZE事件\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.onResize);\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n        if (this.text) {\r\n            this.text.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n        if (this.text) {\r\n            this.text.visible = false;\r\n        }\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { CameraDemo } from \"./CameraDemo\";\r\nimport { CameraLookAt } from \"./CameraLookAt\";\r\nimport { MultiCamera } from \"./MultiCamera\";\r\nimport { CameraRay } from \"./CameraRay\";\r\nimport { CameraLayer } from \"./CameraLayer\";\r\nimport { OrthographicCamera } from \"./OrthographicCamera\";\r\nimport { D3SpaceToD2Space } from \"./D3SpaceToD2Space\";\r\nimport { RenderTarget3DTo2DSprite } from \"./RenderTarget3DTo2DSprite\";\r\nimport { RenderTargetCamera } from \"./RenderTargetCamera\";\r\nimport { RenderTargetTo2DSprite } from \"./RenderTargetTo2DSprite\";\r\nimport { PickPixel } from \"./PickPixel\";\r\n\r\nexport class CameraMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"摄像机示例\", \"摄像机捕捉目标\", \"多照相机\", \"创建射线\",\r\n        \"可视遮罩层\", \"正交摄像机\", \"3D空间转2D空间\", \"渲染3D到2DSprite\", \"渲染到纹理\",\r\n        \"渲染到2DSprite\", \"拾取像素\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                CameraDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                CameraLookAt.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                MultiCamera.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                CameraRay.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                CameraLayer.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[6]:\r\n                OrthographicCamera.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[7]:\r\n                D3SpaceToD2Space.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[8]:\r\n                RenderTarget3DTo2DSprite.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[9]:\r\n                RenderTargetCamera.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[10]:\r\n                RenderTargetTo2DSprite.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[11]:\r\n                PickPixel.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Camera = Laya.Camera;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Handler = Laya.Handler;\r\nimport PostProcess = Laya.PostProcess;\r\nimport BloomEffect = Laya.BloomEffect;\r\nimport Color = Laya.Color;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Button = Laya.Button;\r\nimport Browser = Laya.Browser;\r\nimport Event = Laya.Event;\r\n\r\nexport class PostProcessBloom extends SingletonScene {\r\n    camera: Camera = null;\r\n    button: Button;\r\n\r\n    /**\r\n     *@private\r\n     */\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Stat.show();\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        //加载场景\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_BloomScene/Conventional/BloomScene.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            //Laya.stage.addChild(scene);\r\n            //获取场景中的相机\r\n            this.camera = <Camera>(scene.getChildByName(\"Main Camera\") as any);\r\n            //加入摄像机移动控制脚本\r\n            this.camera.addComponent(CameraMoveScript);\r\n            //增加后期处理\r\n            var postProcess: PostProcess = new PostProcess();\r\n            //增加后期处理泛光效果\r\n            var bloom: BloomEffect = new BloomEffect();\r\n            postProcess.addEffect(bloom);\r\n            this.camera.postProcess = postProcess;\r\n            this.camera.enableHDR = true;\r\n            //设置泛光参数\r\n            bloom.intensity = 5;\r\n            bloom.threshold = 0.9;\r\n            bloom.softKnee = 0.5;\r\n            bloom.clamp = 65472;\r\n            bloom.diffusion = 5;\r\n            bloom.anamorphicRatio = 0.0;\r\n            bloom.color = new Color(1, 1, 1, 1);\r\n            bloom.fastMode = true;\r\n            //增加污渍纹理参数\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_BloomScene/Conventional/Assets/LensDirt01.png\", Handler.create(null, function (tex: Texture2D): void {\r\n                bloom.dirtTexture = tex;\r\n                bloom.dirtIntensity = 2.0;\r\n            }));\r\n            //加载UI\r\n            this.loadUI();\r\n        }));\r\n    }\r\n\r\n    /**\r\n     *@private\r\n     */\r\n    loadUI(): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Handler.create(this, function (): void {\r\n            this.button = (<Button>Laya.stage.addChild(new Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"关闭HDR\")));\r\n            this.button.size(200, 40);\r\n            this.button.labelBold = true;\r\n            this.button.labelSize = 30;\r\n            this.button.sizeGrid = \"4,4,4,4\";\r\n            this.button.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n            this.button.pos(Laya.stage.width / 2 - this.button.width * Browser.pixelRatio / 2, Laya.stage.height - 60 * Browser.pixelRatio);\r\n            this.button.on(Event.CLICK, this, function (): void {\r\n                var enableHDR: boolean = this.camera.enableHDR;\r\n                if (enableHDR)\r\n                    this.button.label = \"开启HDR\";\r\n                else\r\n                    this.button.label = \"关闭HDR\";\r\n                this.camera.enableHDR = !enableHDR;\r\n            });\r\n\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.button) {\r\n            this.button.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.button) {\r\n            this.button.visible = false;\r\n        }\r\n    }\r\n}\r\n\r\n","var BlurVS = \"#include \\\"Lighting.glsl\\\";\\r\\n#if defined(GL_FRAGMENT_PRECISION_HIGH)//Â åŽŸæ¥çš„å†™æ³•ä¼šè¢«æˆ‘ä»¬è‡ªå·±çš„è§£æžæµç¨‹å¤„ç†ï¼Œè€Œæˆ‘ä»¬çš„è§£æžæ˜¯ä¸è®¤å†…ç½®å®çš„ï¼Œå¯¼è‡´è¢«åˆ æŽ‰ï¼Œæ‰€ä»¥æ”¹æˆÂ ifÂ definedÂ äº†\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\nattribute vec4 a_PositionTexcoord;\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nvoid main() {\\r\\n\\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\\r\\n\\tv_Texcoord0 = a_PositionTexcoord.zw;\\r\\n\\tgl_Position = remapGLPositionZ(gl_Position);\\r\\n}\";\r\n\r\nvar BlurHorizentalFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)//Â åŽŸæ¥çš„å†™æ³•ä¼šè¢«æˆ‘ä»¬è‡ªå·±çš„è§£æžæµç¨‹å¤„ç†ï¼Œè€Œæˆ‘ä»¬çš„è§£æžæ˜¯ä¸è®¤å†…ç½®å®çš„ï¼Œå¯¼è‡´è¢«åˆ æŽ‰ï¼Œæ‰€ä»¥æ”¹æˆÂ ifÂ definedÂ äº†\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform vec4 u_MainTex_TexelSize;\\r\\nuniform float u_DownSampleValue;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    vec2 uvOffset = vec2(1.0,0.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\\r\\n    uv = uv - uvOffset*3.0;\\r\\n    //é«˜æ–¯å‚æ•°\\r\\n    color+=0.0205*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.0855*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.232*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.324*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.232*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.0855*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.0205*texture2D(u_MainTex,uv);\\r\\n\\r\\n    gl_FragColor = color;\\r\\n    \\r\\n\\r\\n    \\r\\n}\";\r\n\r\nvar BlurVerticalFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)//Â åŽŸæ¥çš„å†™æ³•ä¼šè¢«æˆ‘ä»¬è‡ªå·±çš„è§£æžæµç¨‹å¤„ç†ï¼Œè€Œæˆ‘ä»¬çš„è§£æžæ˜¯ä¸è®¤å†…ç½®å®çš„ï¼Œå¯¼è‡´è¢«åˆ æŽ‰ï¼Œæ‰€ä»¥æ”¹æˆÂ ifÂ definedÂ äº†\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform vec4 u_MainTex_TexelSize;\\r\\nuniform float u_DownSampleValue;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    vec2 uvOffset = vec2(0.0,1.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\\r\\n    uv = uv - uvOffset*3.0;\\r\\n    //é«˜æ–¯å‚æ•°\\r\\n    color+=0.0205*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.0855*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.232*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.324*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.232*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.0855*texture2D(u_MainTex,uv);\\r\\n    uv+=uvOffset;\\r\\n    color+=0.0205*texture2D(u_MainTex,uv);\\r\\n\\r\\n    gl_FragColor = color;\\r\\n    \\r\\n\\r\\n    \\r\\n}\";\r\n\r\nvar BlurDownSampleFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)//Â åŽŸæ¥çš„å†™æ³•ä¼šè¢«æˆ‘ä»¬è‡ªå·±çš„è§£æžæµç¨‹å¤„ç†ï¼Œè€Œæˆ‘ä»¬çš„è§£æžæ˜¯ä¸è®¤å†…ç½®å®çš„ï¼Œå¯¼è‡´è¢«åˆ æŽ‰ï¼Œæ‰€ä»¥æ”¹æˆÂ ifÂ definedÂ äº†\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform vec4 u_MainTex_TexelSize;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\\r\\n    color += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(1.0,0.0));\\r\\n\\tcolor += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(-1.0,0.0));\\r\\n\\tcolor += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,-1.0));\\r\\n\\tcolor += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,1.0));\\r\\n    gl_FragColor = color/4.0;\\r\\n    //gl_FragColor = vec4(1.0,0.0,0.0,1.0);\\r\\n}\";\r\n\r\nvar BlurDownSampleVS = \"#include \\\"Lighting.glsl\\\";\\r\\n#if defined(GL_FRAGMENT_PRECISION_HIGH)//Â åŽŸæ¥çš„å†™æ³•ä¼šè¢«æˆ‘ä»¬è‡ªå·±çš„è§£æžæµç¨‹å¤„ç†ï¼Œè€Œæˆ‘ä»¬çš„è§£æžæ˜¯ä¸è®¤å†…ç½®å®çš„ï¼Œå¯¼è‡´è¢«åˆ æŽ‰ï¼Œæ‰€ä»¥æ”¹æˆÂ ifÂ definedÂ äº†\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\nattribute vec4 a_PositionTexcoord;\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nvoid main() {\\r\\n\\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\\r\\n\\tv_Texcoord0 = a_PositionTexcoord.zw;\\r\\n\\tgl_Position = remapGLPositionZ(gl_Position);\\r\\n}\";\r\n\r\nvar BlurEdgeAdd = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)//Â åŽŸæ¥çš„å†™æ³•ä¼šè¢«æˆ‘ä»¬è‡ªå·±çš„è§£æžæµç¨‹å¤„ç†ï¼Œè€Œæˆ‘ä»¬çš„è§£æžæ˜¯ä¸è®¤å†…ç½®å®çš„ï¼Œå¯¼è‡´è¢«åˆ æŽ‰ï¼Œæ‰€ä»¥æ”¹æˆÂ ifÂ definedÂ äº†\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform sampler2D u_sourceTexture0;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    vec4 mainColor = texture2D(u_MainTex,uv);\\r\\n    vec4 sourceColor = texture2D(u_sourceTexture0,uv);\\r\\n    float factor = step(sourceColor.x+sourceColor.y+sourceColor.z,0.001);\\r\\n    vec4 color = mix(sourceColor,mainColor,factor);\\r\\n    gl_FragColor =color;\\r\\n}\";\r\n\r\nvar BlurEdgeSub = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)//Â åŽŸæ¥çš„å†™æ³•ä¼šè¢«æˆ‘ä»¬è‡ªå·±çš„è§£æžæµç¨‹å¤„ç†ï¼Œè€Œæˆ‘ä»¬çš„è§£æžæ˜¯ä¸è®¤å†…ç½®å®çš„ï¼Œå¯¼è‡´è¢«åˆ æŽ‰ï¼Œæ‰€ä»¥æ”¹æˆÂ ifÂ definedÂ äº†\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\nuniform sampler2D u_sourceTexture0;\\r\\nuniform sampler2D u_sourceTexture1;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    vec4 blurColor = texture2D(u_sourceTexture0,uv);\\r\\n    vec4 clearColor = texture2D(u_sourceTexture1,uv);\\r\\n    float factor = step(clearColor.x+clearColor.y+clearColor.z,0.001);\\r\\n    vec4 color = blurColor*factor;\\r\\n    color = (1.0-step(color.x+color.y+color.z,0.15))*vec4(1.0,0.0,0.0,1.0);\\r\\n    gl_FragColor = color;\\r\\n}\";\r\n\r\n\r\nexport class BlurEffect extends Laya.PostProcessEffect {\r\n    public static BLUR_TYPE_GaussianBlur: any;\r\n    public static SHADERVALUE_DOWNSAMPLEVALUE: any;\r\n    public static SHADERVALUE_TEXELSIZE: any;\r\n    public static BLUR_TYPE_Simple: any;\r\n    public static SHADERVALUE_MAINTEX: any;\r\n    _shader: any;\r\n    _shaderData: any;\r\n    _downSampleNum: any;\r\n    _blurSpreadSize: any;\r\n    _blurIterations: any;\r\n    _texSize: any;\r\n    _tempRenderTexture: any;\r\n\r\n    constructor() {\r\n        super();\r\n        this._shader = null;\r\n        this._shaderData = new Laya.ShaderData();\r\n        this._downSampleNum = 1;\r\n        this._blurSpreadSize = 1;\r\n        this._blurIterations = 2;\r\n        this._texSize = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n        this._shader = Laya.Shader3D.find(\"blurEffect\");\r\n        this._tempRenderTexture = new Array(13);\r\n        BlurEffect.BLUR_TYPE_GaussianBlur = 0;\r\n        BlurEffect.BLUR_TYPE_Simple = 1;\r\n        BlurEffect.SHADERVALUE_MAINTEX = Laya.Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurEffect.SHADERVALUE_TEXELSIZE = Laya.Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE = Laya.Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n    }\r\n    static init() {\r\n        BlurEffect.BLUR_TYPE_GaussianBlur = 0;\r\n        BlurEffect.BLUR_TYPE_Simple = 1;\r\n        BlurEffect.SHADERVALUE_MAINTEX = Laya.Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurEffect.SHADERVALUE_TEXELSIZE = Laya.Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE = Laya.Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        var attributeMap = {\r\n            'a_PositionTexcoord': Laya.VertexMesh.MESH_POSITION0\r\n        };\r\n        var uniformMap = {\r\n            'u_MainTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_MainTex_TexelSize': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DownSampleValue': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_sourceTexture0': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_sourceTexture1': Laya.Shader3D.PERIOD_MATERIAL\r\n        };\r\n        var shader = Laya.Shader3D.add(\"blurEffect\");\r\n        var subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        var shaderpass = subShader.addShaderPass(BlurDownSampleVS, BlurDownSampleFS);\r\n        var renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurVerticalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurHorizentalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeSub);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeAdd);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n    }\r\n    get downSampleNum() {\r\n        return this._downSampleNum;\r\n    }\r\n    set downSampleNum(value) {\r\n        this._downSampleNum = Math.min(6, Math.max(value, 0.0));\r\n    }\r\n    get blurSpreadSize() {\r\n        return this._blurSpreadSize;\r\n    }\r\n    set blurSpreadSize(value) {\r\n        this._blurSpreadSize = Math.min(10, Math.max(value, 1.0));\r\n    }\r\n    get blurIterations() {\r\n        return this._blurIterations;\r\n    }\r\n    set blurIterations(value) {\r\n        this._blurIterations = Math.min(Math.max(value, 0.0), 6.0);\r\n    }\r\n    render(context) {\r\n        var cmd = context.command;\r\n        var viewport = context.camera.viewport;\r\n        var scaleFactor = 1.0 / (1 << Math.floor(this._downSampleNum));\r\n        var tw = Math.floor(viewport.width * scaleFactor);\r\n        var th = Math.floor(viewport.height * scaleFactor);\r\n        this._texSize.setValue(1.0 / tw, 1.0 / th, tw, th);\r\n        this._shaderData.setNumber(BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE, this.blurSpreadSize);\r\n        this._shaderData.setVector(BlurEffect.SHADERVALUE_TEXELSIZE, this._texSize);\r\n        var downSampleTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTextureFormat.R8G8B8, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE);\r\n        downSampleTexture.filterMode = Laya.FilterMode.Bilinear;\r\n        this._tempRenderTexture[0] = downSampleTexture;\r\n        var lastDownTexture = context.source;\r\n        cmd.blitScreenTriangle(lastDownTexture, downSampleTexture, null, this._shader, this._shaderData, 0);\r\n        lastDownTexture = downSampleTexture;\r\n        for (var i = 0; i < this._blurIterations; i++) {\r\n            var blurTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTextureFormat.R8G8B8, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE);\r\n            blurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 1);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 1] = blurTexture;\r\n            blurTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTextureFormat.R8G8B8, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE);\r\n            blurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 2);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 2] = blurTexture;\r\n        }\r\n        context.source = lastDownTexture;\r\n        var maxTexture = this._blurIterations * 2 + 1;\r\n        for (i = 0; i < maxTexture; i++) {\r\n            Laya.RenderTexture.recoverToPool(this._tempRenderTexture[i]);\r\n        }\r\n        context.deferredReleaseTextures.push(lastDownTexture);\r\n    }\r\n}\r\n\r\n","import { BlurEffect } from \"../common/BlurEffect\";\r\nimport { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport PostProcess = Laya.PostProcess;\r\nimport Button = Laya.Button;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Browser = Laya.Browser;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\n\r\n\r\nexport class PostProcess_Blur extends SingletonScene {\r\n    private btn: Laya.Button;\r\n    private s_scene: Laya.Scene;\r\n    /**\r\n     *@private\r\n     */\r\n    constructor() {\r\n        super();\r\n        //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Stat.show();\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        Shader3D.debugMode = true;\r\n        BlurEffect.init();\r\n        //加载场景\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_zhuandibanben/Conventional/zhuandibanben.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.s_scene = scene;\r\n            this.AutoSetScene3d(this.s_scene);\r\n            //Laya.stage.addChild(scene);\r\n\r\n            //获取场景中的相机\r\n            this.camera = (scene.getChildByName(\"MainCamera\") as Camera);\r\n            //加入摄像机移动控制脚本\r\n            this.camera.addComponent(CameraMoveScript);\r\n            (this.camera as Camera).clearFlag = CameraClearFlags.Sky;\r\n            (this.camera as Camera).cullingMask ^= 2;\r\n            //this.camera.active = false;\r\n            (this.camera as Camera).enableHDR = false;\r\n            var mainCamera: Camera = (scene.getChildByName(\"BlurCamera\") as Camera);// MainCamera//(this.camera as Camera).getChildAt(0) as Camera;\r\n            mainCamera.clearFlag = CameraClearFlags.Nothing;//微信平台有bug这里得换成DepthOnly\r\n            mainCamera.cullingMask = 2;\r\n            mainCamera.renderingOrder = 1;\r\n            mainCamera.enableHDR = false;\r\n            (this.camera as Camera).addChild(mainCamera);\r\n            mainCamera.transform.localMatrix = new Matrix4x4();\r\n\r\n            //增加后期处理\r\n            this.postProcess = new PostProcess();\r\n\r\n            var blurEffect: BlurEffect = new BlurEffect();\r\n            this.postProcess.addEffect(blurEffect);\r\n            this.camera.postProcess = this.postProcess;\r\n\r\n            //设置模糊参数\r\n            blurEffect.downSampleNum = 6;\r\n            blurEffect.blurSpreadSize = 1;\r\n            blurEffect.blurIterations = 1;\r\n\r\n            //加载UI\r\n            this.loadUI();\r\n        }));\r\n    }\r\n\r\n    /**\r\n     *@private\r\n     */\r\n    loadUI(): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Handler.create(this, function (): void {\r\n            this.btn = (<Button>Laya.stage.addChild(new Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"关闭高斯模糊\")));\r\n            this.btn.size(200, 40);\r\n            this.btn.labelBold = true;\r\n            this.btn.labelSize = 30;\r\n            this.btn.sizeGrid = \"4,4,4,4\";\r\n            this.btn.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n            this.btn.pos(Laya.stage.width / 2 - this.btn.width * Browser.pixelRatio / 2, Laya.stage.height - 60 * Browser.pixelRatio);\r\n            this.btn.on(Event.CLICK, this, function (): void {\r\n                var enableHDR: boolean = !!this.camera.postProcess;\r\n                if (enableHDR) {\r\n                    this.btn.label = \"开启高斯模糊\";\r\n                    this.camera.postProcess = null;\r\n\r\n                }\r\n                else {\r\n                    this.btn.label = \"关闭高斯模糊\";\r\n                    this.camera.postProcess = this.postProcess;\r\n                }\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.btn) {\r\n            this.btn.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.btn) {\r\n            this.btn.visible = false;\r\n        }\r\n    }\r\n}\r\n\r\n","\r\nexport var EdgeMode;\r\n(function (EdgeMode) {\r\n    EdgeMode[EdgeMode[\"ColorEdge\"] = 0] = \"ColorEdge\";\r\n    EdgeMode[EdgeMode[\"NormalEdge\"] = 1] = \"NormalEdge\";\r\n    EdgeMode[EdgeMode[\"DepthEdge\"] = 2] = \"DepthEdge\";\r\n})(EdgeMode || (EdgeMode = {}));\r\n\r\nvar EdgeEffectVS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#include \\\"Lighting.glsl\\\";\\r\\n\\r\\nattribute vec4 a_PositionTexcoord;\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nvoid main() {\\r\\n\\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\\r\\n\\tv_Texcoord0 = a_PositionTexcoord.zw;\\r\\n\\tgl_Position = remapGLPositionZ(gl_Position);\\r\\n}\\r\\n\";\r\n\r\nvar EdgeEffectFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#include \\\"DepthNormalUtil.glsl\\\";\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform vec4 u_MainTex_TexelSize;\\r\\n\\r\\nuniform vec4 u_DepthBufferParams;\\r\\n\\r\\nuniform vec3 u_EdgeColor;\\r\\n\\r\\n#ifdef DEPTHEDGE\\r\\n    uniform float u_Depthhold;\\r\\n#endif\\r\\n\\r\\n#ifdef NORMALEDGE\\r\\n    uniform float u_NormalHold;\\r\\n#endif\\r\\n\\r\\n#ifdef COLOREDGE\\r\\n    uniform float u_ColorHold;\\r\\n#endif\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\n#ifdef DEPTHNORMAL\\r\\n    uniform sampler2D u_DepthNormalTex;\\r\\n    void getDepthNormal(out float depth, out vec3 normal){\\r\\n        vec4 col = texture2D(u_DepthNormalTex, v_Texcoord0);\\r\\n        DecodeDepthNormal(col, depth, normal);\\r\\n    }\\r\\n\\r\\n    float getDepth(vec2 uv) {\\r\\n        float depth;\\r\\n        vec3 normal;\\r\\n        vec4 col = texture2D(u_DepthNormalTex, uv);\\r\\n        DecodeDepthNormal(col, depth, normal);\\r\\n        return depth;\\r\\n    }\\r\\n\\r\\n    vec3 getNormal(vec2 uv) {\\r\\n        float depth;\\r\\n        vec3 normal;\\r\\n        vec4 col = texture2D(u_DepthNormalTex, uv);\\r\\n        DecodeDepthNormal(col, depth, normal);\\r\\n        return normal;\\r\\n    }\\r\\n\\r\\n#endif\\r\\n\\r\\n#ifdef DEPTH\\r\\n    uniform sampler2D u_DepthTex;\\r\\n    float getDepth(vec2 uv) {\\r\\n        float depth = texture2D(u_DepthTex, uv).r;\\r\\n        depth = Linear01Depth(depth, u_DepthBufferParams);\\r\\n        return depth;\\r\\n    }\\r\\n#endif\\r\\n\\r\\nvoid SobelSample(in vec2 uv,out vec3 colorG, out vec3 normalG, out vec3 depthG) {\\r\\n\\r\\n    float offsetx = u_MainTex_TexelSize.x;\\r\\n    float offsety = u_MainTex_TexelSize.y;\\r\\n    vec2 offsets[9];\\r\\n    offsets[0] = vec2(-offsetx,  offsety); // å·¦ä¸Š\\r\\n    offsets[1] = vec2( 0.0,    offsety); // æ­£ä¸Š\\r\\n    offsets[2] = vec2( offsetx,  offsety); // å³ä¸Š\\r\\n    offsets[3] = vec2(-offsetx,  0.0);   // å·¦\\r\\n    offsets[4] = vec2( 0.0,    0.0);   // ä¸­\\r\\n    offsets[5] = vec2( offsetx,  0.0);   // å³\\r\\n    offsets[6] = vec2(-offsetx, -offsety); // å·¦ä¸‹\\r\\n    offsets[7] = vec2( 0.0,   -offsety); // æ­£ä¸‹\\r\\n    offsets[8] = vec2( offsetx, -offsety); // å³ä¸‹\\r\\n\\r\\n    float Gx[9];\\r\\n    Gx[0] = -1.0; Gx[1] = 0.0; Gx[2] = 1.0; \\r\\n    Gx[3] = -2.0; Gx[4] = 0.0; Gx[5] = 2.0; \\r\\n    Gx[6] = -1.0; Gx[7] = 0.0; Gx[8] = 1.0; \\r\\n\\r\\n    float Gy[9];\\r\\n    Gy[0] = 1.0; Gy[1] = 2.0; Gy[2] = 1.0; \\r\\n    Gy[3] = 0.0; Gy[4] = 0.0; Gy[5] = 0.0; \\r\\n    Gy[6] = -1.0; Gy[7] = -2.0;Gy[8] = -1.0; \\r\\n\\r\\n    vec3 sampleTex[9];\\r\\n    float sampleDepth[9];\\r\\n    vec3 sampleNormal[9];\\r\\n    for (int i = 0; i < 9; i++)\\r\\n    {\\r\\n        vec2 uvOffset = uv + offsets[i];\\r\\n        sampleTex[i] = texture2D(u_MainTex, uvOffset).rgb;\\r\\n        sampleDepth[i] = getDepth(uvOffset);\\r\\n        sampleNormal[i] = (getNormal(uvOffset) + 1.0) / 2.0;\\r\\n    }\\r\\n\\r\\n    vec3 colorGx = vec3(0.0);\\r\\n    vec3 colorGy = vec3(0.0);\\r\\n    float depthGx = 0.0;\\r\\n    float depthGy = 0.0;\\r\\n    vec3 normalGx = vec3(0.0);\\r\\n    vec3 normalGy = vec3(0.0);\\r\\n\\r\\n    for (int i = 0; i < 9; i++) {\\r\\n        colorGx += sampleTex[i] * Gx[i];\\r\\n        colorGy += sampleTex[i] * Gy[i];\\r\\n        depthGx += sampleDepth[i] * Gx[i];\\r\\n        depthGy += sampleDepth[i] * Gy[i];\\r\\n        normalGx += sampleNormal[i] * Gx[i];\\r\\n        normalGy += sampleNormal[i] * Gy[i];\\r\\n    }\\r\\n\\r\\n    float colDepthG = abs(depthGx) + abs(depthGy);\\r\\n    depthG = vec3(colDepthG);\\r\\n\\r\\n    colorG = abs(colorGx) + abs(colorGy);\\r\\n\\r\\n    normalG = abs(normalGx) + abs(normalGy);\\r\\n\\r\\n}\\r\\n\\r\\nfloat ColorGray(vec3 color) {\\r\\n    return (color.r + color.g + color.b) / 3.0;\\r\\n}\\r\\n\\r\\nvec3 getEdgeValue(float hold, vec3 valueG) {\\r\\n    return vec3(step(hold, ColorGray(valueG)));\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n    \\r\\n    vec2 uv = v_Texcoord0;\\r\\n\\r\\n    vec3 colorG, normalG, depthG;\\r\\n    SobelSample(uv, colorG, normalG, depthG);\\r\\n    vec3 edgeColor = vec3(0.2);\\r\\n\\r\\n    #if defined(DEPTHEDGE)\\r\\n        vec3 edgeValue = getEdgeValue(u_Depthhold, depthG);\\r\\n    #endif\\r\\n\\r\\n    #if defined(NORMALEDGE)\\r\\n        vec3 edgeValue = getEdgeValue(u_NormalHold, normalG);\\r\\n    #endif\\r\\n\\r\\n    #if defined(COLOREDGE)\\r\\n        vec3 edgeValue = getEdgeValue(u_ColorHold, colorG);\\r\\n    #endif\\r\\n\\r\\n    vec3 fillColor = u_EdgeColor;\\r\\n\\r\\n    #ifdef SOURCE\\r\\n        fillColor = texture2D(u_MainTex, uv).rgb;\\r\\n    #endif\\r\\n\\r\\n    vec3 finalColor = mix(fillColor, edgeColor, edgeValue);\\r\\n    gl_FragColor = vec4(finalColor, 1.0);\\r\\n\\r\\n}\";\r\n\r\n\r\nexport class EdgeEffect extends Laya.PostProcessEffect {\r\n    _shader: any;\r\n    _shaderData: any;\r\n    _depthBufferparam: any;\r\n    _edgeMode: any;\r\n    static _isShaderInit: any;\r\n    static DEPTHTEXTURE: any;\r\n    static DEPTHNORMALTEXTURE: any;\r\n    static DEPTHBUFFERPARAMS: any;\r\n    static EDGECOLOR: any;\r\n    static COLORHOLD: any;\r\n    static DEPTHHOLD: any;\r\n    static NORMALHOLD: any;\r\n    static SHADERDEFINE_SOURCE: any;\r\n    static SHADERDEFINE_COLOREDGE: any;\r\n    static SHADERDEFINE_DEPTHEDGE: any;\r\n    static SHADERDEFINE_NORMALEDGE: any;\r\n    static SHADERDEFINE_DEPTH: any;\r\n    static SHADERDEFINE_DEPTHNORMAL: any;\r\n    constructor() {\r\n        super();\r\n        this._shader = null;\r\n        this._shaderData = new Laya.ShaderData();\r\n        this._depthBufferparam = new Laya.Vector4();\r\n        this._edgeMode = EdgeMode.NormalEdge;\r\n        if (!EdgeEffect._isShaderInit) {\r\n            EdgeEffect._isShaderInit = true;\r\n            EdgeEffect.EdgeEffectShaderInit();\r\n        }\r\n        this._shader = Laya.Shader3D.find(\"PostProcessEdge\");\r\n        this.edgeColor = new Laya.Vector3(0.2, 0.2, 0.2);\r\n        this.colorHold = 0.7;\r\n        this.normalHold = 0.7;\r\n        this.depthHold = 0.7;\r\n        this.edgeMode = EdgeMode.DepthEdge;\r\n        this.showSource = true;\r\n        EdgeEffect._isShaderInit = false;\r\n        EdgeEffect.DEPTHTEXTURE = Laya.Shader3D.propertyNameToID(\"u_DepthTex\");\r\n        EdgeEffect.DEPTHNORMALTEXTURE = Laya.Shader3D.propertyNameToID(\"u_DepthNormalTex\");\r\n        EdgeEffect.DEPTHBUFFERPARAMS = Laya.Shader3D.propertyNameToID(\"u_DepthBufferParams\");\r\n        EdgeEffect.EDGECOLOR = Laya.Shader3D.propertyNameToID(\"u_EdgeColor\");\r\n        EdgeEffect.COLORHOLD = Laya.Shader3D.propertyNameToID(\"u_ColorHold\");\r\n        EdgeEffect.DEPTHHOLD = Laya.Shader3D.propertyNameToID(\"u_Depthhold\");\r\n        EdgeEffect.NORMALHOLD = Laya.Shader3D.propertyNameToID(\"u_NormalHold\");\r\n    }\r\n    get edgeColor() {\r\n        return this._shaderData.getVector3(EdgeEffect.EDGECOLOR);\r\n    }\r\n    set edgeColor(value) {\r\n        this._shaderData.setVector3(EdgeEffect.EDGECOLOR, value);\r\n    }\r\n    get colorHold() {\r\n        return this._shaderData.getNumber(EdgeEffect.COLORHOLD);\r\n    }\r\n    set colorHold(value) {\r\n        this._shaderData.setNumber(EdgeEffect.COLORHOLD, value);\r\n    }\r\n    get depthHold() {\r\n        return this._shaderData.getNumber(EdgeEffect.DEPTHHOLD);\r\n    }\r\n    set depthHold(value) {\r\n        this._shaderData.setNumber(EdgeEffect.DEPTHHOLD, value);\r\n    }\r\n    get normalHold() {\r\n        return this._shaderData.getNumber(EdgeEffect.NORMALHOLD);\r\n    }\r\n    set normalHold(value) {\r\n        this._shaderData.setNumber(EdgeEffect.NORMALHOLD, value);\r\n    }\r\n    get edgeMode() {\r\n        return this._edgeMode;\r\n    }\r\n    get showSource() {\r\n        return this._shaderData.hasDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n    }\r\n    set showSource(value) {\r\n        if (value) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n        }\r\n        else {\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n        }\r\n    }\r\n    set edgeMode(value) {\r\n        this._edgeMode = value;\r\n        switch (value) {\r\n            case EdgeMode.ColorEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                break;\r\n            case EdgeMode.NormalEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                break;\r\n            case EdgeMode.DepthEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                break;\r\n        }\r\n    }\r\n    render(context) {\r\n        let cmd = context.command;\r\n        let viewport = context.camera.viewport;\r\n        let camera = context.camera;\r\n        let far = camera.farPlane;\r\n        let near = camera.nearPlane;\r\n        let source = context.source;\r\n        let destination = context.destination;\r\n        let width = viewport.width;\r\n        let height = viewport.height;\r\n        let renderTexture = Laya.RenderTexture.createFromPool(width, height, Laya.TextureFormat.R8G8B8A8, Laya.RenderTextureDepthFormat.DEPTH_16);\r\n        renderTexture.filterMode = Laya.FilterMode.Bilinear;\r\n        if (camera.depthTextureMode == Laya.DepthTextureMode.Depth) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTH);\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHNORMAL);\r\n            this._shaderData.setTexture(EdgeEffect.DEPTHTEXTURE, camera.depthTexture);\r\n        }\r\n        else if (camera.depthTextureMode == Laya.DepthTextureMode.DepthNormals) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTHNORMAL);\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTH);\r\n            this._shaderData.setTexture(EdgeEffect.DEPTHNORMALTEXTURE, camera.depthNormalTexture);\r\n        }\r\n        this._depthBufferparam.setValue(1.0 - far / near, far / near, (near - far) / (near * far), 1 / near);\r\n        this._shaderData.setVector(EdgeEffect.DEPTHBUFFERPARAMS, this._depthBufferparam);\r\n        cmd.blitScreenTriangle(source, renderTexture, null, this._shader, this._shaderData, 0);\r\n        context.source = renderTexture;\r\n        context.deferredReleaseTextures.push(renderTexture);\r\n    }\r\n    static EdgeEffectShaderInit() {\r\n        EdgeEffect.SHADERDEFINE_DEPTH = Laya.Shader3D.getDefineByName(\"DEPTH\");\r\n        EdgeEffect.SHADERDEFINE_DEPTHNORMAL = Laya.Shader3D.getDefineByName(\"DEPTHNORMAL\");\r\n        EdgeEffect.SHADERDEFINE_DEPTHEDGE = Laya.Shader3D.getDefineByName(\"DEPTHEDGE\");\r\n        EdgeEffect.SHADERDEFINE_NORMALEDGE = Laya.Shader3D.getDefineByName(\"NORMALEDGE\");\r\n        EdgeEffect.SHADERDEFINE_COLOREDGE = Laya.Shader3D.getDefineByName(\"COLOREDGE\");\r\n        EdgeEffect.SHADERDEFINE_SOURCE = Laya.Shader3D.getDefineByName(\"SOURCE\");\r\n        let attributeMap = {\r\n            'a_PositionTexcoord': Laya.VertexMesh.MESH_POSITION0\r\n        };\r\n        let uniformMap = {\r\n            'u_MainTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_OffsetScale': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_MainTex_TexelSize': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DepthTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DepthNormalTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DepthBufferParams': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_ColorHold': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_Depthhold': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_NormalHold': Laya.Shader3D.PERIOD_MATERIAL\r\n        };\r\n        let shader = Laya.Shader3D.add(\"PostProcessEdge\");\r\n        let subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        let pass = subShader.addShaderPass(EdgeEffectVS, EdgeEffectFS);\r\n        pass.renderState.depthWrite = false;\r\n        EdgeEffect._isShaderInit = false;\r\n        EdgeEffect.DEPTHTEXTURE = Laya.Shader3D.propertyNameToID(\"u_DepthTex\");\r\n        EdgeEffect.DEPTHNORMALTEXTURE = Laya.Shader3D.propertyNameToID(\"u_DepthNormalTex\");\r\n        EdgeEffect.DEPTHBUFFERPARAMS = Laya.Shader3D.propertyNameToID(\"u_DepthBufferParams\");\r\n        EdgeEffect.EDGECOLOR = Laya.Shader3D.propertyNameToID(\"u_EdgeColor\");\r\n        EdgeEffect.COLORHOLD = Laya.Shader3D.propertyNameToID(\"u_ColorHold\");\r\n        EdgeEffect.DEPTHHOLD = Laya.Shader3D.propertyNameToID(\"u_Depthhold\");\r\n        EdgeEffect.NORMALHOLD = Laya.Shader3D.propertyNameToID(\"u_NormalHold\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EdgeEffect, EdgeMode } from \"../common/EdgeEffect\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport DepthTextureMode = Laya.DepthTextureMode;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Loader = Laya.Loader;\r\nimport PostProcess = Laya.PostProcess;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport HSlider = Laya.HSlider;\r\nimport Browser = Laya.Browser;\r\nimport Slider = Laya.Slider;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\n\r\n\r\nexport class PostProcess_Edge extends SingletonScene {\r\n    private btns: Laya.Button[] = [];\r\n    private sliders: Laya.Slider[] = [];\r\n    s_scene: Scene3D;\r\n    camera: Camera;\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n\r\n        // Stat.show();\r\n\r\n        Shader3D.debugMode = true;\r\n\r\n        this.s_scene = new Scene3D();\r\n        this.camera = <Camera>this.s_scene.addChild(new Camera(0, 0.2, 50));\r\n        this.camera.addComponent(CameraMoveScript);\r\n        this.camera.transform.position = new Vector3(0, 4, 10);\r\n        this.camera.transform.rotation = new Quaternion(-0.2, 0, 0, 0.97);\r\n\r\n        this.addLight();\r\n\r\n        let res: string[] = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/dude.lh\",\r\n        ];\r\n\r\n        Laya.loader.create(res, Handler.create(this, this.onResComplate));\r\n\r\n    }\r\n\r\n    onResComplate(): void {\r\n        this.AutoSetScene3d(this.s_scene);\r\n        let sphere: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createSphere(1), \"Sphere\");\r\n        this.s_scene.addChild(sphere);\r\n        sphere.transform.position = new Vector3(0, 1, 0);\r\n\r\n        let plane: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createPlane(), \"Plane\");\r\n        this.s_scene.addChild(plane);\r\n        plane.transform.position = new Vector3(0, -0.5, 0);\r\n\r\n        let cube: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1), \"Cube\");\r\n        this.s_scene.addChild(cube);\r\n        cube.transform.position = new Vector3(0, 3, 0);\r\n\r\n        this.camera.depthTextureMode |= DepthTextureMode.DepthNormals;\r\n\r\n        let dude: Sprite3D = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/dude.lh\");\r\n        this.s_scene.addChild(dude);\r\n        dude.transform.position = new Vector3(1.5, 0, 0);\r\n        dude.transform.rotationEuler = new Vector3(0, 180, 0);\r\n\r\n        let postProcess: PostProcess = new PostProcess();\r\n        this.camera.postProcess = postProcess;\r\n\r\n        let edgeEffect: EdgeEffect = new EdgeEffect();\r\n        postProcess.addEffect(edgeEffect);\r\n\r\n        this.addUI(edgeEffect);\r\n    }\r\n\r\n    addLight(): void {\r\n\r\n        let dirLightDirections: Vector3[] = [new Vector3(-1, -1, -1), new Vector3(1, -1, -1)]\r\n        let lightColor: Vector3 = new Vector3(0.6, 0.6, 0.6);\r\n        for (let index = 0; index < dirLightDirections.length; index++) {\r\n            let dir: Vector3 = dirLightDirections[index];\r\n            Vector3.normalize(dir, dirLightDirections[index]);\r\n            let dirLight: DirectionLight = new DirectionLight();\r\n            this.s_scene.addChild(dirLight);\r\n            dirLight.transform.worldMatrix.setForward(dirLightDirections[index]);\r\n            dirLight.color = lightColor;\r\n        }\r\n\r\n    }\r\n\r\n    addUI(edgeEffect: EdgeEffect): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/ui/hslider.png\", GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\",\r\n        GlobalConfig.ResPath + \"res/ui/hslider$bar.png\", GlobalConfig.ResPath + \"res/ui/colorPicker.png\"], Handler.create(this, function () {\r\n\r\n            let colorButton: Button = this.addButton(100, 250, 160, 30, \"color edge\", 20, function () {\r\n                edgeEffect.edgeMode = EdgeMode.ColorEdge;\r\n                colorSlider.visible = true;\r\n                normalSlider.visible = false;\r\n                depthSlider.visible = false;\r\n            });\r\n\r\n            let colorSlider: HSlider = this.addSlider(100, 290, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.colorHold = value;\r\n            });\r\n\r\n            let normalFunc: Function = function () {\r\n                edgeEffect.edgeMode = EdgeMode.NormalEdge;\r\n                colorSlider.visible = false;\r\n                normalSlider.visible = true;\r\n                depthSlider.visible = false;\r\n            };\r\n            let normalButton: Button = this.addButton(100, 330, 160, 30, \"normal edge\", 20, normalFunc);\r\n\r\n            let normalSlider: HSlider = this.addSlider(100, 370, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.normalHold = value;\r\n            });\r\n\r\n            let depthButton: Button = this.addButton(100, 410, 160, 30, \"depth edge\", 20, function () {\r\n                edgeEffect.edgeMode = EdgeMode.DepthEdge;\r\n                colorSlider.visible = false;\r\n                normalSlider.visible = false;\r\n                depthSlider.visible = true;\r\n            });\r\n\r\n            let depthSlider: HSlider = this.addSlider(100, 450, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.depthHold = value;\r\n            });\r\n\r\n            let source: Button = this.addButton(100, 490, 160, 30, \"show source\", 20, function () {\r\n                edgeEffect.showSource = !edgeEffect.showSource;\r\n            });\r\n\r\n            normalFunc();\r\n\r\n        }));\r\n    }\r\n\r\n    addBtn(x: number, y: number, width: number, height: number, text: string, size: number, clickFunc: Function) {\r\n        let button: Button = <Button>Laya.stage.addChild(new Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", text));\r\n        button.size(width, height);\r\n        button.labelBold = true;\r\n        button.labelSize = size;\r\n        button.sizeGrid = \"4,4,4,4\";\r\n        button.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n        button.pos(x, y);\r\n        button.on(Event.CLICK, this, clickFunc);\r\n        this.btns.push(button);\r\n        return button;\r\n    }\r\n\r\n    addSlider(x: number, y: number, width: number, min: number, max: number, value: number, tick: number, changeFunc: Function) {\r\n        let slider: HSlider = <HSlider>Laya.stage.addChild(new Slider(GlobalConfig.ResPath + \"res/ui/hslider.png\"));\r\n        slider.width = width;\r\n        slider.pos(x, y);\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.tick = tick;\r\n        slider.changeHandler = Handler.create(this, changeFunc, [], false);\r\n\r\n        slider.visible = false;\r\n        this.sliders.push(slider);\r\n        return slider;\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = true;\r\n        }\r\n        for (var i = 0; i < this.sliders.length; i++) {\r\n            this.sliders[i].visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = false;\r\n        }\r\n        for (var i = 0; i < this.sliders.length; i++) {\r\n            this.sliders[i].visible = false;\r\n        }\r\n    }\r\n\r\n}\r\n","var FullScreenVert = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME SCREENVS\\r\\n\\r\\n#include \\\"Lighting.glsl\\\";\\r\\n\\r\\nattribute vec4 a_PositionTexcoord;\\r\\nuniform vec4 u_OffsetScale;\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nvoid main() {\\t\\r\\n\\tgl_Position = vec4(u_OffsetScale.x*2.0-1.0+(a_PositionTexcoord.x+1.0)*u_OffsetScale.z,(1.0-((u_OffsetScale.y*2.0-1.0+(-a_PositionTexcoord.y+1.0)*u_OffsetScale.w)+1.0)/2.0)*2.0-1.0, 0.0, 1.0);\\t\\r\\n\\tv_Texcoord0 = a_PositionTexcoord.zw;\\r\\n\\tgl_Position = remapGLPositionZ(gl_Position);\\r\\n}\\r\\n\";\r\n\r\nvar CoCFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME COCFS\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform vec4 u_ZBufferParams;\\r\\nuniform vec3 u_CoCParams;\\r\\n\\r\\n#ifdef CAMERA_NORMALDEPTH\\r\\n    uniform sampler2D u_CameraDepthNormalTexture;\\r\\n#else\\r\\n    uniform sampler2D u_CameraDepthTexture;\\r\\n#endif\\r\\n\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\n// Z buffer to linear 0..1 depth\\r\\nfloat Linear01Depth(float z,vec4 zbufferParams)\\r\\n{\\r\\n    return 1.0 / (zbufferParams.x * z + zbufferParams.y);\\r\\n}\\r\\n\\r\\n// Z buffer to linear depth\\r\\nfloat LinearEyeDepth(float z,vec4 zbufferParams)\\r\\n{\\r\\n    return 1.0 / (zbufferParams.z * z + zbufferParams.w);\\r\\n}\\r\\n\\r\\nfloat DecodeFloatRG(vec2 enc )\\r\\n{\\r\\n    vec2 kDecodeDot = vec2(1.0, 1.0/255.0);\\r\\n    return dot( enc, kDecodeDot );\\r\\n}\\r\\n\\r\\nvoid DecodeDepthNormal(vec4 enc, out float depth)\\r\\n{\\r\\n    depth = DecodeFloatRG (enc.zw);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n    #ifdef CAMERA_NORMALDEPTH\\r\\n        vec4 depthNormal = texture2D(u_CameraDepthNormalTexture, v_Texcoord0);\\r\\n        float depth = 0.0;\\r\\n        DecodeDepthNormal(depthNormal, depth);\\r\\n        depth = ((1.0 / depth) - u_ZBufferParams.y) * (1.0 / u_ZBufferParams.x);\\r\\n    #else\\r\\n        float depth = texture2D(u_CameraDepthTexture, v_Texcoord0).x;\\r\\n    #endif\\r\\n\\r\\n    depth = LinearEyeDepth(depth, u_ZBufferParams);\\r\\n    float farStart = u_CoCParams.x;\\r\\n    float farEnd = u_CoCParams.y;\\r\\n\\r\\n    float coc = (depth - farStart) / (farEnd - farStart);\\r\\n    coc = clamp(coc, 0.0, 1.0);\\r\\n    gl_FragColor = vec4(coc, coc, coc, 1.0);\\r\\n}\\r\\n\";\r\n\r\nvar PrefilterFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME PrefilterFS\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform sampler2D u_FullCoCTex;\\r\\nuniform vec4 u_MainTex_TexelSize;\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nconst int kCount = 5;\\r\\nvec2 kTaps[5];\\r\\n\\r\\nvoid main () {\\r\\n\\r\\n    kTaps[0] = vec2( 0.0,  0.0);\\r\\n    kTaps[1] = vec2( 0.9, -0.4);\\r\\n    kTaps[2] = vec2(-0.9,  0.4);\\r\\n    kTaps[3] = vec2( 0.4,  0.9);\\r\\n    kTaps[4] = vec2(-0.4, -0.9);\\r\\n\\r\\n    vec3 colorAcc = vec3(0.0);\\r\\n    float farCoCAcc = 0.0;\\r\\n    for (int i = 0; i < kCount; i++) {\\r\\n        vec2 uv = u_MainTex_TexelSize.xy * kTaps[i] + v_Texcoord0;\\r\\n        vec3 tapColor = texture2D(u_MainTex, uv).rgb;\\r\\n        float coc = texture2D(u_FullCoCTex, uv).r;\\r\\n\\r\\n        colorAcc += tapColor * coc;\\r\\n        farCoCAcc += coc;\\r\\n    }\\r\\n    vec3 color = colorAcc * (1.0 / float(kCount));\\r\\n    float farCoC = farCoCAcc * (1.0 / float(kCount));\\r\\n\\r\\n    // float farCoC = texture2D(u_FullCoCTex, v_Texcoord0).x;\\r\\n    // vec3 color = texture2D(u_MainTex, v_Texcoord0).rgb;\\r\\n    // color *= farCoC;\\r\\n\\r\\n    gl_FragColor = vec4(color, farCoC);\\r\\n}\";\r\n\r\nvar BlurVFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME BlurVFS\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\n\\r\\nuniform vec4 u_SourceSize;\\r\\nuniform vec4 u_DownSampleScale;\\r\\nuniform vec3 u_CoCParams;\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\n// todo 3 & 5\\r\\nconst int kTapCount = 3;\\r\\nfloat kOffsets[3];\\r\\nfloat kCoeffs[3];\\r\\n\\r\\n\\r\\nvec4 Blur(vec2 dir, float premultiply) {\\r\\n\\r\\n    kOffsets[0] = -1.33333333;\\r\\n    kOffsets[1] = 0.00000000;\\r\\n    kOffsets[2] = 1.33333333;\\r\\n\\r\\n    kCoeffs[0] = 0.35294118;\\r\\n    kCoeffs[1] = 0.29411765;\\r\\n    kCoeffs[2] = 0.3529411;\\r\\n\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    // ivec2 positionSS = ivec2(u_SourceSize.xy * uv);\\r\\n\\r\\n    vec4 halfColor = texture2D(u_MainTex, uv);\\r\\n    float samp0CoC = halfColor.a;\\r\\n\\r\\n    float maxRadius = u_CoCParams.z;\\r\\n    vec2 offset = u_SourceSize.zw * dir * samp0CoC * maxRadius;\\r\\n\\r\\n    vec4 acc = vec4(0.0);\\r\\n\\r\\n    for (int i = 0; i < kTapCount; i++) {\\r\\n        vec2 sampCoord = uv + kOffsets[i] * offset;\\r\\n        vec4 samp = texture2D(u_MainTex, sampCoord);\\r\\n        float sampCoC = samp.w;\\r\\n        vec3 sampColor = samp.xyz;\\r\\n\\r\\n        float weight = clamp(1.0 - (samp0CoC - sampCoC), 0.0, 1.0);\\r\\n        acc += vec4(sampColor, 1.0) * kCoeffs[i] * weight;\\r\\n    }\\r\\n\\r\\n    acc.xyz /= acc.w + 1e-4;\\r\\n    return vec4(acc.xyz, 1.0);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n    gl_FragColor = Blur(vec2(0.0, 1.0), 0.0);\\r\\n    // gl_FragColor = texture2D(u_MainTex, v_Texcoord0);\\r\\n}\\r\\n\";\r\n\r\nvar BlurHFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME BlurHFS\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\n\\r\\nuniform vec4 u_SourceSize;\\r\\nuniform vec4 u_DownSampleScale;\\r\\nuniform vec3 u_CoCParams;\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nconst int kTapCount = 3;\\r\\nfloat kOffsets[3];\\r\\nfloat kCoeffs[3];\\r\\n\\r\\nvec4 Blur(vec2 dir, float premultiply) {\\r\\n\\r\\n    kOffsets[0] = -1.33333333;\\r\\n    kOffsets[1] = 0.00000000;\\r\\n    kOffsets[2] = 1.33333333;\\r\\n\\r\\n    kCoeffs[0] = 0.35294118;\\r\\n    kCoeffs[1] = 0.29411765;\\r\\n    kCoeffs[2] = 0.3529411;\\r\\n\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    // ivec2 positionSS = ivec2(u_SourceSize.xy * uv);\\r\\n\\r\\n    vec4 halfColor = texture2D(u_MainTex, uv);\\r\\n    float samp0CoC = halfColor.a;\\r\\n\\r\\n    float maxRadius = u_CoCParams.z;\\r\\n    vec2 offset = u_SourceSize.zw  * dir * samp0CoC * maxRadius;\\r\\n\\r\\n    vec4 acc = vec4(0.0);\\r\\n\\r\\n    for (int i = 0; i < kTapCount; i++) {\\r\\n        vec2 sampCoord = uv + kOffsets[i] * offset;\\r\\n        vec4 samp = texture2D(u_MainTex, sampCoord);\\r\\n        float sampCoC = samp.a;\\r\\n        vec3 sampColor = samp.rgb;\\r\\n\\r\\n        float weight = clamp(1.0 - (samp0CoC - sampCoC), 0.0, 1.0);\\r\\n        acc += vec4(sampColor, sampCoC) * kCoeffs[i] * weight;\\r\\n    }\\r\\n\\r\\n    acc.xyz /= acc.w + 1e-4;\\r\\n    return vec4(acc.xyz, samp0CoC);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n    gl_FragColor = Blur(vec2(1.0, 0.0), 1.0);\\r\\n}\";\r\n\r\nvar CompositeFS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform sampler2D u_BlurCoCTex;\\r\\nuniform sampler2D u_FullCoCTex;\\r\\n\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n    vec3 baseColor = texture2D(u_MainTex, v_Texcoord0).rgb;\\r\\n    vec4 samplevalue = texture2D(u_BlurCoCTex, v_Texcoord0);\\r\\n    vec3 farColor = samplevalue.rgb;\\r\\n    float coc = texture2D(u_FullCoCTex, v_Texcoord0).r;\\r\\n\\r\\n    vec3 dstColor = vec3(0.0);\\r\\n    float dstAlpha = 1.0;\\r\\n\\r\\n    float blend = sqrt(coc * 3.14 * 2.0);\\r\\n    dstColor = farColor * clamp(blend, 0.0, 1.0);\\r\\n    dstAlpha = clamp(1.0 - blend, 0.0, 1.0);\\r\\n\\r\\n\\r\\n    gl_FragColor = vec4(baseColor * dstAlpha + dstColor, 1.0);\\r\\n\\r\\n}\";\r\n\r\nexport class GaussianDoF extends Laya.PostProcessEffect {\r\n    _shader: any;\r\n    _shaderData: any;\r\n    _zBufferParams: any;\r\n    _sourceSize: any;\r\n    _dowmSampleScale: any;\r\n\r\n    static COCPARAMS: any;\r\n    static SHADERDEFINE_DEPTHNORMALTEXTURE: any;\r\n    static DOWNSAMPLESCALE: any;\r\n    static ZBUFFERPARAMS: any;\r\n    static DEPTHTEXTURE: any;\r\n    static NORMALDEPTHTEXTURE: any;\r\n    static FULLCOCTEXTURE: any;\r\n    static SOURCESIZE: any;\r\n    static BLURCOCTEXTURE: any;\r\n\r\n    constructor() {\r\n        GaussianDoF.__init__();\r\n        super();\r\n        this._shader = Laya.Shader3D.find(\"GaussianDoF\");\r\n        this._shaderData = new Laya.ShaderData();\r\n        this._shaderData.setVector3(GaussianDoF.COCPARAMS, new Laya.Vector3(10, 30, 1));\r\n        this._zBufferParams = new Laya.Vector4();\r\n        this._sourceSize = new Laya.Vector4();\r\n        this._dowmSampleScale = new Laya.Vector4();\r\n        GaussianDoF.SOURCESIZE = Laya.Shader3D.propertyNameToID(\"u_SourceSize\");\r\n        GaussianDoF.ZBUFFERPARAMS = Laya.Shader3D.propertyNameToID(\"u_ZBufferParams\");\r\n        GaussianDoF.COCPARAMS = Laya.Shader3D.propertyNameToID(\"u_CoCParams\");\r\n        GaussianDoF.DEPTHTEXTURE = Laya.Shader3D.propertyNameToID(\"u_CameraDepthTexture\");\r\n        GaussianDoF.NORMALDEPTHTEXTURE = Laya.Shader3D.propertyNameToID(\"u_CameraDepthNormalTexture\");\r\n        GaussianDoF.FULLCOCTEXTURE = Laya.Shader3D.propertyNameToID(\"u_FullCoCTex\");\r\n        GaussianDoF.DOWNSAMPLESCALE = Laya.Shader3D.propertyNameToID(\"u_DownSampleScale\");\r\n        GaussianDoF.BLURCOCTEXTURE = Laya.Shader3D.propertyNameToID(\"u_BlurCoCTex\");\r\n    }\r\n    static __init__() {\r\n        GaussianDoF.SOURCESIZE = Laya.Shader3D.propertyNameToID(\"u_SourceSize\");\r\n        GaussianDoF.ZBUFFERPARAMS = Laya.Shader3D.propertyNameToID(\"u_ZBufferParams\");\r\n        GaussianDoF.COCPARAMS = Laya.Shader3D.propertyNameToID(\"u_CoCParams\");\r\n        GaussianDoF.DEPTHTEXTURE = Laya.Shader3D.propertyNameToID(\"u_CameraDepthTexture\");\r\n        GaussianDoF.NORMALDEPTHTEXTURE = Laya.Shader3D.propertyNameToID(\"u_CameraDepthNormalTexture\");\r\n        GaussianDoF.FULLCOCTEXTURE = Laya.Shader3D.propertyNameToID(\"u_FullCoCTex\");\r\n        GaussianDoF.DOWNSAMPLESCALE = Laya.Shader3D.propertyNameToID(\"u_DownSampleScale\");\r\n        GaussianDoF.BLURCOCTEXTURE = Laya.Shader3D.propertyNameToID(\"u_BlurCoCTex\");\r\n        GaussianDoF.SHADERDEFINE_DEPTHNORMALTEXTURE = Laya.Shader3D.getDefineByName(\"CAMERA_NORMALDEPTH\");\r\n        let attributeMap = {\r\n            'a_PositionTexcoord': Laya.VertexMesh.MESH_POSITION0\r\n        };\r\n        let uniformMap = {\r\n            'u_MainTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_OffsetScale': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_ZBufferParams': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_CoCParams': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_CameraDepthTexture': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_CameraDepthNormalTexture': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_FullCoCTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_SourceSize': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DownSampleScale': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_BlurCoCTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_MainTex_TexelSize': Laya.Shader3D.PERIOD_MATERIAL,\r\n        };\r\n        let shader = Laya.Shader3D.add(\"GaussianDoF\");\r\n        let cocSubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(cocSubShader);\r\n        let cocPass = cocSubShader.addShaderPass(FullScreenVert, CoCFS);\r\n        let prefilterSubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(prefilterSubShader);\r\n        let prefilterPass = prefilterSubShader.addShaderPass(FullScreenVert, PrefilterFS);\r\n        let blurHSubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(blurHSubShader);\r\n        let blurHPass = blurHSubShader.addShaderPass(FullScreenVert, BlurHFS);\r\n        let blurVSubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(blurVSubShader);\r\n        let blurVPass = blurVSubShader.addShaderPass(FullScreenVert, BlurVFS);\r\n        let compositeSubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(compositeSubShader);\r\n        let compositePass = compositeSubShader.addShaderPass(FullScreenVert, CompositeFS);\r\n    }\r\n    set farStart(value) {\r\n        let cocParams = this._shaderData.getVector3(GaussianDoF.COCPARAMS);\r\n        cocParams.x = value;\r\n        this._shaderData.setVector3(GaussianDoF.COCPARAMS, cocParams);\r\n    }\r\n    get farStart() {\r\n        return this._shaderData.getVector3(GaussianDoF.COCPARAMS).x;\r\n    }\r\n    set farEnd(value) {\r\n        let cocParams = this._shaderData.getVector3(GaussianDoF.COCPARAMS);\r\n        cocParams.y = Math.max(cocParams.x, value);\r\n        this._shaderData.setVector3(GaussianDoF.COCPARAMS, cocParams);\r\n    }\r\n    get farEnd() {\r\n        return this._shaderData.getVector3(GaussianDoF.COCPARAMS).y;\r\n    }\r\n    set maxRadius(value) {\r\n        let cocParams = this._shaderData.getVector3(GaussianDoF.COCPARAMS);\r\n        cocParams.z = Math.min(value, 2);\r\n        this._shaderData.setVector3(GaussianDoF.COCPARAMS, cocParams);\r\n    }\r\n    get maxRadius() {\r\n        return this._shaderData.getVector3(GaussianDoF.COCPARAMS).z;\r\n    }\r\n    setupShaderValue(context) {\r\n        let camera = context.camera;\r\n        let source = context.source;\r\n        this._dowmSampleScale.setValue(0.5, 0.5, 2.0, 2.0);\r\n        this._shaderData.setVector(GaussianDoF.DOWNSAMPLESCALE, this._dowmSampleScale);\r\n        let far = camera.farPlane;\r\n        let near = camera.nearPlane;\r\n        this._zBufferParams.setValue(1.0 - far / near, far / near, (near - far) / (near * far), 1 / near);\r\n        this._shaderData.setVector(GaussianDoF.ZBUFFERPARAMS, this._zBufferParams);\r\n        if (camera.depthTextureMode & Laya.DepthTextureMode.Depth) {\r\n            let depthTexture = camera.depthTexture;\r\n            this._shaderData.setTexture(GaussianDoF.DEPTHTEXTURE, depthTexture);\r\n            this._shaderData.removeDefine(GaussianDoF.SHADERDEFINE_DEPTHNORMALTEXTURE);\r\n        }\r\n        else if (camera.depthTextureMode & Laya.DepthTextureMode.DepthNormals) {\r\n            let depthNormalTexture = camera.depthNormalTexture;\r\n            this._shaderData.setTexture(GaussianDoF.NORMALDEPTHTEXTURE, depthNormalTexture);\r\n            this._shaderData.addDefine(GaussianDoF.SHADERDEFINE_DEPTHNORMALTEXTURE);\r\n        }\r\n        else {\r\n            camera.depthTextureMode |= Laya.DepthTextureMode.Depth;\r\n        }\r\n    }\r\n    render(context) {\r\n        let cmd = context.command;\r\n        let viewport = context.camera.viewport;\r\n        let camera = context.camera;\r\n        this.setupShaderValue(context);\r\n        let source = context.source;\r\n        let shader = this._shader;\r\n        let shaderData = this._shaderData;\r\n        let dataTexFormat = Laya.RenderTextureFormat.R16G16B16A16;\r\n        let fullCoC = Laya.RenderTexture.createFromPool(source.width, source.height, dataTexFormat, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE, 1);\r\n        cmd.blitScreenTriangle(source, fullCoC, null, shader, shaderData, 0);\r\n        fullCoC.filterMode = Laya.FilterMode.Bilinear;\r\n        this._shaderData.setTexture(GaussianDoF.FULLCOCTEXTURE, fullCoC);\r\n        let prefilterTex = Laya.RenderTexture.createFromPool(source.width / 2, source.height / 2, dataTexFormat, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE, 1);\r\n        cmd.blitScreenTriangle(source, prefilterTex, null, shader, shaderData, 1);\r\n        prefilterTex.filterMode = Laya.FilterMode.Bilinear;\r\n        this._sourceSize.setValue(prefilterTex.width, prefilterTex.height, 1.0 / prefilterTex.width, 1.0 / prefilterTex.height);\r\n        this._shaderData.setValueData(GaussianDoF.SOURCESIZE, this._sourceSize);\r\n        let blurHTex = Laya.RenderTexture.createFromPool(prefilterTex.width, prefilterTex.height, dataTexFormat, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE, 1);\r\n        cmd.blitScreenTriangle(prefilterTex, blurHTex, null, this._shader, this._shaderData, 2);\r\n        let blurVTex = Laya.RenderTexture.createFromPool(prefilterTex.width, prefilterTex.height, dataTexFormat, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE, 1);\r\n        cmd.blitScreenTriangle(blurHTex, blurVTex, null, this._shader, this._shaderData, 3);\r\n        blurVTex.filterMode = Laya.FilterMode.Bilinear;\r\n        blurVTex.anisoLevel = 1;\r\n        fullCoC.filterMode = Laya.FilterMode.Point;\r\n        this._shaderData.setTexture(GaussianDoF.BLURCOCTEXTURE, blurVTex);\r\n        let finalTex = Laya.RenderTexture.createFromPool(source.width, source.height, source.format, source.depthStencilFormat, 1);\r\n        cmd.blitScreenTriangle(source, finalTex, null, this._shader, this._shaderData, 4);\r\n        context.source = finalTex;\r\n        Laya.RenderTexture.recoverToPool(fullCoC);\r\n        Laya.RenderTexture.recoverToPool(prefilterTex);\r\n        Laya.RenderTexture.recoverToPool(blurHTex);\r\n        Laya.RenderTexture.recoverToPool(blurVTex);\r\n        context.deferredReleaseTextures.push(finalTex);\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GaussianDoF } from \"../common/GaussianDoF\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Loader = Laya.Loader;\r\nimport DepthTextureMode = Laya.DepthTextureMode;\r\nimport PostProcess = Laya.PostProcess;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class PostProcessDoF extends SingletonScene {\r\n\r\n    scene: Scene3D;\r\n    camera: Camera;\r\n\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n\r\n        // Stat.show();\r\n        super();\r\n        Shader3D.debugMode = true;\r\n\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_zhuandibanben/Conventional/zhuandibanben.ls\", Handler.create(this, this.onComplate));\r\n\r\n    }\r\n\r\n    onComplate(): void {\r\n\r\n        let scene: Scene3D = this.scene = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_zhuandibanben/Conventional/zhuandibanben.ls\");\r\n        this.AutoSetScene3d(scene);\r\n        let camera: Camera = this.camera = <Camera>scene.getChildByName(\"MainCamera\");\r\n        camera.addComponent(CameraMoveScript);\r\n        let mainCamera = scene.getChildByName(\"BlurCamera\");\r\n        mainCamera.removeSelf();\r\n        camera.depthTextureMode |= DepthTextureMode.Depth;\r\n\r\n        let postProcess: PostProcess = new PostProcess();\r\n        camera.postProcess = postProcess;\r\n\r\n        let gaussianDoF: GaussianDoF = new GaussianDoF();\r\n        console.log(gaussianDoF);\r\n\r\n        postProcess.addEffect(gaussianDoF);\r\n        gaussianDoF.farStart = 1;\r\n        gaussianDoF.farEnd = 5;\r\n        gaussianDoF.maxRadius = 1.0;\r\n    }\r\n}\r\n","var BlitScreenVS = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#include \\\"Lighting.glsl\\\";\\r\\n\\r\\n#define SHADER_NAME ScalableAO:VS\\r\\n\\r\\nattribute vec4 a_PositionTexcoord;\\r\\nuniform vec4 u_OffsetScale;\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nuniform mat4 u_Projection;\\r\\nuniform mat4 u_View;\\r\\n\\r\\nvarying mat4 v_inverseView;\\r\\nvarying mat4 v_inverseProj;\\r\\n\\r\\nvoid main() {\\t\\r\\n\\tgl_Position = vec4(u_OffsetScale.x*2.0-1.0+(a_PositionTexcoord.x+1.0)*u_OffsetScale.z,(1.0-((u_OffsetScale.y*2.0-1.0+(-a_PositionTexcoord.y+1.0)*u_OffsetScale.w)+1.0)/2.0)*2.0-1.0, 0.0, 1.0);\\t\\r\\n\\tv_Texcoord0 = a_PositionTexcoord.zw;\\r\\n\\tgl_Position = remapGLPositionZ(gl_Position);\\r\\n\\r\\n\\tv_inverseView = INVERSE_MAT(u_View);\\r\\n\\tv_inverseProj = INVERSE_MAT(u_Projection);\\r\\n}\";\r\n\r\nvar FragAO = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME FragAO\\r\\n\\r\\n#include \\\"DepthNormalUtil.glsl\\\";\\r\\n\\r\\n// define const\\r\\n#define SAMPLE_COUNT 6.0\\r\\n#define TWO_PI 6.28318530718\\r\\n#define EPSILON 1.0e-4\\r\\nconst float kBeta = 0.002;\\r\\nconst float kContrast = 0.6;\\r\\n// varying\\r\\nvarying vec2 v_Texcoord0;\\r\\nvarying mat4 v_inverseProj;\\r\\n// uniform\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform float u_radius;\\r\\nuniform float u_Intensity;\\r\\n\\r\\n\\r\\nuniform mat4 u_Projection;\\r\\nuniform vec4 u_ProjectionParams;\\r\\nuniform mat4 u_ViewProjection;\\r\\nuniform mat4 u_View;\\r\\nuniform float u_Time;\\r\\n\\r\\n// é‡‡æ · depthNormalTexture, è¿”å›ž positionCS.z, normalVS\\r\\nfloat GetDepthCSNormalVS(vec2 uv, out vec3 normalVS) {\\r\\n    vec4 env = texture2D(u_CameraDepthNormalsTexture, uv);\\r\\n    float depthCS = 0.0;\\r\\n    DecodeDepthNormal(env, depthCS, normalVS);\\r\\n    normalVS = normalize(normalVS);\\r\\n    return depthCS;\\r\\n}\\r\\n\\r\\n// è¿”å›ž è§‚å¯Ÿç©ºé—´æ·±åº¦\\r\\nfloat GetDepthVS(float depthCS) {\\r\\n\\r\\n    return LinearEyeDepth(depthCS, u_ZBufferParams);\\r\\n    // return depthCS * 20.0;\\r\\n}\\r\\n\\r\\n// æ ¹æ®å±å¹•uvå’Œæ·±åº¦å€¼ï¼Œè®¡ç®— è§‚å¯Ÿç©ºé—´åæ ‡\\r\\nvec3 GetPositionVS(vec2 uv, float depthCS) {\\r\\n    vec3 positionNDC = vec3(uv * 2.0 - 1.0, depthCS);\\r\\n\\r\\n    vec4 positionVS = v_inverseProj * vec4(positionNDC, 1.0);\\r\\n    return positionVS.xyz / positionVS.w;\\r\\n}\\r\\n\\r\\nfloat UVRandom(float u, float v) {\\r\\n    float f = dot(vec2(12.9898, 78.233), vec2(u, v));\\r\\n    return fract(43758.5453 * sin(f));\\r\\n}\\r\\n\\r\\n// èŽ·å–éšæœºåç§»\\r\\nvec3 PickSamplePoint(vec2 uv, int i) {\\r\\n    float index = float(i);\\r\\n\\r\\n    float time =sin(u_Time*2.0);\\r\\n    // todo  é‡‡æ · noise ä»£æ›¿è®¡ç®—éšæœº?\\r\\n    float u = UVRandom(uv.x + time, uv.y + index) * 2.0 - 1.0;\\r\\n    float theta = UVRandom(-uv.x - time, uv.y + index) * TWO_PI;\\r\\n\\r\\n    vec3 v = vec3(vec2(cos(theta), sin(theta)) * sqrt(1.0 - u * u), u);\\r\\n    float l = sqrt((index + 1.0) / SAMPLE_COUNT) * u_radius;\\r\\n    return v * l;\\r\\n}\\r\\n\\r\\nvec4 PackAONormal(float ao, vec3 normal) {\\r\\n    return vec4(ao, normal * 0.5 + 0.5);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    //æ³•çº¿\\r\\n    vec3 normalVS = vec3(0.0);\\r\\n    float depthCS = GetDepthCSNormalVS(uv, normalVS);\\r\\n    //éžçº¿æ€§æ·±åº¦\\r\\n    depthCS = SAMPLE_DEPTH_TEXTURE(u_CameraDepthTexture, uv);\\r\\n    //çº¿æ€§æ·±åº¦\\r\\n    float depthVS = GetDepthVS(depthCS);\\r\\n    //èŽ·å¾—è§‚å¯Ÿç©ºé—´çš„ä½ç½®\\r\\n    vec3 positionVS = GetPositionVS(uv, depthCS);\\r\\n\\r\\n    float ao = 0.0;\\r\\n    vec3 tempNormalVS;\\r\\n    \\r\\n    for (int s = 0; s < int(SAMPLE_COUNT); s++) {\\r\\n        // éšæœºåç§»\\r\\n        vec3 sampleOffset = PickSamplePoint(uv, s);\\r\\n        // è°ƒæ•´åç§»æ–¹å‘ï¼Œ ä¸Ž normalVS åŒå‘,ä¿è¯åŠçƒ\\r\\n        sampleOffset = -sampleOffset * sign(dot(-normalVS , sampleOffset));\\r\\n        sampleOffset = sampleOffset*0.5;\\r\\n\\r\\n        vec3 positionVS_S = sampleOffset + positionVS;\\r\\n\\r\\n        // å°†åç§»åŽview space åæ ‡ ä¹˜ä¸ŠæŠ•å½±çŸ©é˜µè½¬æ¢åˆ° clip space\\r\\n        vec3 positionCS_S = (u_Projection * vec4(positionVS_S, 1.0)).xyz;\\r\\n        // èŽ·å– åç§»ç‚¹ çš„å±å¹• uv\\r\\n        vec2 uv_S = (positionCS_S.xy / (-positionVS_S.z) + 1.0) * 0.5;\\r\\n        // é‡‡æ · uv_S èŽ·å– æ·±åº¦å€¼\\r\\n        //å–å¾—æ·±åº¦\\r\\n        float depthCS_S = SAMPLE_DEPTH_TEXTURE(u_CameraDepthTexture, uv_S);\\r\\n        if (uv_S.x < 0.0 || uv_S.y > 1.0) {\\r\\n            depthCS_S += 1.0e8;\\r\\n        }\\r\\n        //å¾—åˆ°é‡‡æ ·ç‚¹çš„ä¸–ç•Œåæ ‡\\r\\n        vec3 positionVS_S2 = GetPositionVS(uv_S, depthCS_S);\\r\\n        vec3 sampleOffset2 = positionVS_S2 - positionVS;\\r\\n        float a1 = max(dot(sampleOffset2, normalVS) - kBeta * depthVS, 0.0);\\r\\n        float a2 = dot(sampleOffset2, sampleOffset2) + EPSILON;\\r\\n        ao += a1/ a2;\\r\\n    }\\r\\n\\r\\n    ao *= u_radius;\\r\\n\\r\\n    ao = pow(abs(ao * u_Intensity / SAMPLE_COUNT), kContrast);\\r\\n\\r\\n     gl_FragColor = PackAONormal(ao, normalVS);\\r\\n}\";\r\n\r\nvar AoBlurHorizontal = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME AOBlurHorizontal\\r\\n//è´¨é‡\\r\\n#define BLUR_HIGH_QUALITY 0\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform vec4 u_MainTex_TexelSize;\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nuniform vec2 u_Delty;\\r\\n\\r\\nvec3 GetPackedNormal(vec4 p)\\r\\n{\\r\\n    return p.gba * 2.0 - 1.0;\\r\\n}\\r\\n\\r\\nfloat CompareNormal(vec3 d1, vec3 d2)\\r\\n{\\r\\n    return smoothstep(0.8, 1.0, dot(d1, d2));\\r\\n}\\r\\n\\r\\nfloat GetPackedAO(vec4 p)\\r\\n{\\r\\n    return p.r;\\r\\n}\\r\\n\\r\\nvec4 PackAONormal(float ao, vec3 normal) {\\r\\n    return vec4(ao, normal * 0.5 + 0.5);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n\\t vec2 delta = vec2(u_MainTex_TexelSize.x * 2.0*u_Delty.x,u_Delty.y*u_MainTex_TexelSize.y*2.0);\\r\\n\\t vec2 uv = v_Texcoord0;\\r\\n\\r\\n\\r\\n#if defined(BLUR_HIGH_QUALITY)\\r\\n\\r\\n    // High quality 7-tap Gaussian with adaptive sampling\\r\\n\\tvec2 uvtran = uv;\\r\\n    vec4 p0  = texture2D(u_MainTex,uv);\\r\\n\\tuvtran = uv-delta;\\r\\n    vec4 p1a = texture2D(u_MainTex,uvtran);\\r\\n\\tuvtran = uv+delta;\\r\\n    vec4 p1b = texture2D(u_MainTex,uvtran);\\r\\n\\tuvtran = uv-delta*2.0;\\r\\n    vec4 p2a =  texture2D(u_MainTex,uvtran);\\r\\n\\tuvtran = uv+delta*2.0;\\r\\n    vec4 p2b =  texture2D(u_MainTex,uvtran);\\r\\n\\tuvtran = uv-delta * 3.2307692308;\\r\\n    vec4 p3a =  texture2D(u_MainTex,uvtran);;\\r\\n\\tuvtran = uv+delta * 3.2307692308;\\r\\n    vec4 p3b =  texture2D(u_MainTex,uvtran);;\\r\\n\\r\\n    vec3 n0 = GetPackedNormal(p0);\\r\\n    \\r\\n\\r\\n    float w0  = 0.37004405286;\\r\\n    float w1a = CompareNormal(n0, GetPackedNormal(p1a)) * 0.31718061674;\\r\\n    float w1b = CompareNormal(n0, GetPackedNormal(p1b)) * 0.31718061674;\\r\\n    float w2a = CompareNormal(n0, GetPackedNormal(p2a)) * 0.19823788546;\\r\\n    float w2b = CompareNormal(n0, GetPackedNormal(p2b)) * 0.19823788546;\\r\\n    float w3a = CompareNormal(n0, GetPackedNormal(p3a)) * 0.11453744493;\\r\\n    float w3b = CompareNormal(n0, GetPackedNormal(p3b)) * 0.11453744493;\\r\\n\\r\\n    float s;\\r\\n    s  = GetPackedAO(p0)  * w0;\\r\\n    s += GetPackedAO(p1a) * w1a;\\r\\n    s += GetPackedAO(p1b) * w1b;\\r\\n    s += GetPackedAO(p2a) * w2a;\\r\\n    s += GetPackedAO(p2b) * w2b;\\r\\n    s += GetPackedAO(p3a) * w3a;\\r\\n    s += GetPackedAO(p3b) * w3b;\\r\\n\\r\\n    s /= w0 + w1a + w1b + w2a + w2b + w3a + w3b;\\r\\n\\r\\n#else\\r\\n\\r\\n    // Fater 5-tap Gaussian with linear sampling\\r\\n    vec4 p0  = texture2D(u_MainTex, sampler_MainTex, i.texcoordStereo);\\r\\n    vec4 p1a = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, UnityStereoTransformScreenSpaceTex(i.texcoord - delta * 1.3846153846));\\r\\n    vec4 p1b = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, UnityStereoTransformScreenSpaceTex(i.texcoord + delta * 1.3846153846));\\r\\n    vec4 p2a = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, UnityStereoTransformScreenSpaceTex(i.texcoord - delta * 3.2307692308));\\r\\n    vec4 p2b = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, UnityStereoTransformScreenSpaceTex(i.texcoord + delta * 3.2307692308));\\r\\n\\r\\n\\tvec2 uvtran = uv;\\r\\n    vec4 p0  = texture2D(u_MainTex,uv);\\r\\n\\tuvtran = uv-delta * 1.3846153846;\\r\\n    vec4 p1a = texture2D(u_MainTex,uvtran);\\r\\n\\tuvtran = uv+delta * 1.3846153846;\\r\\n    vec4 p1b = texture2D(u_MainTex,uvtran);\\r\\n\\tuvtran = uv-delta*3.2307692308;\\r\\n    vec4 p2a =  texture2D(u_MainTex,uvtran);\\r\\n\\tuvtran = uv+delta*3.2307692308;\\r\\n    vec4 p2b =  texture2D(u_MainTex,uvtran);\\r\\n\\r\\n \\tvec3 n0 = GetPackedNormal(p0);\\r\\n\\r\\n    float w0  = 0.2270270270;\\r\\n    float w1a = CompareNormal(n0, GetPackedNormal(p1a)) * 0.3162162162;\\r\\n    float w1b = CompareNormal(n0, GetPackedNormal(p1b)) * 0.3162162162;\\r\\n    float w2a = CompareNormal(n0, GetPackedNormal(p2a)) * 0.0702702703;\\r\\n    float w2b = CompareNormal(n0, GetPackedNormal(p2b)) * 0.0702702703;\\r\\n\\r\\n    float s;\\r\\n    s  = GetPackedAO(p0)  * w0;\\r\\n    s += GetPackedAO(p1a) * w1a;\\r\\n    s += GetPackedAO(p1b) * w1b;\\r\\n    s += GetPackedAO(p2a) * w2a;\\r\\n    s += GetPackedAO(p2b) * w2b;\\r\\n\\r\\n    s /= w0 + w1a + w1b + w2a + w2b;\\r\\n\\r\\n#endif\\r\\n\\r\\n    gl_FragColor = PackAONormal(s, n0);;\\r\\n}\";\r\n\r\nvar AOComposition = \"#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n\\tprecision highp float;\\r\\n#else\\r\\n\\tprecision mediump float;\\r\\n#endif\\r\\n\\r\\n#define SHADER_NAME AOBlurHorizontal\\r\\n//è´¨é‡\\r\\n#define BLUR_HIGH_QUALITY 0\\r\\n\\r\\nuniform sampler2D u_MainTex;\\r\\nuniform vec4 u_MainTex_TexelSize;\\r\\nuniform vec3 u_AOColor;\\r\\nuniform sampler2D u_compositionAoTexture;\\r\\nvarying vec2 v_Texcoord0;\\r\\n\\r\\nvec3 GetPackedNormal(vec4 p)\\r\\n{\\r\\n    return p.gba * 2.0 - 1.0;\\r\\n}\\r\\nfloat CompareNormal(vec3 d1, vec3 d2)\\r\\n{\\r\\n    return smoothstep(0.8, 1.0, dot(d1, d2));\\r\\n}\\r\\nfloat GetPackedAO(vec4 p)\\r\\n{\\r\\n    return p.r;\\r\\n}\\r\\n// Geometry-aware bilateral filter (single pass/small kernel)\\r\\nfloat BlurSmall(sampler2D tex, vec2 uv, vec2 delta)\\r\\n{\\r\\n    vec4 p0 = texture2D(tex,uv);\\r\\n    vec2 uvtran =uv+vec2(-delta.x,-delta.y) ;\\r\\n    vec4 p1 = texture2D(tex,uvtran);\\r\\n    uvtran =uv+vec2(delta.x,-delta.y);\\r\\n    vec4 p2 = texture2D(tex, uvtran);\\r\\n    uvtran =uv+vec2(-delta.x,delta.y) ;\\r\\n    vec4 p3 = texture2D(tex, uvtran);\\r\\n    uvtran =uv+delta;\\r\\n    vec4 p4 = texture2D(tex, uvtran);\\r\\n\\r\\n    vec3 n0 = GetPackedNormal(p0);\\r\\n\\r\\n    float w0 = 1.0;\\r\\n    float w1 = CompareNormal(n0, GetPackedNormal(p1));\\r\\n    float w2 = CompareNormal(n0, GetPackedNormal(p2));\\r\\n    float w3 = CompareNormal(n0, GetPackedNormal(p3));\\r\\n    float w4 = CompareNormal(n0, GetPackedNormal(p4));\\r\\n\\r\\n    float s;\\r\\n    s  = GetPackedAO(p0) * w0;\\r\\n    s += GetPackedAO(p1) * w1;\\r\\n    s += GetPackedAO(p2) * w2;\\r\\n    s += GetPackedAO(p3) * w3;\\r\\n    s += GetPackedAO(p4) * w4;\\r\\n\\r\\n    return s / (w0 + w1 + w2 + w3 + w4);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n    vec2 uv = v_Texcoord0;\\r\\n    vec2 delty = u_MainTex_TexelSize.xy;\\r\\n    float ao = BlurSmall(u_compositionAoTexture,uv,delty);\\r\\n    vec4 albedo = texture2D(u_MainTex,uv);\\r\\n    vec4 aocolor = vec4(ao*u_AOColor,ao);\\r\\n    //albedo.rgb = ao*u_AOColor*albedo.rgb;\\r\\n    albedo.rgb = albedo.rgb*(1.0-ao)+ao*u_AOColor*ao;\\r\\n    gl_FragColor = albedo;\\r\\n\\r\\n\\r\\n}\";\r\n\r\nexport class ScalableAO extends Laya.PostProcessEffect {\r\n    _shader: any;\r\n    _shaderData: any;\r\n    _aoBlurHorizontalShader: any;\r\n    _aoComposition: any;\r\n    static BlurDelty: any;\r\n    static AOColor: any;\r\n    static instance: any;\r\n    static radius: any;\r\n    static HasInit: any;\r\n    static VIEWPROJECTMATRIX: any;\r\n    static deltyHorizontal: any;\r\n    static deltyVector: any;\r\n    static aoTexture: any;\r\n    constructor() {\r\n        super();\r\n        ScalableAO.HasInit || ScalableAO.init();\r\n        this._shader = Laya.Shader3D.find(\"ScalableAO\");\r\n        this._shaderData = new Laya.ShaderData();\r\n        //this._shaderData.setVector(Laya.BaseCamera.DEPTHZBUFFERPARAMS, new Laya.Vector4());\r\n        this._aoBlurHorizontalShader = Laya.Shader3D.find(\"AOBlurHorizontal\");\r\n        this._aoComposition = Laya.Shader3D.find(\"AOComposition\");\r\n        ScalableAO.BlurDelty = Laya.Shader3D.propertyNameToID(\"u_Delty\");\r\n        ScalableAO.AOColor = Laya.Shader3D.propertyNameToID(\"u_AOColor\");\r\n        ScalableAO.aoTexture = Laya.Shader3D.propertyNameToID(\"u_compositionAoTexture\");\r\n        ScalableAO.radius = Laya.Shader3D.propertyNameToID(\"u_radius\");\r\n        ScalableAO.instance = Laya.Shader3D.propertyNameToID(\"u_Intensity\");\r\n        ScalableAO.HasInit = false;\r\n        ScalableAO.deltyHorizontal = new Laya.Vector2(1.0, 0.0);\r\n        ScalableAO.deltyVector = new Laya.Vector2(0.0, 1.0);\r\n    }\r\n    static init() {\r\n        let attributeMap = {\r\n            'a_PositionTexcoord': Laya.VertexMesh.MESH_POSITION0\r\n        };\r\n        let uniformMap = {\r\n            'u_Projection': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_ProjectionParams': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_ViewProjection': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_ZBufferParams': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_View': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_Time': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_CameraDepthTexture': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_CameraDepthNormalsTexture': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_radius': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_Intensity': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_MainTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_OffsetScale': Laya.Shader3D.PERIOD_MATERIAL,\r\n        };\r\n        let shader = Laya.Shader3D.add(\"ScalableAO\");\r\n        let subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(BlitScreenVS, FragAO);\r\n        attributeMap = {\r\n            'a_PositionTexcoord': Laya.VertexMesh.MESH_POSITION0\r\n        };\r\n        shader = Laya.Shader3D.add(\"AOBlurHorizontal\");\r\n        subShader = new Laya.SubShader(attributeMap, {\r\n            'u_MainTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_OffsetScale': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_View': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_Projection': Laya.Shader3D.PERIOD_MATERIAL\r\n            //'u_Delty': Laya.Shader3D.PERIOD_MATERIAL,\r\n            //'u_MainTex_TexelSize': Laya.Shader3D.PERIOD_MATERIAL\r\n        });\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(BlitScreenVS, AoBlurHorizontal);\r\n        attributeMap = {\r\n            'a_PositionTexcoord': Laya.VertexMesh.MESH_POSITION0\r\n        };\r\n        shader = Laya.Shader3D.add(\"AOComposition\");\r\n        subShader = new Laya.SubShader(attributeMap, {\r\n            'u_MainTex': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_OffsetScale': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_View': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_Projection': Laya.Shader3D.PERIOD_MATERIAL\r\n            //'u_Delty': Laya.Shader3D.PERIOD_MATERIAL,\r\n            //'u_MainTex_TexelSize': Laya.Shader3D.PERIOD_MATERIAL,\r\n            //'u_AOColor': Laya.Shader3D.PERIOD_MATERIAL,\r\n            //'u_compositionAoTexture': Laya.Shader3D.PERIOD_MATERIAL\r\n        });\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(BlitScreenVS, AOComposition);\r\n        ScalableAO.BlurDelty = Laya.Shader3D.propertyNameToID(\"u_Delty\");\r\n        ScalableAO.AOColor = Laya.Shader3D.propertyNameToID(\"u_AOColor\");\r\n        ScalableAO.aoTexture = Laya.Shader3D.propertyNameToID(\"u_compositionAoTexture\");\r\n        ScalableAO.radius = Laya.Shader3D.propertyNameToID(\"u_radius\");\r\n        ScalableAO.instance = Laya.Shader3D.propertyNameToID(\"u_Intensity\");\r\n        ScalableAO.HasInit = false;\r\n        ScalableAO.deltyHorizontal = new Laya.Vector2(1.0, 0.0);\r\n        ScalableAO.deltyVector = new Laya.Vector2(0.0, 1.0);\r\n    }\r\n    set aoColor(value) {\r\n        this._shaderData.setVector3(ScalableAO.AOColor, value);\r\n    }\r\n    set instance(value) {\r\n        this._shaderData.setNumber(ScalableAO.instance, value);\r\n    }\r\n    set radius(value) {\r\n        this._shaderData.setNumber(ScalableAO.radius, value);\r\n    }\r\n    setUniform(camera) {\r\n        let scene = camera.scene;\r\n        let shaderData = this._shaderData;\r\n        // shaderData.setMatrix4x4(Laya.BaseCamera.VIEWPROJECTMATRIX, camera._shaderValues.getMatrix4x4(Laya.BaseCamera.VIEWPROJECTMATRIX));\r\n        // shaderData.setMatrix4x4(Laya.BaseCamera.PROJECTMATRIX, camera._shaderValues.getMatrix4x4(Laya.BaseCamera.PROJECTMATRIX));\r\n        // shaderData.setVector(Laya.BaseCamera.DEPTHZBUFFERPARAMS, camera._shaderValues.getVector(Laya.BaseCamera.DEPTHZBUFFERPARAMS));\r\n        // shaderData.setVector(Laya.BaseCamera.PROJECTION_PARAMS, camera._shaderValues.getVector(Laya.BaseCamera.PROJECTION_PARAMS));\r\n        // shaderData.setMatrix4x4(Laya.BaseCamera.VIEWMATRIX, camera._shaderValues.getMatrix4x4(Laya.BaseCamera.VIEWMATRIX));\r\n        // shaderData.setTexture(Laya.DepthPass.DEPTHNORMALSTEXTURE, camera._shaderValues.getTexture(Laya.DepthPass.DEPTHNORMALSTEXTURE));\r\n        // shaderData.setTexture(Laya.DepthPass.DEPTHTEXTURE, camera._shaderValues.getTexture(Laya.DepthPass.DEPTHTEXTURE));\r\n        shaderData.setVector2(ScalableAO.BlurDelty, ScalableAO.deltyHorizontal);\r\n        //shaderData.setNumber(Laya.Scene3D.TIME, scene._shaderValues.getNumber(Laya.Scene3D.TIME));\r\n    }\r\n    render(context) {\r\n        let cmd = context.command;\r\n        let viewport = context.camera.viewport;\r\n        let camera = context.camera;\r\n        camera.depthTextureMode |= Laya.DepthTextureMode.DepthNormals;\r\n        camera.depthTextureMode |= Laya.DepthTextureMode.Depth;\r\n        let depthNormalTexture = camera.depthNormalTexture;\r\n        let depthTexture = camera.depthTexture;\r\n        if (!depthNormalTexture || !depthTexture) {\r\n            return;\r\n        }\r\n        depthNormalTexture.wrapModeU = Laya.WarpMode.Clamp;\r\n        depthNormalTexture.wrapModeV = Laya.WarpMode.Clamp;\r\n        let source = context.source;\r\n        let width = source.width;\r\n        let height = source.height;\r\n        let textureFormat = source.format;\r\n        let depthFormat = Laya.RenderTextureDepthFormat.DEPTHSTENCIL_NONE;\r\n        let finalTex = Laya.RenderTexture.createFromPool(width, height, textureFormat, depthFormat);\r\n        let shader = this._shader;\r\n        let shaderData = this._shaderData;\r\n        this.setUniform(camera);\r\n        cmd.blitScreenTriangle(null, finalTex, null, shader, shaderData, 0);\r\n        let blurTex = Laya.RenderTexture.createFromPool(width, height, textureFormat, depthFormat);\r\n        cmd.blitScreenTriangle(finalTex, blurTex, null, this._aoBlurHorizontalShader, shaderData, 0);\r\n        cmd.setShaderDataVector2(shaderData, ScalableAO.BlurDelty, ScalableAO.deltyVector);\r\n        cmd.blitScreenTriangle(blurTex, finalTex, null, this._aoBlurHorizontalShader, this._shaderData, 0);\r\n        cmd.setShaderDataTexture(shaderData, ScalableAO.aoTexture, finalTex);\r\n        cmd.blitScreenTriangle(null, blurTex, null, this._aoComposition, this._shaderData, 0);\r\n        context.source = blurTex;\r\n        context.deferredReleaseTextures.push(finalTex);\r\n        context.deferredReleaseTextures.push(blurTex);\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { ScalableAO } from \"../common/ScalableAO\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport PostProcess = Laya.PostProcess;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Mesh = Laya.Mesh;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Button = Laya.Button;\r\nimport Browser = Laya.Browser;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class ProstProcess_AO extends SingletonScene {\r\n    s_scene: Scene3D;\r\n    camera: Camera;\r\n    postProcess: PostProcess;\r\n    btn: Laya.Button;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n\r\n        // Stat.show();\r\n        Shader3D.debugMode = true;\r\n        this.onResComplate();\r\n    }\r\n\r\n    onResComplate() {\r\n        this.s_scene = new Scene3D();\r\n        this.s_scene.ambientColor = new Vector3(1, 1, 1);\r\n        var camera: Camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 1000)));\r\n        camera.transform.translate(new Vector3(0, 1, 5));\r\n        camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        this.camera = camera;\r\n        var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n        //方向光的颜色\r\n        directionLight.color.setValue(0.5, 0.5, 0.5);\r\n        //设置平行光的方向\r\n        var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n        this.addObjectInScene(this.s_scene);\r\n        this.addPostProcess(camera);\r\n        this.loadUI();\r\n    }\r\n\r\n    /**\r\n    * 场景添加测试对象\r\n    * @param scene \r\n    */\r\n    addObjectInScene(scene: Scene3D) {\r\n\r\n        let sprite: Sprite3D = new Sprite3D();\r\n        scene.addChild(sprite);\r\n\r\n        let planeMesh: Mesh = PrimitiveMesh.createPlane(10, 10, 1, 1);\r\n        let plane: MeshSprite3D = new MeshSprite3D(planeMesh);\r\n        scene.addChild(plane);\r\n\r\n        let cubeMesh: Mesh = PrimitiveMesh.createBox();\r\n        let sphere: Mesh = PrimitiveMesh.createSphere(0.3);\r\n        let cube0: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube1: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube2: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube3: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let sphere0: MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere1: MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere2: MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere3: MeshSprite3D = new MeshSprite3D(sphere);\r\n\r\n        cube0.meshRenderer.sharedMaterial = new BlinnPhongMaterial;\r\n\r\n        sprite.addChild(cube0);\r\n        sprite.addChild(cube1);\r\n        sprite.addChild(cube2);\r\n        sprite.addChild(cube3);\r\n        sprite.addChild(sphere0);\r\n        sprite.addChild(sphere1);\r\n        sprite.addChild(sphere2);\r\n        sprite.addChild(sphere3);\r\n\r\n        cube1.transform.position = new Vector3(-1, 0, 0);\r\n        cube2.transform.position = new Vector3(-1, 0, 1);\r\n        cube3.transform.position = new Vector3(-1, 1, 0);\r\n\r\n        sphere0.transform.position = new Vector3(-3, 0, 0);\r\n        sphere1.transform.position = new Vector3(2, 0, 0);\r\n        sphere2.transform.position = new Vector3(2, 0.5, 0);\r\n        sphere3.transform.position = new Vector3(-1, 0, 2);\r\n\r\n\r\n    }\r\n\r\n    addPostProcess(camera: Camera) {\r\n        let postProcess: PostProcess = new PostProcess();\r\n        camera.postProcess = postProcess;\r\n        this.postProcess = postProcess;\r\n        let ao: ScalableAO = new ScalableAO();\r\n        ao.radius = 0.15;\r\n        ao.aoColor = new Vector3(0.0, 0.0, 0.0);\r\n        ao.instance = 0.5;\r\n        postProcess.addEffect(ao);\r\n    }\r\n\r\n    /**\r\n     *@private\r\n     */\r\n    loadUI(): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Handler.create(this, function (): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.btn = (<Button>Laya.stage.addChild(new Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"关闭AO\")));\r\n            this.btn.size(200, 40);\r\n            this.btn.labelBold = true;\r\n            this.btn.labelSize = 30;\r\n            this.btn.sizeGrid = \"4,4,4,4\";\r\n            this.btn.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n            this.btn.pos(Laya.stage.width / 2 - this.btn.width * Browser.pixelRatio / 2, Laya.stage.height - 60 * Browser.pixelRatio);\r\n            this.btn.on(Event.CLICK, this, function (): void {\r\n                var enableHDR: boolean = !!this.camera.postProcess;\r\n                if (enableHDR) {\r\n                    this.btn.label = \"开启AO\";\r\n                    this.camera.postProcess = null;\r\n                }\r\n                else {\r\n                    this.btn.label = \"关闭AO\";\r\n                    this.camera.postProcess = this.postProcess;\r\n                }\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.btn) {\r\n            this.btn.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.btn) {\r\n            this.btn.visible = false;\r\n        }\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { PostProcessBloom } from \"./PostProcessBloom\";\r\nimport { PostProcess_Blur } from \"./PostProcess_Blur\";\r\nimport { PostProcess_Edge } from \"./PostProcess_Edge\";\r\nimport { PostProcessDoF } from \"./PostProcessDoF\";\r\nimport { ProstProcess_AO } from \"./ProstProcess_AO\";\r\n\r\nexport class PostProcessMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"后处理模糊\", \"后处理Bloom\", \"后处理边缘\", \"后处理景深\", \"后处理AO\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                PostProcess_Blur.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                PostProcessBloom.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                PostProcess_Edge.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                PostProcessDoF.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                ProstProcess_AO.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class DirectionLightDemo extends SingletonScene {\r\n    private _quaternion: Laya.Quaternion = new Laya.Quaternion();\r\n    private _direction: Laya.Vector3 = new Laya.Vector3();\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0,);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.7, 1.3));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //方向光\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        //设置灯光方向\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            var grid: Laya.Sprite3D = this.s_scene.addChild(sprite) as Laya.Sprite3D;\r\n\r\n            Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey: Laya.Sprite3D): void {\r\n                var layaMonkey: Laya.Sprite3D = this.s_scene.addChild(layaMonkey) as Laya.Sprite3D;\r\n                var aniSprite3d: Laya.Sprite3D = layaMonkey.getChildAt(0) as Laya.Sprite3D;\r\n                var animator: Laya.Animator = aniSprite3d.getComponent(Laya.Animator) as Laya.Animator;\r\n\r\n                var state: Laya.AnimatorState = new Laya.AnimatorState();\r\n                state.name = \"run\";\r\n                state.clipStart = 40 / 150;\r\n                state.clipEnd = 70 / 150;\r\n                state.clip = animator.getDefaultState().clip;\r\n                animator.addState(state);\r\n\r\n                animator.play(\"run\");\r\n\r\n                Laya.timer.frameLoop(1, this, function (): void {\r\n                    Laya.Quaternion.createFromYawPitchRoll(0.025, 0, 0, this._quaternion);\r\n                    directionLight.transform.worldMatrix.getForward(this._direction);\r\n                    Laya.Vector3.transformQuat(this._direction, this._quaternion, this._direction);\r\n                    directionLight.transform.worldMatrix.setForward(this._direction);\r\n                    var mat = directionLight.transform.worldMatrix;\r\n                    mat.setForward(this._direction);\r\n                    directionLight.transform.worldMatrix = mat;\r\n                });\r\n            }));\r\n\r\n        }));\r\n\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PointLightDemo extends SingletonScene {\r\n    private _temp_position: Laya.Vector3 = new Laya.Vector3();\r\n    private _temp_quaternion: Laya.Quaternion = new Laya.Quaternion();\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.s_scene.ambientColor = new Laya.Vector3(0.1, 0.1, 0.1);\r\n\r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.7, 1.3));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //点光\r\n        var pointLight: Laya.PointLight = this.s_scene.addChild(new Laya.PointLight()) as Laya.PointLight;\r\n        pointLight.color = new Laya.Vector3(1.0, 0.5, 0.0);\r\n        pointLight.transform.position = new Laya.Vector3(0.4, 0.4, 0.0);\r\n        pointLight.range = 3.0;\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            var grid: Laya.Sprite3D = this.s_scene.addChild(sprite) as Laya.Sprite3D;\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey: Laya.Sprite3D): void {\r\n                this.s_scene.addChild(layaMonkey);\r\n                var aniSprite3d: Laya.Sprite3D = layaMonkey.getChildAt(0) as Laya.Sprite3D;\r\n                var animator: Laya.Animator = aniSprite3d.getComponent(Laya.Animator) as Laya.Animator;\r\n\r\n                var state: Laya.AnimatorState = new Laya.AnimatorState();\r\n                state.name = \"attack\";\r\n                state.clipStart = 75 / 150;\r\n                state.clipEnd = 110 / 150;\r\n                state.clip = animator.getDefaultState().clip;\r\n                animator.addState(state);\r\n\r\n                animator.play(\"attack\");\r\n\r\n                Laya.timer.frameLoop(1, this, function (): void {\r\n\r\n                    Laya.Quaternion.createFromYawPitchRoll(0.025, 0, 0, this._temp_quaternion);\r\n                    Laya.Vector3.transformQuat(pointLight.transform.position, this._temp_quaternion, this._temp_position);\r\n                    pointLight.transform.position = this._temp_position;\r\n                });\r\n            }));\r\n\r\n        }));\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class SpotLightDemo extends SingletonScene {\r\n    private _quaternion: Laya.Quaternion = new Laya.Quaternion();\r\n    private _direction: Laya.Vector3 = new Laya.Vector3();\r\n    private s_scene: Laya.Scene3D;\r\n\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.7, 1.3));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //聚光灯\r\n        var spotLight: Laya.SpotLight = this.s_scene.addChild(new Laya.SpotLight()) as Laya.SpotLight;\r\n        spotLight.color = new Laya.Vector3(1, 1, 0);\r\n        spotLight.transform.position = new Laya.Vector3(0.0, 1.2, 0.0);\r\n        var mat = spotLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(0.15, -1.0, 0.0));\r\n        spotLight.transform.worldMatrix = mat;\r\n        spotLight.range = 6.0;\r\n        spotLight.spotAngle = 32;\r\n\r\n\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(sprite) as Laya.Sprite3D;\r\n\r\n            Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey: Laya.Sprite3D): void {\r\n                this.s_scene.addChild(layaMonkey) as Laya.Sprite3D;\r\n                var aniSprite3d: Laya.Sprite3D = layaMonkey.getChildAt(0) as Laya.Sprite3D;\r\n                var animator: Laya.Animator = aniSprite3d.getComponent(Laya.Animator) as Laya.Animator;\r\n\r\n                var state: Laya.AnimatorState = new Laya.AnimatorState();\r\n                state.name = \"happy\";\r\n                state.clipStart = 115 / 150;\r\n                state.clipEnd = 150 / 150;\r\n                state.clip = animator.getDefaultState().clip;\r\n                animator.addState(state);\r\n\r\n                animator.play(\"happy\");\r\n\r\n                Laya.timer.frameLoop(1, this, function (): void {\r\n                    Laya.Quaternion.createFromYawPitchRoll(0.025, 0, 0, this._quaternion);\r\n                    spotLight.transform.worldMatrix.getForward(this._direction);\r\n                    Laya.Vector3.transformQuat(this._direction, this._quaternion, this._direction);\r\n                    var mat = spotLight.transform.worldMatrix;\r\n                    mat.setForward(this._direction);\r\n                    spotLight.transform.worldMatrix = mat;\r\n                });\r\n            }));\r\n\r\n        }));\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Handler = Laya.Handler;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport SkinnedMeshSprite3D = Laya.SkinnedMeshSprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Loader = Laya.Loader;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport Script3D = Laya.Script3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Transform3D = Laya.Transform3D;\r\nimport Button = Laya.Button;\r\nimport Browser = Laya.Browser;\r\nimport Event = Laya.Event;\r\n\r\n/**\r\n * Light rotation script.\r\n */\r\nclass RotationScript extends Script3D {\r\n    /** Roation speed. */\r\n    autoRotateSpeed: Vector3 = new Vector3(0, 0.05, 0);\r\n    /** If roation. */\r\n    rotation: boolean = true;\r\n\r\n    onUpdate(): void {\r\n        if (this.rotation)\r\n            (<DirectionLight>this.owner).transform.rotate(this.autoRotateSpeed, false);\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Realtime shadow sample. \r\n */\r\nexport class RealTimeShadow extends SingletonScene {\r\n    rotationButton: Button;\r\n    constructor() {\r\n        super();\r\n        // //Init engine.\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // //show stat.\r\n        // Stat.show();\r\n\r\n        Laya.loader.create([\r\n            GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n        ], Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    private onComplete(): void {\r\n        var scene: Scene3D = <Scene3D>Laya.stage.addChild(new Scene3D());\r\n\r\n        var camera: Camera = <Camera>(scene.addChild(new Camera(0, 0.1, 100)));\r\n        camera.transform.translate(new Vector3(0, 1.2, 1.6));\r\n        camera.transform.rotate(new Vector3(-35, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        var directionLight: DirectionLight = (<DirectionLight>scene.addChild(new DirectionLight()));\r\n        directionLight.color = new Vector3(0.85, 0.85, 0.8);\r\n        directionLight.transform.rotate(new Vector3(-Math.PI / 3, 0, 0));\r\n\r\n        // Use soft shadow.\r\n        // directionLight.shadowMode = ShadowMode.SoftLow;\r\n        // Set shadow max distance from camera.\r\n        directionLight.shadowDistance = 3;\r\n        // Set shadow resolution.\r\n        directionLight.shadowResolution = 1024;\r\n        // Set shadow cascade mode.\r\n        // directionLight.shadowCascadesMode = ShadowCascadesMode.NoCascades;\r\n\r\n        // Add rotation script to light.\r\n        var rotationScript: RotationScript = directionLight.addComponent(RotationScript);\r\n\r\n        // A plane receive shadow.\r\n        var grid: Sprite3D = <Sprite3D>scene.addChild(Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\"));\r\n        (<MeshSprite3D>grid.getChildAt(0)).meshRenderer.receiveShadow = true;\r\n\r\n        // A monkey cast shadow.\r\n        var layaMonkey: Sprite3D = <Sprite3D>scene.addChild(Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"));\r\n        layaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n        (<SkinnedMeshSprite3D>layaMonkey.getChildAt(0).getChildAt(0)).skinnedMeshRenderer.castShadow = true;\r\n\r\n        // A sphere cast/receive shadow.\r\n        var sphereSprite: MeshSprite3D = this.addPBRSphere(PrimitiveMesh.createSphere(0.1), new Vector3(0, 0.2, 0.5), scene);\r\n        sphereSprite.meshRenderer.castShadow = true;\r\n        sphereSprite.meshRenderer.receiveShadow = true;\r\n\r\n        // Add Light controll UI.\r\n        this.loadUI(rotationScript);\r\n    }\r\n\r\n    /**\r\n     * Add one with smoothness and metallic sphere.\r\n     */\r\n    addPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D): MeshSprite3D {\r\n        var mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n        mat.smoothness = 0.2;\r\n\r\n        var meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n        meshSprite.meshRenderer.sharedMaterial = mat;\r\n        var transform: Transform3D = meshSprite.transform;\r\n        transform.localPosition = position;\r\n        scene.addChild(meshSprite);\r\n        return meshSprite;\r\n    }\r\n\r\n    /**\r\n     * Add Button control light rotation.\r\n     */\r\n    loadUI(rottaionScript: RotationScript): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Handler.create(this, function (): void {\r\n            this.rotationButton = <Button>Laya.stage.addChild(new Button(\"res/threeDimen/ui/button.png\", \"Stop Rotation\"));\r\n            this.rotationButton.size(150, 30);\r\n            this.rotationButton.labelSize = 20;\r\n            this.rotationButton.sizeGrid = \"4,4,4,4\";\r\n            this.rotationButton.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n            this.rotationButton.pos(Laya.stage.width / 2 - this.rotationButton.width * Browser.pixelRatio / 2, Laya.stage.height - 40 * Browser.pixelRatio);\r\n            this.rotationButton.on(Event.CLICK, this, function (): void {\r\n                if (rottaionScript.rotation) {\r\n                    this.rotationButton.label = \"Start Rotation\";\r\n                    rottaionScript.rotation = false;\r\n                } else {\r\n                    this.rotationButton.label = \"Stop Rotation\";\r\n                    rottaionScript.rotation = true;\r\n                }\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.rotationButton) {\r\n            this.rotationButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.rotationButton) {\r\n            this.rotationButton.visible = false;\r\n        }\r\n    }\r\n}\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Shader3D = Laya.Shader3D;\r\nimport Handler = Laya.Handler;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Node = Laya.Node;\r\nimport SpotLight = Laya.SpotLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\n\r\nexport class SpotLightShadowMap extends SingletonScene {\r\n    public camera: Camera;\r\n    public demoScene: Scene3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0,0);\r\n        // Stat.show();\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        Shader3D.debugMode = true;\r\n\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/testNewFunction/LayaScene_depthScene/Conventional/depthScene.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.demoScene = scene;\r\n            this.AutoSetScene3d(this.demoScene);\r\n            this.camera = (<Camera>scene.getChildByName(\"Camera\"));\r\n            this.camera.addComponent(CameraMoveScript);\r\n            this.camera.active = true;\r\n            this.receaveRealShadow(this.demoScene);\r\n        }));\r\n    }\r\n    receaveRealShadow(scene3d: Scene3D): void {\r\n        var childLength: number = scene3d.numChildren;\r\n        for (var i: number = 0; i < childLength; i++) {\r\n            var childSprite: Node = scene3d.getChildAt(i);\r\n            if (childSprite instanceof MeshSprite3D) {\r\n                childSprite.meshRenderer.receiveShadow = true;\r\n                childSprite.meshRenderer.castShadow = true;\r\n            }\r\n            else if (childSprite instanceof SpotLight) {\r\n                //childSprite.shadowMode = ShadowMode.Hard;\r\n                // Set shadow max distance from camera.\r\n                childSprite.shadowDistance = 3;\r\n                // Set shadow resolution.\r\n                childSprite.shadowResolution = 512;\r\n                // set shadow Bias\r\n                //childSprite.shadowDepthBias = 1.0;\r\n            }\r\n        }\r\n        return;\r\n    }\r\n\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Handler = Laya.Handler;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport PointLight = Laya.PointLight;\r\nimport LightSprite = Laya.LightSprite;\r\nimport SpotLight = Laya.SpotLight;\r\nimport Script3D = Laya.Script3D;\r\nimport Transform3D = Laya.Transform3D;\r\n\r\n//自定义一个灯光位置自动变换的脚本\r\nclass LightMoveScript extends Script3D {\r\n    forward: Vector3 = new Vector3();\r\n    lights: LightSprite[] = [];\r\n    offsets: Vector3[] = [];\r\n    moveRanges: Vector3[] = [];\r\n\r\n    onUpdate(): void {\r\n        var seed: number = Laya.timer.currTimer * 0.002;\r\n        for (var i: number = 0, n: number = this.lights.length; i < n; i++) {\r\n            var transform: Transform3D = this.lights[i].transform;\r\n            var pos: Vector3 = transform.localPosition;\r\n            var off: Vector3 = this.offsets[i];\r\n            var ran: Vector3 = this.moveRanges[i];\r\n            pos.x = off.x + Math.sin(seed) * ran.x;\r\n            pos.y = off.y + Math.sin(seed) * ran.y;\r\n            pos.z = off.z + Math.sin(seed) * ran.z;\r\n            transform.localPosition = pos;\r\n        }\r\n    }\r\n}\r\n\r\nexport class MultiLight extends SingletonScene {\r\n    s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        //在Config3D中配置引擎所能接纳的最大光源的数量\r\n        var c = new Config3D();\r\n        c.maxLightCount = 16;\r\n        //初始化引擎\r\n        // Laya3D.init(0, 0, c);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // Stat.show();\r\n\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/MultiLightScene/InventoryScene_Forest.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.s_scene = scene;\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            var camera: Camera = <Camera>scene.getChildByName(\"Main Camera\");\r\n            camera.addComponent(CameraMoveScript);\r\n            camera.transform.localPosition = new Vector3(8.937199060699333, 61.364798067809126, -66.77836086472654);\r\n\r\n            var moveScript: LightMoveScript = camera.addComponent(LightMoveScript);\r\n            var moverLights: LightSprite[] = moveScript.lights;\r\n            var offsets: Vector3[] = moveScript.offsets;\r\n            var moveRanges: Vector3[] = moveScript.moveRanges;\r\n            moverLights.length = 15;\r\n            for (var i: number = 0; i < 15; i++) {\r\n                //添加点光源，和原来的添加点光源方式无异\r\n                var pointLight: PointLight = (<PointLight>scene.addChild(new PointLight()));\r\n                pointLight.range = 2.0 + Math.random() * 8.0;\r\n                pointLight.color.setValue(Math.random(), Math.random(), Math.random());\r\n                pointLight.intensity = 6.0 + Math.random() * 8;\r\n                moverLights[i] = pointLight;\r\n                offsets[i] = new Vector3((Math.random() - 0.5) * 10, pointLight.range * 0.75, (Math.random() - 0.5) * 10);\r\n                moveRanges[i] = new Vector3((Math.random() - 0.5) * 40, 0, (Math.random() - 0.5) * 40);\r\n            }\r\n\r\n            //添加一个聚光灯，和原来的添加聚光灯方式无异\r\n            var spotLight: SpotLight = (<SpotLight>scene.addChild(new SpotLight()));\r\n            spotLight.transform.localPosition = new Vector3(0.0, 9.0, -35.0);\r\n            spotLight.transform.localRotationEuler = new Vector3(-15.0, 180.0, 0.0);\r\n            spotLight.color.setValue(Math.random(), Math.random(), Math.random());\r\n            spotLight.range = 50;\r\n            spotLight.intensity = 15;\r\n            spotLight.spotAngle = 60;\r\n\r\n        }));\r\n\r\n    }\r\n}\r\n\r\n","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { DirectionLightDemo } from \"./DirectionLightDemo\";\r\nimport { PointLightDemo } from \"./PointLightDemo\";\r\nimport { SpotLightDemo } from \"./SpotLightDemo\";\r\nimport { RealTimeShadow } from \"./RealTimeShadow\";\r\nimport { SpotLightShadowMap } from \"./SpotLightShadowMap\";\r\nimport { MultiLight } from \"./MultiLight\";\r\n\r\nexport class LightingMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"方向光\", \"点光\", \"聚光\", \"实时阴影\", \"Spot实时阴影\", \"多光源\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                DirectionLightDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                PointLightDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                SpotLightDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                RealTimeShadow.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                SpotLightShadowMap.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[6]:\r\n                MultiLight.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class SkinnedMeshSprite3DDemo extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        // Laya.stage.addChild(this.s_scene);\r\n\r\n        //创建相机\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //添加光照\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //预加载资源\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/dude.lh\", Laya.Handler.create(this, this.onComplete));\r\n\r\n    }\r\n    public onComplete() {\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        //添加父级猴子\r\n        var dude = this.s_scene.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/dude.lh\")) as Laya.Sprite3D;\r\n        //缩放\r\n        var scale = new Laya.Vector3(0.1, 0.1, 0.1);\r\n        dude.transform.localScale = scale;\r\n        dude.transform.rotate(new Laya.Vector3(0, 3.14, 0));\r\n    }\r\n\r\n}\r\n\r\n","import SingletonScene from \"../SingletonScene\";\r\nimport { CameraMoveScript } from \"../common/CameraMoveScript\"\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nexport class Sprite3DParent extends SingletonScene {\r\n    private sprite3D: Laya.Sprite3D;\r\n    private s_scene: Laya.Scene3D;\r\n    private btns: Laya.Button[] = [];\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        //Laya.stage.addChild(this.scene);\r\n\r\n        //创建相机\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //添加光照\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //预加载所有资源\r\n        var resource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey2/LayaMonkey.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onPreLoadFinish));\r\n    }\r\n    public onPreLoadFinish() {\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        //添加父级猴子\r\n        var layaMonkeyParent = this.s_scene.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\")) as Laya.Sprite3D;\r\n        //克隆猴子，作为子猴子\r\n        var layaMonkeySon = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey2/LayaMonkey.lh\") as Laya.Sprite3D;\r\n        layaMonkeySon.transform.translate(new Laya.Vector3(2.5, 0, 0));\r\n        //缩放\r\n        var scale = new Laya.Vector3(0.5, 0.5, 0.5);\r\n        layaMonkeySon.transform.localScale = scale;\r\n\r\n        layaMonkeyParent.addChild(layaMonkeySon);\r\n\r\n        this.addBtn(30, 100, 50, 20, \"移动父级猴子\", 10, function (e: Event): void {\r\n            layaMonkeyParent.transform.translate(new Laya.Vector3(-0.1, 0, 0));\r\n        });\r\n        this.addBtn(30, 120, 50, 20, \"放大父级猴子\", 10, function (e: Event): void {\r\n            var scale = new Laya.Vector3(0.2, 0.2, 0.2);\r\n            layaMonkeyParent.transform.localScale = scale;\r\n        });\r\n        this.addBtn(30, 140, 50, 20, \"旋转父级猴子\", 10, function (e: Event): void {\r\n            layaMonkeyParent.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        });\r\n\r\n        this.addBtn(30, 160, 50, 20, \"移动子级猴子\", 10, function (e: Event): void {\r\n            layaMonkeySon.transform.translate(new Laya.Vector3(-0.1, 0, 0));\r\n        });\r\n        this.addBtn(30, 180, 50, 20, \"放大子级猴子\", 10, function (e: Event): void {\r\n            var scale = new Laya.Vector3(1, 1, 1);\r\n            layaMonkeySon.transform.localScale = scale;\r\n        });\r\n        this.addBtn(30, 200, 50, 20, \"旋转子级猴子\", 10, function (e: Event): void {\r\n            layaMonkeySon.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        });\r\n    }\r\n\r\n    private addBtn(x: number, y: number, width: number, height: number, text: string, size, clickFun: Function): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n            var changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", text)) as Laya.Button;\r\n            changeActionButton.size(width, height);\r\n            changeActionButton.labelBold = true;\r\n            changeActionButton.labelSize = size;\r\n            changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            changeActionButton.pos(x, y);\r\n            changeActionButton.on(Laya.Event.CLICK, this, clickFun);\r\n            this.btns.push(changeActionButton);\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = false;\r\n        }\r\n    }\r\n\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class TransformDemo extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private position: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private position1: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private rotate: Laya.Vector3 = new Laya.Vector3(0, 1, 0);\r\n    private scale: Laya.Vector3 = new Laya.Vector3();\r\n    private rotate1: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private scaleDelta: number = 0;\r\n    private scaleValue: number = 0;\r\n\r\n    private layaMonkey_clone1: Laya.Sprite3D;\r\n    private layaMonkey_clone2: Laya.Sprite3D;\r\n    private layaMonkey_clone3: Laya.Sprite3D;\r\n\r\n    private clone1Transform: Laya.Transform3D;\r\n    private clone2Transform: Laya.Transform3D;\r\n    private clone3Transform: Laya.Transform3D;\r\n\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        //Laya.stage.addChild(this.scene);\r\n\r\n        //添加相机\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 0.8, 5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //添加光照\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //批量预加载资源\r\n        Laya.loader.create([\r\n            GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n        ], Laya.Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    onComplete() {\r\n        this.AutoSetScene3d(this.s_scene);\r\n        //加载地面\r\n        var grid = this.s_scene.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\")) as Laya.Sprite3D;\r\n        //加载静态小猴子\r\n        var staticLayaMonkey = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\"))) as Laya.MeshSprite3D;\r\n        //设置材质\r\n        staticLayaMonkey.meshRenderer.material = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\");\r\n        //设置位置\r\n        var staticMonkeyTransform = staticLayaMonkey.transform;\r\n        var staticPos = staticMonkeyTransform.position;\r\n        staticPos.setValue(0, 0, 0.5);\r\n        staticMonkeyTransform.position = staticPos;\r\n        //设置缩放\r\n        var staticScale = staticMonkeyTransform.localScale;\r\n        staticScale.setValue(0.3, 0.3, 0.3);\r\n        staticMonkeyTransform.localScale = staticScale;\r\n        //设置旋转\r\n        staticLayaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n        staticLayaMonkey.removeSelf();\r\n\r\n        //克隆sprite3d\r\n        this.layaMonkey_clone1 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, this.position1);\r\n        this.layaMonkey_clone2 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, this.position1);\r\n        this.layaMonkey_clone3 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, this.position1);\r\n        //得到三个Transform3D\r\n        this.clone1Transform = this.layaMonkey_clone1.transform;\r\n        this.clone2Transform = this.layaMonkey_clone2.transform;\r\n        this.clone3Transform = this.layaMonkey_clone3.transform;\r\n\r\n        //平移\r\n        this.position1.setValue(-1.5, 0, 0.0);\r\n        this.clone2Transform.translate(this.position1);\r\n        this.position1.setValue(1.0, 0, 0.0);\r\n        this.clone3Transform.translate(this.position1);\r\n        //旋转\r\n        this.rotate1.setValue(0, 60, 0);\r\n        this.clone2Transform.rotate(this.rotate1, false, false);\r\n        //缩放\r\n        var scale = this.clone3Transform.localScale;\r\n        scale.setValue(0.1, 0.1, 0.1);\r\n        this.clone3Transform.localScale = scale;\r\n\r\n        //设置定时器执行,定时重复执行(基于帧率)\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    animate() {\r\n        if (!this.isShow) {\r\n            return;\r\n        }\r\n        this.scaleValue = Math.sin(this.scaleDelta += 0.1);\r\n\r\n        this.position.y = Math.max(0, this.scaleValue / 2);;\r\n        this.layaMonkey_clone1.transform.position = this.position;\r\n\r\n        this.layaMonkey_clone2.transform.rotate(this.rotate, false, false);\r\n\r\n        this.scale.x = this.scale.y = this.scale.z = Math.abs(this.scaleValue) / 5;\r\n        this.layaMonkey_clone3.transform.localScale = this.scale;\r\n    }\r\n}","export class Tool {\r\n    static transVertex0: any;\r\n    static transVertex1: any;\r\n    static transVertex2: any;\r\n    constructor() { }\r\n    static linearModel(sprite3D, lineSprite3D, color) {\r\n        if (sprite3D instanceof Laya.MeshSprite3D) {\r\n            var meshSprite3D = sprite3D;\r\n            var mesh = meshSprite3D.meshFilter.sharedMesh;\r\n            var positions = [];\r\n            mesh.getPositions(positions);\r\n            var indices = mesh.getSubMesh(0).getIndices();\r\n\r\n            for (var i = 0; i < indices.length; i += 3) {\r\n                var vertex0 = positions[indices[i]];\r\n                var vertex1 = positions[indices[i + 1]];\r\n                var vertex2 = positions[indices[i + 2]];\r\n                Laya.Vector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n                Laya.Vector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n                Laya.Vector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n                lineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n                lineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n                lineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n            }\r\n        }\r\n\r\n        for (var i = 0, n = sprite3D.numChildren; i < n; i++)\r\n            Tool.linearModel((sprite3D.getChildAt(i)), lineSprite3D, color);\r\n    }\r\n\r\n}\r\nTool.transVertex0 = new Laya.Vector3();\r\nTool.transVertex1 = new Laya.Vector3();\r\nTool.transVertex2 = new Laya.Vector3();\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { Tool } from \"../common/Tool\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PixelLineSprite3DDemo extends SingletonScene{\r\n\tprivate sprite3D: Laya.Sprite3D;\r\n\tprivate lineSprite3D: Laya.Sprite3D;\r\n\tprivate s_scene: Laya.Scene3D;\r\n\r\n\tconstructor() {\r\n\t\t// Laya3D.init(0, 0);\r\n\t\t// Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n\t\t// Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\t\t// Laya.Stat.show();\r\n\r\n\t\tsuper();\r\n\t\tthis.s_scene = new Laya.Scene3D();\r\n\r\n\t\tvar camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n\t\tcamera.transform.translate(new Laya.Vector3(0, 2, 5));\r\n\t\tcamera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\t\tcamera.addComponent(CameraMoveScript);\r\n\t\tcamera.clearColor = new Laya.Vector4(0.2, 0.2, 0.2, 1.0);\r\n\r\n\t\tvar directionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n\t\t//设置平行光的方向\r\n\t\tvar mat = directionLight.transform.worldMatrix as Laya.Matrix4x4;\r\n\t\tmat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n\t\tdirectionLight.transform.worldMatrix = mat;\r\n\r\n\t\tthis.sprite3D = this.s_scene.addChild(new Laya.Sprite3D()) as Laya.Sprite3D;\r\n\t\tthis.lineSprite3D = this.s_scene.addChild(new Laya.Sprite3D()) as Laya.Sprite3D;\r\n\r\n\t\t//球体\r\n\t\tvar sphere = this.sprite3D.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(0.25, 20, 20))) as Laya.MeshSprite3D;\r\n\t\tsphere.transform.position = new Laya.Vector3(0.0, 0.75, 2);\r\n\t\tvar sphereLineSprite3D = this.lineSprite3D.addChild(new Laya.PixelLineSprite3D(3500)) as Laya.PixelLineSprite3D;\r\n\t\tTool.linearModel(sphere, sphereLineSprite3D, Laya.Color.GREEN);\r\n\t\tthis.sprite3D.active = false;;\r\n\t\tthis.lineSprite3D.active = true;\r\n\r\n\t\tthis.AutoSetScene3d(this.s_scene);\r\n\t}\r\n\r\n\r\n}\r\n","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Sprite3DClone extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.s_scene.ambientColor = new Laya.Vector3(1, 1, 1);\r\n\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    public onComplete(): void {\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        var layaMonkey: Laya.Sprite3D = this.s_scene.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\")) as Laya.Sprite3D;\r\n        //克隆sprite3d\r\n        var layaMonkey_clone1: Laya.Sprite3D = Laya.Sprite3D.instantiate(layaMonkey, this.s_scene, false, new Laya.Vector3(0.6, 0, 0));\r\n        //克隆sprite3d\r\n        var layaMonkey_clone2: Laya.Sprite3D = this.s_scene.addChild(Laya.Sprite3D.instantiate(layaMonkey, null, false, new Laya.Vector3(-0.6, 0, 0))) as Laya.Sprite3D;\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { SkinnedMeshSprite3DDemo } from \"./SkinnedMeshSprite3DDemo\";\r\nimport { Sprite3DParent } from \"./Sprite3DParent\";\r\nimport { TransformDemo } from \"./TransformDemo\";\r\nimport { PixelLineSprite3DDemo } from \"./PixelLineSprite3DDemo\";\r\nimport { Sprite3DClone } from \"./Sprite3DClone\";\r\n\r\nexport class Sprite3DMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"蒙皮精灵\", \"子父级关系\", \"变换示例\", \"克隆精灵\", \"像素线精灵\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                SkinnedMeshSprite3DDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                Sprite3DParent.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                TransformDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                Sprite3DClone.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                PixelLineSprite3DDemo.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { Tool } from \"../common/Tool\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class MeshLoad extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private changeActionButton: Laya.Button;\r\n    private sprite3D: Laya.Sprite3D;\r\n    private lineSprite3D: Laya.Sprite3D;\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.8, 1.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\r\n\r\n        this.sprite3D = this.s_scene.addChild(new Laya.Sprite3D()) as Laya.Sprite3D;\r\n        this.lineSprite3D = this.s_scene.addChild(new Laya.Sprite3D()) as Laya.Sprite3D;\r\n\r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            var layaMonkey: Laya.MeshSprite3D = this.sprite3D.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            layaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n            layaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n            var layaMonkeyLineSprite3D: Laya.PixelLineSprite3D = this.lineSprite3D.addChild(new Laya.PixelLineSprite3D(5000)) as Laya.PixelLineSprite3D;\r\n            Tool.linearModel(layaMonkey, layaMonkeyLineSprite3D, Laya.Color.GREEN);\r\n\r\n            var plane: Laya.MeshSprite3D = this.sprite3D.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(6, 6, 10, 10))) as Laya.MeshSprite3D;\r\n            plane.transform.position = new Laya.Vector3(0, 0, -1);\r\n            var planeLineSprite3D: Laya.PixelLineSprite3D = this.lineSprite3D.addChild(new Laya.PixelLineSprite3D(1000)) as Laya.PixelLineSprite3D;\r\n            Tool.linearModel(plane, planeLineSprite3D, Laya.Color.GRAY);\r\n\r\n\r\n            Laya.timer.frameLoop(1, this, function (): void {\r\n                layaMonkeyLineSprite3D.transform.rotate(this.rotation, false);\r\n                layaMonkey.transform.rotate(this.rotation, false);\r\n            });\r\n\r\n            this.lineSprite3D.active = false;\r\n            this.loadUI();\r\n        }));\r\n\r\n    }\r\n\r\n    private loadUI(): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"正常模式\")) as Laya.Button;\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function (): void {\r\n                if (++this.curStateIndex % 2 == 1) {\r\n                    this.sprite3D.active = false;\r\n                    this.lineSprite3D.active = true;\r\n                    this.changeActionButton.label = \"网格模式\";\r\n                } else {\r\n                    this.sprite3D.active = true;\r\n                    this.lineSprite3D.active = false;\r\n                    this.changeActionButton.label = \"正常模式\";\r\n                }\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { Tool } from \"../common/Tool\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class CustomMesh extends SingletonScene {\r\n    private changeActionButton: Laya.Button;\r\n    private s_scene: Laya.Scene3D;\r\n    private sprite3D: Laya.Sprite3D;\r\n    private lineSprite3D: Laya.Sprite3D;\r\n    private curStateIndex = 0;\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 2, 5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        this.sprite3D = new Laya.Sprite3D();\r\n        this.s_scene.addChild(this.sprite3D);\r\n        this.lineSprite3D = new Laya.Sprite3D();\r\n        this.s_scene.addChild(this.lineSprite3D);\r\n\r\n        //正方体\r\n        var box = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(0.5, 0.5, 0.5));\r\n        this.sprite3D.addChild(box);\r\n        box.transform.position = new Laya.Vector3(2.0, 0.25, 0.6);\r\n        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n        //为正方体添加像素线渲染精灵\r\n        var boxLineSprite3D = new Laya.PixelLineSprite3D(100);\r\n        this.lineSprite3D.addChild(boxLineSprite3D);\r\n        //设置像素线渲染精灵线模式\r\n        Tool.linearModel(box, boxLineSprite3D, Laya.Color.GREEN);\r\n\r\n        //球体\r\n        var sphere = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(0.25, 20, 20));\r\n        this.sprite3D.addChild(sphere);\r\n        sphere.transform.position = new Laya.Vector3(1.0, 0.25, 0.6);\r\n        var sphereLineSprite3D = new Laya.PixelLineSprite3D(3500);\r\n        this.lineSprite3D.addChild(sphereLineSprite3D);\r\n        Tool.linearModel(sphere, sphereLineSprite3D, Laya.Color.GREEN);\r\n\r\n        //圆柱体\r\n        var cylinder = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCylinder(0.25, 1, 20));\r\n        this.sprite3D.addChild(cylinder);\r\n        cylinder.transform.position = new Laya.Vector3(0, 0.5, 0.6);\r\n        var cylinderLineSprite3D = new Laya.PixelLineSprite3D(1000);\r\n        this.lineSprite3D.addChild(cylinderLineSprite3D);\r\n        Tool.linearModel(cylinder, cylinderLineSprite3D, Laya.Color.GREEN);\r\n\r\n        //胶囊体\r\n        var capsule = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(0.25, 1, 10, 20));\r\n        this.sprite3D.addChild(capsule);\r\n        capsule.transform.position = new Laya.Vector3(-1.0, 0.5, 0.6);\r\n        var capsuleLineSprite3D = new Laya.PixelLineSprite3D(3000);\r\n        this.lineSprite3D.addChild(capsuleLineSprite3D);\r\n        Tool.linearModel(capsule, capsuleLineSprite3D, Laya.Color.GREEN);\r\n\r\n        //圆锥体\r\n        var cone = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCone(0.25, 0.75));\r\n        this.sprite3D.addChild(cone);\r\n        cone.transform.position = new Laya.Vector3(-2.0, 0.375, 0.6);\r\n        var coneLineSprite3D = new Laya.PixelLineSprite3D(500);\r\n        this.lineSprite3D.addChild(coneLineSprite3D);\r\n        Tool.linearModel(cone, coneLineSprite3D, Laya.Color.GREEN);\r\n\r\n\r\n        //平面\r\n        var plane = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(6, 6, 10, 10));\r\n        this.sprite3D.addChild(plane);\r\n        var planeLineSprite3D = new Laya.PixelLineSprite3D(1000);\r\n        this.lineSprite3D.addChild(planeLineSprite3D);\r\n        Tool.linearModel(plane, planeLineSprite3D, Laya.Color.GRAY);\r\n\r\n        this.lineSprite3D.active = false;\r\n        this.loadUI();\r\n    }\r\n\r\n\r\n\r\n    private loadUI(): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"/res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.changeActionButton = new Laya.Button(GlobalConfig.ResPath + \"/res/threeDimen/ui/button.png\", \"正常模式\");\r\n            Laya.stage.addChild(this.changeActionButton);\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function (): void {\r\n                if (++this.curStateIndex % 2 == 1) {\r\n                    this.sprite3D.active = false;\r\n                    this.lineSprite3D.active = true;\r\n                    this.changeActionButton.label = \"网格模式\";\r\n                } else {\r\n                    this.sprite3D.active = true;\r\n                    this.lineSprite3D.active = false;\r\n                    this.changeActionButton.label = \"正常模式\";\r\n                }\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class ChangeMesh extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private sphere: Laya.MeshSprite3D;\r\n    private changeActionButton: Laya.Button;\r\n    private index = 0;\r\n    private sphereMesh: Laya.Mesh;\r\n    private box: Laya.Mesh;\r\n    private capsule: Laya.Mesh;\r\n    private cylinder: Laya.Mesh;\r\n    private cone: Laya.Mesh;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        //初始化变量\r\n        this.sphere = null;\r\n        this.box = null;\r\n        this.capsule = null;\r\n        this.cylinder = null;\r\n        this.cone = null;\r\n        this.changeActionButton = null;\r\n        this.index = 0;\r\n\r\n        //预加载所有资源\r\n        var resource = [GlobalConfig.ResPath + \"res/threeDimen/scene/ChangeMaterialDemo/Conventional/scene.ls\"];\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onPreLoadFinish));\r\n    }\r\n    onPreLoadFinish() {\r\n        //初始化3D场景\r\n        this.s_scene = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/ChangeMaterialDemo/Conventional/scene.ls\");\r\n        //获取相机\r\n        var camera = this.s_scene.getChildByName(\"Main Camera\");\r\n        //为相机添加视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n        //获取球型精灵\r\n        this.sphere = this.s_scene.getChildByName(\"Sphere\") as Laya.MeshSprite3D;\r\n        //获取精灵的mesh\r\n        this.sphereMesh = this.sphere.meshFilter.sharedMesh;\r\n        //新建四个mesh\r\n        this.box = Laya.PrimitiveMesh.createBox(0.5, 0.5, 0.5);\r\n        this.capsule = Laya.PrimitiveMesh.createCapsule(0.25, 1, 10, 20);\r\n        this.cylinder = Laya.PrimitiveMesh.createCylinder(0.25, 1, 20);\r\n        this.cone = Laya.PrimitiveMesh.createCone(0.25, 0.75);\r\n        //加载UI\r\n        this.loadUI();\r\n    }\r\n    loadUI() {\r\n\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function () {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"切换Mesh\"));\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function () {\r\n                this.index++;\r\n                if (this.index % 5 === 1) {\r\n                    //切换mesh\r\n                    this.sphere.meshFilter.sharedMesh = this.box;\r\n                }\r\n                else if (this.index % 5 === 2) {\r\n                    //切换mesh\r\n                    this.sphere.meshFilter.sharedMesh = this.capsule;\r\n                }\r\n                else if (this.index % 5 === 3) {\r\n                    //切换mesh\r\n                    this.sphere.meshFilter.sharedMesh = this.cylinder;\r\n                }\r\n                else if (this.index % 5 === 3) {\r\n                    //切换mesh\r\n                    this.sphere.meshFilter.sharedMesh = this.cone;\r\n                }\r\n                else {\r\n                    //切换mesh\r\n                    this.sphere.meshFilter.sharedMesh = this.sphereMesh;\r\n                }\r\n            });\r\n\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { MeshLoad } from \"./MeshLoad\";\r\nimport { CustomMesh } from \"./CustomMesh\";\r\nimport { ChangeMesh } from \"./ChangeMesh\";\r\n\r\nexport class MeshMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"网格加载\", \"自定义网格\", \"切换网格\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                MeshLoad.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                CustomMesh.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                ChangeMesh.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\"\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nexport class MaterialDemo extends SingletonScene {\r\n    private sphere: Laya.MeshSprite3D;\r\n    private pbrStandardMaterial: Laya.PBRStandardMaterial;\r\n    private pbrTexture: Laya.Texture2D;\r\n    private billinMaterial: Laya.BlinnPhongMaterial;\r\n    private changeActionButton: Laya.Button;\r\n    private index = 0;\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        this.sphere = null;\r\n        this.pbrStandardMaterial = null;\r\n        this.pbrTexture = null;\r\n        this.billinMaterial = null;\r\n        this.changeActionButton = null;\r\n        this.index = 0;\r\n\r\n        //预加载所有资源\r\n        var resource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/scene/ChangeMaterialDemo/Conventional/scene.ls\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\",];\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onPreLoadFinish));\r\n    }\r\n    onPreLoadFinish() {\r\n        //初始化3D场景\r\n        this.s_scene = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/ChangeMaterialDemo/Conventional/scene.ls\");\r\n        //获取相机\r\n        var camera = this.s_scene.getChildByName(\"Main Camera\");\r\n        //为相机添加视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n        //获取球型精灵\r\n        this.sphere = this.s_scene.getChildByName(\"Sphere\") as Laya.MeshSprite3D;\r\n        //获取球型精灵自带的BlinnPhong材质\r\n        this.billinMaterial = this.sphere.meshRenderer.material as Laya.BlinnPhongMaterial;\r\n        //创建一个新的PBRStandard材质\r\n        this.pbrStandardMaterial = new Laya.PBRStandardMaterial();\r\n        //获取新的纹理\r\n        this.pbrTexture = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\");\r\n        //为PBRStandard材质设置漫反射贴图\r\n        this.pbrStandardMaterial.albedoTexture = this.pbrTexture;\r\n        //加载UI\r\n        this.loadUI();\r\n    }\r\n    loadUI() {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function () {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"切换材质\"));\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function () {\r\n                this.index++;\r\n                if (this.index % 2 === 1) {\r\n                    //切换至PBRStandard材质\r\n                    this.sphere.meshRenderer.material = this.pbrStandardMaterial;\r\n                }\r\n                else {\r\n                    //切换至BlinnPhong材质\r\n                    this.sphere.meshRenderer.material = this.billinMaterial;\r\n                }\r\n            });\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}\r\n","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class BlinnPhongMaterialLoad extends SingletonScene {\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.9, 1.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\r\n\r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            var layaMonkey: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            //加载材质\r\n            Laya.Material.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\", Laya.Handler.create(null, function (mat: Laya.Material): void {\r\n                layaMonkey.meshRenderer.material = mat;\r\n            }));\r\n            layaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n            layaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n            Laya.timer.frameLoop(1, this, function (): void {\r\n                layaMonkey.transform.rotate(this.rotation, false);\r\n            });\r\n        }))\r\n    }\r\n}","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class BlinnPhong_DiffuseMap extends SingletonScene {\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        //创建公用的mesh\r\n        var sphereMesh: Laya.Mesh = Laya.PrimitiveMesh.createSphere();\r\n        var earth1: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(sphereMesh)) as Laya.MeshSprite3D;\r\n        earth1.transform.position = new Laya.Vector3(-0.6, 0, 0);\r\n\r\n        var earth2: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(sphereMesh)) as Laya.MeshSprite3D;\r\n        earth2.transform.position = new Laya.Vector3(0.6, 0, 0);\r\n        var material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        //漫反射贴图\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\", Laya.Handler.create(this, function (texture: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            material.albedoTexture = texture;\r\n        }));\r\n        earth2.meshRenderer.material = material;\r\n\r\n        Laya.timer.frameLoop(1, this, function (): void {\r\n            earth1.transform.rotate(this.rotation, false);\r\n            earth2.transform.rotate(this.rotation, false);\r\n        });\r\n    }\r\n}","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class BlinnPhong_NormalMap extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private normalMapUrl: Array<string> = [\r\n        GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizardeye_norm.png\",\r\n        GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\",\r\n        GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/rock_norm.png\"\r\n    ];\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.6, 1.1));\r\n        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(0.0, -0.8, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/lizard.lh\", Laya.Handler.create(this, this.onComplete), null, Laya3D.HIERARCHY);\r\n    }\r\n    public onComplete(s: any): void {\r\n        this.AutoSetScene3d(this.s_scene);\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/lizard.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            var monster1: Laya.Sprite3D = this.s_scene.addChild(sprite) as Laya.Sprite3D;\r\n            monster1.transform.position = new Laya.Vector3(-0.6, 0, 0);\r\n            monster1.transform.localScale = new Laya.Vector3(0.075, 0.075, 0.075);\r\n            var monster2: Laya.Sprite3D = Laya.Sprite3D.instantiate(monster1, this.s_scene, false, new Laya.Vector3(0.6, 0, 0));\r\n            monster2.transform.localScale = new Laya.Vector3(0.075, 0.075, 0.075);\r\n            for (var i: number = 0; i < monster2.getChildByName(\"lizard\").numChildren; i++) {\r\n                var meshSprite3D: Laya.MeshSprite3D = monster2.getChildByName(\"lizard\").getChildAt(i) as Laya.MeshSprite3D;\r\n                var material: Laya.BlinnPhongMaterial = meshSprite3D.meshRenderer.material as Laya.BlinnPhongMaterial;\r\n                //法线贴图\r\n                Laya.Texture2D.load(this.normalMapUrl[i], Laya.Handler.create(this, function (mat: Laya.BlinnPhongMaterial, texture: Laya.Texture2D): void {\r\n                    mat.normalTexture = texture;\r\n                }, [material]));\r\n            }\r\n\r\n            Laya.timer.frameLoop(1, this, function (): void {\r\n                monster1.transform.rotate(this.rotation);\r\n                monster2.transform.rotate(this.rotation);\r\n            });\r\n        }));\r\n\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class BlinnPhong_SpecularMap extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private specularMapUrl: Array<string> = [\r\n        GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/headS.png\",\r\n        GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/jacketS.png\",\r\n        GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/pantsS.png\",\r\n        GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/upBodyS.png\",\r\n        GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/upBodyS.png\"\r\n    ];\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 3, 5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n\r\n        // var completeHandler:Laya.Handler = Laya.Handler.create(this, this.onComplete);\r\n\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/dude.lh\", Laya.Handler.create(this, this.onComplete));\r\n    }\r\n    public onComplete(): void {\r\n        this.AutoSetScene3d(this.s_scene);\r\n        \r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/dude.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            var dude1: Laya.Sprite3D = this.s_scene.addChild(sprite) as Laya.Sprite3D;\r\n            dude1.transform.position = new Laya.Vector3(-1.5, 0, 0);\r\n\r\n            var dude2: Laya.Sprite3D = Laya.Sprite3D.instantiate(dude1, this.scene, false, new Laya.Vector3(1.5, 0, 0));\r\n            var skinnedMeshSprite3d: Laya.SkinnedMeshSprite3D = dude2.getChildAt(0).getChildAt(0) as Laya.SkinnedMeshSprite3D;\r\n\r\n            for (var i: number = 0; i < skinnedMeshSprite3d.skinnedMeshRenderer.materials.length; i++) {\r\n                var material: Laya.BlinnPhongMaterial = skinnedMeshSprite3d.skinnedMeshRenderer.materials[i] as Laya.BlinnPhongMaterial;\r\n                Laya.Texture2D.load(this.specularMapUrl[i], Laya.Handler.create(this, function (mat: Laya.BlinnPhongMaterial, tex: Laya.Texture2D): void {\r\n                    mat.specularTexture = tex;//高光贴图\r\n                }, [material]));\r\n            }\r\n\r\n            Laya.timer.frameLoop(1, this, function (): void {\r\n                dude1.transform.rotate(this.rotation);\r\n                dude2.transform.rotate(this.rotation);\r\n            });\r\n        }));\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Blinnphong_Transmission extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private rabbitModel: Laya.MeshSprite3D;\r\n    private monkeyModel: Laya.MeshSprite3D;\r\n    private rabbitMaterial: Laya.BlinnPhongMaterial;\r\n    private monkeyMaterial: Laya.BlinnPhongMaterial;\r\n    private resource = [\r\n        GlobalConfig.ResPath + \"res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/monkeyThinkness.png\",\r\n        GlobalConfig.ResPath + \"res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/rabbitthickness.jpg\"\r\n    ]\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        // Laya.Shader3D.debugMode = true;\r\n\r\n        //加载场景\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_TransmissionScene/Conventional/TransmissionScene.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D): void {\r\n            this.s_scene = scene;\r\n\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            //获取场景中的相机\r\n            var camera: Laya.Camera = (<Laya.Camera>scene.getChildByName(\"Main Camera\"));\r\n            //加入摄像机移动控制脚本\r\n            camera.addComponent(CameraMoveScript);\r\n            this.rabbitModel = scene.getChildByName(\"rabbit\");\r\n            this.monkeyModel = scene.getChildByName(\"monkey\");\r\n            this.rabbitMaterial = (this.rabbitModel as Laya.MeshSprite3D).meshRenderer.sharedMaterial;\r\n            this.monkeyMaterial = (this.monkeyModel as Laya.MeshSprite3D).meshRenderer.sharedMaterial;\r\n            this.loadThinkNessTexture();\r\n        }));\r\n\r\n    }\r\n    loadThinkNessTexture() {\r\n        Laya.loader.create(this.resource, Laya.Handler.create(this, this.onPreLoadFinish));\r\n    }\r\n\r\n    onPreLoadFinish() {\r\n        this.monkeyMaterial.normalTexture = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/monkeyThinkness.png\");\r\n        this.rabbitMaterial.normalTexture = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/rabbitthickness.jpg\");\r\n        // this.rabbitMaterial.enableTransmission = true;\r\n        // this.rabbitMaterial.transmissionRata = 0.0;\r\n        // this.rabbitMaterial.backDiffuse = 4.88;\r\n        // this.rabbitMaterial.transmissionColor = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n        // this.rabbitMaterial.backScale = 1.0;\r\n\r\n        // this.monkeyMaterial.enableTransmission = true;\r\n        // this.monkeyMaterial.transmissionRata = 0.0;\r\n        // this.monkeyMaterial.backDiffuse = 1.0;\r\n        // this.monkeyMaterial.transmissionColor = new Laya.Vector4(0.2, 1.0, 0.0, 1.0);\r\n        // this.monkeyMaterial.backScale = 1.0;\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Vector3 = Laya.Vector3;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Stage = Laya.Stage;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Handler = Laya.Handler;\r\nimport Camera = Laya.Camera;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Vector4 = Laya.Vector4;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Transform3D = Laya.Transform3D;\r\n\r\nexport class PBRMaterialDemo extends SingletonScene {\r\n    private static _tempPos: Vector3 = new Vector3();\r\n    private s_scene: Laya.Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n        Shader3D.debugMode = true;\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_EmptyScene/Conventional/EmptyScene.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.s_scene = scene;\r\n            this.AutoSetScene3d(this.s_scene);\r\n            //Laya.stage.addChild(scene);\r\n\r\n            var camera: Camera = <Camera>scene.getChildByName(\"Main Camera\");\r\n            var moveScript: CameraMoveScript = camera.addComponent(CameraMoveScript);\r\n            moveScript.rotaionSpeed = 0.005;\r\n\r\n            var sphereMesh: Mesh = PrimitiveMesh.createSphere(0.25, 32, 32);\r\n            const row: number = 6;\r\n            this.addSpheresSpecialMetallic(sphereMesh, new Vector3(0, 1.5, 0), scene, row, new Vector4(186 / 255, 110 / 255, 64 / 255, 1.0), 1.0);\r\n            this.addSpheresSmoothnessMetallic(sphereMesh, new Vector3(0, 0, 0), scene, 3, row, new Vector4(1.0, 1.0, 1.0, 1.0));\r\n            this.addSpheresSpecialMetallic(sphereMesh, new Vector3(0, -1.5, 0), scene, row, new Vector4(0.0, 0.0, 0.0, 1.0), 0.0);\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Add one with smoothness and metallic sphere.\r\n     */\r\n    addPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D, color: Vector4, smoothness: number, metallic: number): PBRStandardMaterial {\r\n        var mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n        mat.albedoColor = color;\r\n        mat.smoothness = smoothness;\r\n        mat.metallic = metallic;\r\n\r\n        var meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n        meshSprite.meshRenderer.sharedMaterial = mat;\r\n        var transform: Transform3D = meshSprite.transform;\r\n        transform.localPosition = position;\r\n        scene.addChild(meshSprite);\r\n        return mat;\r\n    }\r\n\r\n\r\n    /**\r\n     * Add some different smoothness and metallic sphere.\r\n     */\r\n    addSpheresSmoothnessMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, row: number, col: number, color: Vector4): void {\r\n        const width: number = col * 0.5;\r\n        const height: number = row * 0.5;\r\n        for (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n            for (var j: number = 0, m: number = row; j < m; j++) {//diffenent metallic\r\n                var smoothness: number = i / (n - 1);\r\n                var metallic: number = 1.0 - j / (m - 1);\r\n\r\n                var pos: Vector3 = PBRMaterialDemo._tempPos;\r\n                pos.setValue(-width / 2 + i * width / (n - 1), height / 2 - j * height / (m - 1), 3.0);\r\n                Vector3.add(offset, pos, pos);\r\n\r\n                this.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add some different smoothness with special metallic sphere.\r\n     */\r\n    addSpheresSpecialMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, col: number, color: Vector4, metallic: number = 0): void {\r\n        const width: number = col * 0.5;\r\n        for (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n            var smoothness: number = i / (n - 1);\r\n            var metallic: number = metallic;\r\n\r\n            var pos: Vector3 = PBRMaterialDemo._tempPos;\r\n            pos.setValue(-width / 2 + i * width / (n - 1), 0, 3.0);\r\n            Vector3.add(offset, pos, pos);\r\n\r\n            this.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic);\r\n        }\r\n    }\r\n}","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class EffectMaterialDemo extends SingletonScene {\r\n    private rotation: Laya.Vector3;\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.rotation = new Laya.Vector3(0, 0.01, 0);\r\n\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n\r\n        var earth = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere())) as Laya.MeshSprite3D;\r\n        earth.transform.position = new Laya.Vector3(0, 0, 0);\r\n        //创建EffectMaterial材质\r\n        var material = new Laya.EffectMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\", Laya.Handler.create(this, function (texture) {\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            //设置纹理\r\n            material.texture = texture;\r\n            //设置材质颜色\r\n            material.color = new Laya.Vector4(0, 0, 0.6, 1);\r\n        }));\r\n        earth.meshRenderer.material = material;\r\n\r\n        Laya.timer.frameLoop(1, this, function () {\r\n            earth.transform.rotate(this.rotation, false);\r\n        });\r\n    }\r\n}","import { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class UnlitMaterialDemo extends SingletonScene {\r\n    private rotation: Laya.Vector3;\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n\r\n        this.rotation = new Laya.Vector3(0, 0.01, 0);\r\n\r\n        //创建公用的Mesh\r\n        var sphereMesh: Laya.Mesh = Laya.PrimitiveMesh.createSphere();\r\n        var earth1 =  this.s_scene.addChild(new Laya.MeshSprite3D(sphereMesh)) as Laya.MeshSprite3D;\r\n        earth1.transform.position = new Laya.Vector3(-0.6, 0, 0);\r\n        var earth2 =  this.s_scene.addChild(new Laya.MeshSprite3D(sphereMesh)) as Laya.MeshSprite3D;\r\n        earth2.transform.position = new Laya.Vector3(0.6, 0, 0);\r\n\r\n        //创建Unlit材质\r\n        var material = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\", Laya.Handler.create(this, function (texture) {\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            //设置反照率贴图\r\n            material.albedoTexture = texture;\r\n            //设置反照率强度\r\n            material.albedoIntensity = 1;\r\n        }));\r\n        earth1.meshRenderer.material = material;\r\n\r\n        //创建Unlit材质\r\n        var material2 = new Laya.UnlitMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\", Laya.Handler.create(this, function (texture) {\r\n            //设置反照率贴图\r\n            material2.albedoTexture = texture;\r\n            //设置反照率强度\r\n            material2.albedoIntensity = 1;\r\n            //设置材质颜色\r\n            material2.albedoColor = new Laya.Vector4(0, 0, 0.6, 1);\r\n        }));\r\n        earth2.meshRenderer.material = material2;\r\n\r\n        Laya.timer.frameLoop(1, this, function () {\r\n            earth1.transform.rotate(this.rotation, false);\r\n            earth2.transform.rotate(this.rotation, false);\r\n        });\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class WaterPrimaryMaterialDemo extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.Stat.show();\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        super();\r\n\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_water/Conventional/Default.ls\", Laya.Handler.create(this, function (scene) {\r\n            this.s_scene = scene;\r\n\r\n            this.AutoSetScene3d(this.s_scene);\r\n            //Laya.stage.addChild(scene);\r\n            var camera = scene.getChildByName(\"Main Camera\");\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { MaterialDemo } from \"./MaterialDemo\";\r\nimport { BlinnPhongMaterialLoad } from \"./BlinnPhongMaterialLoad\";\r\nimport { BlinnPhong_DiffuseMap } from \"./BlinnPhong_DiffuseMap\";\r\nimport { BlinnPhong_NormalMap } from \"./BlinnPhong_NormalMap\";\r\nimport { BlinnPhong_SpecularMap } from \"./BlinnPhong_SpecularMap\";\r\nimport { Blinnphong_Transmission } from \"./Blinnphong_Transmission\";\r\nimport { PBRMaterialDemo } from \"./PBRMaterialDemo\";\r\nimport { EffectMaterialDemo } from \"./EffectMaterialDemo\";\r\nimport { UnlitMaterialDemo } from \"./UnlitMaterialDemo\";\r\nimport { WaterPrimaryMaterialDemo } from \"./WaterPrimaryMaterialDemo\";\r\n\r\nexport class MaterialMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\",\r\n        \"材质示例\", \"BP材质加载\", \"BP漫反射贴图\", \"BP法线贴图\", \"BP高光贴图\",\r\n        \"BP透射\", \"PBR材质\", \"Effect材质\", \"Unlit材质\", \"WaterPrimary材质\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                MaterialDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                BlinnPhongMaterialLoad.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                BlinnPhong_DiffuseMap.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                BlinnPhong_NormalMap.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                BlinnPhong_SpecularMap.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[6]:\r\n                Blinnphong_Transmission.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[7]:\r\n                PBRMaterialDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[8]:\r\n                EffectMaterialDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[9]:\r\n                UnlitMaterialDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[10]:\r\n                WaterPrimaryMaterialDemo.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class TextureDemo extends SingletonScene {\r\n    private sprite3D: Laya.Sprite3D;\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 2, 5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        camera.clearColor = new Laya.Vector4(0.2, 0.2, 0.2, 1.0);\r\n\r\n        var directionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        //设置平行光的方向\r\n        var mat = directionLight.transform.worldMatrix as Laya.Matrix4x4;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        this.sprite3D = this.s_scene.addChild(new Laya.Sprite3D()) as Laya.Sprite3D;\r\n\r\n        //正方体\r\n        var box = this.sprite3D.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(0.5, 0.5, 0.5))) as Laya.MeshSprite3D;\r\n        box.transform.position = new Laya.Vector3(0.0, 1.0, 2.5);\r\n        box.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n        var mater = new Laya.BlinnPhongMaterial();\r\n        //漫反射贴图\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/layabox.png\", Laya.Handler.create(this, function (texture: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            //在U方向上使用WARPMODE_CLAMP\r\n            texture.wrapModeU = Laya.BaseTexture.WARPMODE_CLAMP;\r\n            //在V方向使用WARPMODE_REPEAT\r\n            texture.wrapModeV = Laya.BaseTexture.WARPMODE_REPEAT;\r\n            //设置过滤方式\r\n            texture.filterMode = Laya.BaseTexture.FILTERMODE_BILINEAR;\r\n            //设置各向异性等级\r\n            texture.anisoLevel = 2;\r\n\r\n            mater.albedoTexture = texture;\r\n            //修改材质贴图的平铺和偏移\r\n            var tilingOffset: Laya.Vector4 = mater.tilingOffset;\r\n            tilingOffset.setValue(2, 2, 0, 0);\r\n            mater.tilingOffset = tilingOffset;\r\n\r\n            box.meshRenderer.material = mater;\r\n        }));\r\n\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class TextureGPUCompression extends SingletonScene {\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.Stat.show();\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n\r\n        if (Laya.Browser.onAndroid) {\r\n            Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_TextureGPUCompression/Android/scene.ls\", Laya.Handler.create(this, function (scene) {\r\n                Laya.stage.addChild(scene);\r\n                var camera = scene.getChildByName(\"Main Camera\");\r\n                camera.addComponent(CameraMoveScript);\r\n            }));\r\n        }\r\n        else if (Laya.Browser.onIOS) {\r\n            Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_TextureGPUCompression/IOS/scene.ls\", Laya.Handler.create(this, function (scene) {\r\n                Laya.stage.addChild(scene);\r\n                var camera = scene.getChildByName(\"Main Camera\");\r\n                camera.addComponent(CameraMoveScript);\r\n            }));\r\n        }\r\n        else {\r\n            Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_TextureGPUCompression/Conventional/scene.ls\", Laya.Handler.create(this, function (scene) {\r\n                this.AutoSetScene3d(scene);\r\n                var camera = scene.getChildByName(\"Main Camera\");\r\n                camera.addComponent(CameraMoveScript);\r\n            }));\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport Vector4 = Laya.Vector4;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Texture2D = Laya.Texture2D;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport TextureFormat = Laya.TextureFormat;\r\nimport HalfFloatUtils = Laya.HalfFloatUtils;\r\nimport FilterMode = Laya.FilterMode;\r\n\r\nexport class HalfFloatTexture extends SingletonScene {\r\n    private sprite3D: Sprite3D;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // Stat.show();\r\n        var scene: Scene3D = new Scene3D();\r\n\r\n        var camera: Camera = (<Camera>scene.addChild(new Camera(0, 0.1, 100)));\r\n        camera.transform.translate(new Vector3(0, 2, 5));\r\n        camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        camera.clearColor = new Vector4(0.2, 0.2, 0.2, 1.0);\r\n\r\n        var directionLight: DirectionLight = (<DirectionLight>scene.addChild(new DirectionLight()));\r\n        //设置平行光的方向\r\n        var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        this.sprite3D = (<Sprite3D>scene.addChild(new Sprite3D()));\r\n\r\n        //正方体\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(1, 1))));\r\n        box.transform.position = new Vector3(0.0, 1.0, 2.5);\r\n        box.transform.rotate(new Vector3(90, 0, 0), false, false);\r\n        var material: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        material.albedoTexture = this.createHalfFloatTexture();\r\n        box.meshRenderer.sharedMaterial = material;\r\n        this.AutoSetScene3d(scene);\r\n    }\r\n\r\n    //创建半浮点数纹理\r\n    createHalfFloatTexture(): Texture2D {\r\n        var texture: Texture2D = new Texture2D(50, 50, TextureFormat.R32G32B32A32, false, true);\r\n        var pixelData: Uint16Array = new Uint16Array(50 * 50 * 4);\r\n        var pixelIndex: number;\r\n        var step: number = 1.0 / 50;\r\n        for (var x: number = 0, n = 50; x < n; x++) {\r\n            for (var y: number = 0, m = 50; y < m; y++) {\r\n                pixelIndex = (x + y * 50) * 4;\r\n                pixelData[pixelIndex] = HalfFloatUtils.roundToFloat16Bits(1.0);\r\n                pixelData[pixelIndex + 1] = HalfFloatUtils.roundToFloat16Bits(x * step);\r\n                pixelData[pixelIndex + 2] = HalfFloatUtils.roundToFloat16Bits(y * step);\r\n                pixelData[pixelIndex + 3] = HalfFloatUtils.roundToFloat16Bits(1.0);\r\n            }\r\n        }\r\n        texture.setPixels(pixelData, 0);\r\n        texture.filterMode = FilterMode.Bilinear;\r\n        return texture;\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport Vector4 = Laya.Vector4;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Browser = Laya.Browser;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class GPUCompression_ASTC extends SingletonScene {\r\n\tprivate s_scene: Laya.Scene3D;\r\n\tprivate mat: UnlitMaterial;\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t// Laya3D.init(0, 0);\r\n\t\t// Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n\t\t// Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n\t\t// Stat.show();\r\n\r\n\t\tthis.s_scene = new Scene3D();\r\n\r\n\t\tvar camera: Camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n\t\tcamera.transform.translate(new Vector3(0, 2, 5));\r\n\t\tcamera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t\tcamera.addComponent(CameraMoveScript);\r\n\t\tcamera.clearColor = new Vector4(0.2, 0.2, 0.2, 1.0);\r\n\r\n\t\tlet meshSprite = new MeshSprite3D(PrimitiveMesh.createBox());\r\n\t\tthis.mat = new UnlitMaterial();\r\n\t\tthis.s_scene.addChild(meshSprite);\r\n\t\tmeshSprite.meshRenderer.sharedMaterial = this.mat;\r\n\t\tif (!Browser.onAndroid && !Browser.onIOS) {\r\n\t\t\tconsole.log(\"PC不支持ASTC纹理\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tTexture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/ASTC4x4Test.ktx\", Handler.create(this, function (texture: Texture2D): void {\r\n\t\t\tthis.mat.albedoTexture = texture;\r\n\t\t\t//修改材质贴图的平铺和偏移\r\n\t\t\tthis.AutoSetScene3d(this.s_scene);\r\n\t\t}));\r\n\r\n\r\n\t}\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport Vector4 = Laya.Vector4;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Browser = Laya.Browser;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class GPUCompression_ETC2 extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private mat: UnlitMaterial;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // Stat.show();\r\n\r\n        this.s_scene = new Scene3D();\r\n\r\n        var camera: Camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n        camera.transform.translate(new Vector3(0, 2, 5));\r\n        camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        camera.clearColor = new Vector4(0.2, 0.2, 0.2, 1.0);\r\n\r\n        let meshSprite = new MeshSprite3D(PrimitiveMesh.createBox());\r\n        this.mat = new UnlitMaterial();\r\n        this.s_scene.addChild(meshSprite);\r\n        meshSprite.meshRenderer.sharedMaterial = this.mat;\r\n        if (!Browser.onAndroid) {\r\n            console.log(\"只有安卓支持ETC\");\r\n            return;\r\n        }\r\n\r\n        Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/ETC2Test.ktx\", Handler.create(this, function (texture: Texture2D): void {\r\n            this.mat.albedoTexture = texture;\r\n            this.AutoSetScene3d(this.s_scene);\r\n            //修改材质贴图的平铺和偏移\r\n        }));\r\n\r\n\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { TextureDemo } from \"./TextureDemo\";\r\nimport { TextureGPUCompression } from \"./TextureGPUCompression\";\r\nimport { HalfFloatTexture } from \"./HalfFloatTexture\";\r\nimport { GPUCompression_ASTC } from \"./GPUCompression_ASTC\";\r\nimport { GPUCompression_ETC2 } from \"./GPUCompression_ETC2\";\r\n\r\nexport class TextureMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"纹理示例\", \"纹理压缩\", \"半浮点数纹理\", \"GPU压缩ASTC\", \"GPU压缩ETC2\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                TextureDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                TextureGPUCompression.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                HalfFloatTexture.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                GPUCompression_ASTC.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                GPUCompression_ETC2.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class AnimatorDemo extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private animator: Laya.Animator;\r\n    private changeActionButton: Laya.Button;\r\n    private changeActionButton2: Laya.Button;\r\n    private PlayStopIndex = 0;\r\n    private curStateIndex = 0;\r\n    private text: Laya.Text = new Laya.Text();\r\n    private textName: Laya.Text = new Laya.Text();\r\n    private curActionName: string = null;\r\n\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n\r\n        // //适配模式\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n        // //开启统计信息\r\n        // Laya.Stat.show();\r\n\r\n        //预加载所有资源\r\n        var resource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_H_001.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_S_009.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\"\r\n        ];\r\n\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onLoadFinish));\r\n    }\r\n\r\n    private onLoadFinish() {\r\n        //初始化场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.s_scene.ambientColor = new Laya.Vector3(0.5, 0.5, 0.5);\r\n\r\n        //初始化相机\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 3, 5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        //设置灯光方向\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //初始化角色精灵\r\n        var role = new Laya.Sprite3D();\r\n        this.s_scene.addChild(role);\r\n\r\n        //初始化胖子\r\n        var pangzi = role.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\")) as Laya.Sprite3D;\r\n        //获取动画组件\r\n        this.animator = pangzi.getChildAt(0).getComponent(Laya.Animator) as Laya.Animator;\r\n        //创建动作状态\r\n        var state1 = new Laya.AnimatorState();\r\n        //动作名称\r\n        state1.name = \"hello\";\r\n        //动作播放起始时间\r\n        state1.clipStart = 296 / 581;\r\n        //动作播放结束时间\r\n        state1.clipEnd = 346 / 581;\r\n        //设置动作\r\n        state1.clip = this.animator.getDefaultState().clip;\r\n        //循环模式\r\n        state1.clip.islooping = true;\r\n        //为动画状态添加动画状态脚本\r\n        state1.addScript(AnimatorStateScriptDemo);\r\n        //为动画组件添加一个动作状态\r\n        this.animator.addState(state1);\r\n\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        var state2 = new Laya.AnimatorState();\r\n        state2.name = \"ride\";\r\n        state2.clipStart = 0 / 581;\r\n        state2.clipEnd = 33 / 581;\r\n        state2.clip = this.animator.getDefaultState().clip;\r\n        state2.clip.islooping = true;\r\n        state2.addScript(AnimatorStateScriptDemo);\r\n        this.animator.addState(state2);\r\n        this.animator.speed = 0.0;\r\n\r\n        var state3 = new Laya.AnimatorState();\r\n        state3.name = \"动作状态三\";\r\n        state3.clipStart = 34 / 581;\r\n        state3.clipEnd = 100 / 581;\r\n        state3.clip = this.animator.getDefaultState().clip;\r\n        state3.clip.islooping = true;\r\n        state3.addScript(AnimatorStateScriptDemo);\r\n        this.animator.addState(state3);\r\n        this.animator.speed = 0.0;\r\n\r\n        var state4 = new Laya.AnimatorState();\r\n        state4.name = \"动作状态四\";\r\n        state4.clipStart = 101 / 581;\r\n        state4.clipEnd = 200 / 581;\r\n        state4.clip = this.animator.getDefaultState().clip;\r\n        state4.clip.islooping = true;\r\n        state4.addScript(AnimatorStateScriptDemo);\r\n        this.animator.addState(state4);\r\n        this.animator.speed = 0.0;\r\n\r\n        var state5 = new Laya.AnimatorState();\r\n        state5.name = \"动作状态五\";\r\n        state5.clipStart = 201 / 581;\r\n        state5.clipEnd = 295 / 581;\r\n        state5.clip = this.animator.getDefaultState().clip;\r\n        state5.clip.islooping = true;\r\n        state5.addScript(AnimatorStateScriptDemo);\r\n        this.animator.addState(state5);\r\n        this.animator.speed = 0.0;\r\n\r\n        var state6 = new Laya.AnimatorState();\r\n        state6.name = \"动作状态六\";\r\n        state6.clipStart = 345 / 581;\r\n        state6.clipEnd = 581 / 581;\r\n        state6.clip = this.animator.getDefaultState().clip;\r\n        state6.clip.islooping = true;\r\n        state6.addScript(AnimatorStateScriptDemo);\r\n        this.animator.addState(state6);\r\n        this.animator.speed = 0.0;\r\n\r\n        this.loadUI();\r\n        this.textName.x = Laya.stage.width / 2 - 50;\r\n        this.text.x = Laya.stage.width / 2 - 50;\r\n        this.text.y = 50;\r\n        this.textName.overflow = Laya.Text.HIDDEN;\r\n        this.textName.color = \"#FFFFFF\";\r\n        this.textName.font = \"Impact\";\r\n        this.textName.fontSize = 20;\r\n        this.textName.borderColor = \"#FFFF00\";\r\n        this.textName.x = Laya.stage.width / 2;\r\n        this.textName.text = \"当前动作状态名称：\";\r\n        Laya.stage.addChild(this.textName);\r\n\r\n        this.text.overflow = Laya.Text.HIDDEN;\r\n        this.text.color = \"#FFFFFF\";\r\n        this.text.font = \"Impact\";\r\n        this.text.fontSize = 20;\r\n        this.text.borderColor = \"#FFFF00\";\r\n        this.text.x = Laya.stage.width / 2;\r\n        this.text.text = \"当前动作状态进度：\";\r\n        Laya.stage.addChild(this.text);\r\n\r\n\r\n\r\n        Laya.timer.frameLoop(1, this, this.onFrame);\r\n\r\n    }\r\n\r\n    private loadUI() {\r\n\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function () {\r\n\r\n            this.changeActionButton = new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"播放动画\");\r\n            Laya.stage.addChild(this.changeActionButton);\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2 - 100, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function () {\r\n\r\n                this.PlayStopIndex++;\r\n                if (this.changeActionButton.label === \"暂停动画\") {\r\n                    this.changeActionButton.label = \"播放动画\";\r\n                    //暂停动画\r\n                    this.animator.speed = 0.0;\r\n                }\r\n                else if (this.changeActionButton.label === \"播放动画\") {\r\n                    this.changeActionButton.label = \"暂停动画\";\r\n                    this.animator.play(this.curActionName);\r\n                    //播放动画\r\n                    this.animator.speed = 1.0;\r\n                }\r\n            });\r\n\r\n\r\n            this.changeActionButton2 = new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"切换动作状态\");\r\n            Laya.stage.addChild(this.changeActionButton2);\r\n            this.changeActionButton2.size(200, 40);\r\n            this.changeActionButton2.labelBold = true;\r\n            this.changeActionButton2.labelSize = 30;\r\n            this.changeActionButton2.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton2.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton2.pos(Laya.stage.width / 2 - this.changeActionButton2.width * Laya.Browser.pixelRatio / 2 + 100, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton2.on(Laya.Event.CLICK, this, function () {\r\n\r\n                this.curStateIndex++;\r\n                if (this.curStateIndex % 6 == 0) {\r\n                    this.changeActionButton.label = \"暂停动画\";\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"hello\");\r\n                    this.curActionName = \"hello\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"hello\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n                else if (this.curStateIndex % 6 == 1) {\r\n                    this.changeActionButton.label = \"暂停动画\";\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"ride\");\r\n                    this.curActionName = \"ride\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"ride\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n                else if (this.curStateIndex % 6 == 2) {\r\n                    this.changeActionButton.label = \"暂停动画\";\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"动作状态三\");\r\n                    this.curActionName = \"动作状态三\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"动作状态三\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n                else if (this.curStateIndex % 6 == 3) {\r\n                    this.changeActionButton.label = \"暂停动画\";\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"动作状态四\");\r\n                    this.curActionName = \"动作状态四\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"动作状态四\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n                else if (this.curStateIndex % 6 == 4) {\r\n                    this.changeActionButton.label = \"暂停动画\";\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"动作状态五\");\r\n                    this.curActionName = \"动作状态五\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"动作状态五\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n                else if (this.curStateIndex % 6 == 5) {\r\n                    this.changeActionButton.label = \"暂停动画\";\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"动作状态六\");\r\n                    this.curActionName = \"动作状态六\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"动作状态六\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n            });\r\n\r\n        }));\r\n    }\r\n    private onFrame() {\r\n        if (this.animator.speed > 0.0) {\r\n            //获取播放状态的归一化时间\r\n            var curNormalizedTime: number = this.animator.getCurrentAnimatorPlayState(0).normalizedTime;\r\n            this.text.text = \"当前动画状态进度：\" + curNormalizedTime;\r\n        }\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n\r\n        if (this.textName){\r\n            this.textName.visible = true;\r\n        }\r\n\r\n        if (this.text){\r\n            this.text.visible = true;\r\n        }\r\n\r\n        if (this.changeActionButton2){\r\n            this.changeActionButton2.visible = true;\r\n        }\r\n\r\n        if (this.changeActionButton){\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        \r\n        if (this.textName){\r\n            this.textName.visible = false;\r\n        }\r\n\r\n        if (this.text){\r\n            this.text.visible = false;\r\n        }\r\n\r\n        if (this.changeActionButton2){\r\n            this.changeActionButton2.visible = false;\r\n        }\r\n\r\n        if (this.changeActionButton){\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n//继承自AnimatorStateScript(动画状态脚本)\r\nclass AnimatorStateScriptDemo extends Laya.AnimatorStateScript {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    /**\r\n     * 动画状态开始时执行。\r\n     */\r\n    public onStateEnter(): void {\r\n        console.log(\"动画开始播放了\");\r\n    }\r\n\r\n    /**\r\n     * 动画状态更新时执行。\r\n     */\r\n    public onStateUpdate(): void {\r\n        console.log(\"动画状态更新了\");\r\n    }\r\n\r\n    /**\r\n     * 动画状态退出时执行。\r\n     */\r\n    public onStateExit(): void {\r\n        console.log(\"动画退出了\");\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class AnimationLayerBlend extends SingletonScene {\r\n    private motionCross: Boolean = false;\r\n    private blendType: number = 0;\r\n    private motionIndex: number = 0;\r\n    private motions: Array<string> = [\"run\", \"run_2\", \"attack\", \"attack_1\", \"attack_2\", \"dead\", \"idle_2\", \"idle_3\", \"idle_4\", \"idle4\", \"reload\", \"replace\", \"replace_2\", \"stop\"];\r\n    private btns: Laya.Button[] = [];\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_Sniper/Sniper.ls\", Laya.Handler.create(this, this.sceneLoaded));\r\n    }\r\n    private sceneLoaded(scene: Laya.Scene3D): void {\r\n        this.AutoSetScene3d(scene);\r\n        var animator: Laya.Animator = scene.getChildAt(2).getComponent(Laya.Animator);\r\n\r\n        this.addbtn(100, 100, 160, 30, \"动画过渡:否\", 20, function (e: Laya.Event): void {\r\n            this.motionCross = !this.motionCross;\r\n            if (this.motionCross)\r\n                (e.target as Laya.Button).label = \"动画过渡:是\";\r\n            else\r\n                (e.target as Laya.Button).label = \"动画过渡:否\";\r\n        });\r\n\r\n        this.addbtn(100, 160, 160, 30, \"混合模式:全身\", 20, function (e: Laya.Event): void {\r\n            this.blendType++;\r\n            (this.blendType === 3) && (this.blendType = 0);\r\n            switch (this.blendType) {\r\n                case 0:\r\n                    (e.target as Laya.Button).label = \"混合模式:全身\";\r\n                    break;\r\n                case 1:\r\n                    (e.target as Laya.Button).label = \"混合模式:上身\";\r\n                    break;\r\n                case 2:\r\n                    (e.target as Laya.Button).label = \"混合模式:下身\";\r\n                    break;\r\n            }\r\n        });\r\n\r\n        this.addbtn(100, 220, 260, 40, \"切换动作:attack_2\", 28, function (e: Laya.Event): void {\r\n            switch (this.blendType) {\r\n                case 0:\r\n                    if (this.motionCross) {\r\n                        animator.crossFade(this.motions[this.motionIndex], 0.2, 0);\r\n                        animator.crossFade(this.motions[this.motionIndex], 0.2, 1);\r\n                    } else {\r\n                        animator.play(this.motions[this.motionIndex], 0);\r\n                        animator.play(this.motions[this.motionIndex], 1);\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (this.motionCross)\r\n                        animator.crossFade(this.motions[this.motionIndex], 0.2, 0);\r\n                    else\r\n                        animator.play(this.motions[this.motionIndex], 0);\r\n                    break;\r\n                case 2:\r\n                    if (this.motionCross)\r\n                        animator.crossFade(this.motions[this.motionIndex], 0.2, 1);\r\n                    else\r\n                        animator.play(this.motions[this.motionIndex], 1);\r\n                    break;\r\n            }\r\n            (e.target as Laya.Button).label = \"切换动作:\" + this.motions[this.motionIndex];\r\n            this.motionIndex++;\r\n            (this.motionIndex === this.motions.length) && (this.motionIndex = 0);\r\n        });\r\n    }\r\n\r\n    private addbtn(x: number, y: number, width: number, height: number, text: string, size: number, clickFun: Function): void {\r\n        var thiss = this;\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n            var changeActionButton: Laya.Button = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", text)) as Laya.Button;\r\n            changeActionButton.size(width, height);\r\n            changeActionButton.labelBold = true;\r\n            changeActionButton.labelSize = size;\r\n            changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            changeActionButton.pos(x, y);\r\n            changeActionButton.on(Laya.Event.CLICK, thiss, clickFun);\r\n            this.btns.push(changeActionButton);\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class AnimatorStateScriptDemo extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private animator: Laya.Animator;\r\n    private changeActionButton: Laya.Button;\r\n    private changeActionButton2: Laya.Button;\r\n    private PlayStopIndex = 0;\r\n    private curStateIndex = 0;\r\n    private text: Laya.Text = new Laya.Text();\r\n    private textName: Laya.Text = new Laya.Text();\r\n    private curActionName: string = null;\r\n\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n\r\n        // //适配模式\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n        // //开启统计信息\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        //预加载所有资源\r\n        var resource = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_H_001.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_S_009.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\",\r\n        ];\r\n\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onLoadFinish));\r\n    }\r\n\r\n    private onLoadFinish() {\r\n        //初始化场景\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.s_scene.ambientColor = new Laya.Vector3(0.5, 0.5, 0.5);\r\n\r\n        //初始化相机\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 3, 5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        //设置灯光方向\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //初始化角色精灵\r\n        var role = new Laya.Sprite3D();\r\n        this.s_scene.addChild(role);\r\n\r\n        //初始化胖子\r\n        var pangzi = role.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\")) as Laya.Sprite3D;\r\n        //获取动画组件\r\n        this.animator = pangzi.getChildAt(0).getComponent(Laya.Animator) as Laya.Animator;\r\n        //创建动作状态\r\n        var state1 = new Laya.AnimatorState();\r\n        //动作名称\r\n        state1.name = \"hello\";\r\n        //动作播放起始时间\r\n        state1.clipStart = 296 / 581;\r\n        //动作播放结束时间\r\n        state1.clipEnd = 346 / 581;\r\n        //设置动作\r\n        state1.clip = this.animator.getDefaultState().clip;\r\n        //循环模式\r\n        state1.clip.islooping = true;\r\n        //为动画状态添加动画状态脚本\r\n        var asst1 = state1.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n        asst1.text = this.text;\r\n        //为动画组件添加一个动作状态\r\n        this.animator.addState(state1);\r\n\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        var state2 = new Laya.AnimatorState();\r\n        state2.name = \"ride\";\r\n        state2.clipStart = 0 / 581;\r\n        state2.clipEnd = 33 / 581;\r\n        state2.clip = this.animator.getDefaultState().clip;\r\n        state2.clip.islooping = true;\r\n        var asst2 = state2.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n        asst2.text = this.text;\r\n        this.animator.addState(state2);\r\n        this.animator.speed = 0.0;\r\n\r\n        var state3 = new Laya.AnimatorState();\r\n        state3.name = \"动作状态三\";\r\n        state3.clipStart = 34 / 581;\r\n        state3.clipEnd = 100 / 581;\r\n        state3.clip = this.animator.getDefaultState().clip;\r\n        state3.clip.islooping = true;\r\n        var asst3 = state3.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n        asst3.text = this.text;\r\n        this.animator.addState(state3);\r\n        this.animator.speed = 0.0;\r\n\r\n        this.loadUI();\r\n\r\n        this.textName.overflow = Laya.Text.HIDDEN;\r\n        this.textName.color = \"#FFFFFF\";\r\n        this.textName.font = \"Impact\";\r\n        this.textName.fontSize = 20;\r\n        this.textName.borderColor = \"#FFFF00\";\r\n        this.textName.x = Laya.stage.width / 2;\r\n        this.textName.text = \"当前动作状态名称：\";\r\n        Laya.stage.addChild(this.textName);\r\n\r\n        this.text.overflow = Laya.Text.HIDDEN;\r\n        this.text.color = \"#FFFFFF\";\r\n        this.text.font = \"Impact\";\r\n        this.text.fontSize = 20;\r\n        this.text.borderColor = \"#FFFF00\";\r\n        this.text.x = Laya.stage.width / 2;\r\n        this.text.text = \"当前动作状态进度：\";\r\n        Laya.stage.addChild(this.text);\r\n        this.textName.x = Laya.stage.width / 2 - 50;\r\n        this.text.x = Laya.stage.width / 2 - 50;\r\n        this.text.y = 50;\r\n\r\n\r\n    }\r\n\r\n    private loadUI() {\r\n\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function () {\r\n            this.changeActionButton = new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"切换动作状态\");\r\n            Laya.stage.addChild(this.changeActionButton);\r\n            this.changeActionButton.size(200, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function () {\r\n\r\n                this.curStateIndex++;\r\n                if (this.curStateIndex % 3 == 0) {\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"hello\");\r\n                    this.curActionName = \"hello\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"hello\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n                else if (this.curStateIndex % 3 == 1) {\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"ride\");\r\n                    this.curActionName = \"ride\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"ride\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n                else if (this.curStateIndex % 3 == 2) {\r\n                    this.animator.speed = 0.0;\r\n                    this.animator.play(\"动作状态三\");\r\n                    this.curActionName = \"动作状态三\";\r\n                    this.textName.text = \"当前动作状态名称:\" + \"动作状态三\";\r\n                    this.animator.speed = 1.0;\r\n                }\r\n\r\n            });\r\n\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n\r\n        if (this.text) {\r\n            this.text.visible = true;\r\n        }\r\n\r\n        if (this.textName) {\r\n            this.textName.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n\r\n        if (this.text) {\r\n            this.text.visible = false;\r\n        }\r\n\r\n        if (this.textName) {\r\n            this.textName.visible = false;\r\n        }\r\n    }\r\n}\r\n\r\n//继承自AnimatorStateScript(动画状态脚本)\r\nclass AnimatorStateScriptTest extends Laya.AnimatorStateScript {\r\n    private _text: Laya.Text = null;\r\n    public get text(): Laya.Text {\r\n        return this._text;\r\n    }\r\n    public set text(value: Laya.Text) {\r\n        this._text = value;\r\n    }\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    /**\r\n     * 动画状态开始时执行。\r\n     */\r\n    public onStateEnter(): void {\r\n        console.log(\"动画开始播放了\");\r\n        this._text.text = \"动画状态：动画开始播放\";\r\n    }\r\n\r\n    /**\r\n     * 动画状态更新时执行。\r\n     */\r\n    public onStateUpdate(): void {\r\n        console.log(\"动画状态更新了\");\r\n        this._text.text = \"动画状态：动画更新中\";\r\n    }\r\n\r\n    /**\r\n     * 动画状态退出时执行。\r\n     */\r\n    public onStateExit(): void {\r\n        console.log(\"动画退出了\");\r\n        this._text.text = \"动画状态：动画开始退出\";\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class BoneLinkSprite3D extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private role: Laya.Sprite3D;\r\n    private pangzi: Laya.Sprite3D;\r\n    private dragon1: Laya.Sprite3D;\r\n    private dragon2: Laya.Sprite3D;\r\n    private aniSprte3D1: Laya.Sprite3D;\r\n    private aniSprte3D2: Laya.Sprite3D;\r\n    private animator: Laya.Animator;\r\n    private dragonAnimator1: Laya.Animator;\r\n    private dragonAnimator2: Laya.Animator;\r\n    private _dragonScale: Laya.Vector3 = new Laya.Vector3(1.5, 1.5, 1.5);\r\n    private _rotation: Laya.Quaternion = new Laya.Quaternion(-0.5, -0.5, 0.5, -0.5);\r\n    private _position: Laya.Vector3 = new Laya.Vector3(-0.2, 0.0, 0.0);\r\n    private _scale: Laya.Vector3 = new Laya.Vector3(0.75, 0.75, 0.75);\r\n    private changeActionButton: Laya.Button;\r\n    private curStateIndex: number = 0;\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n\r\n        // //适配模式\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n        // //开启统计信息\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        //预加载所有资源\r\n        var resource: Array<any> = [\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_H_001.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_S_009.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\",\r\n        ];\r\n\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onLoadFinish));\r\n    }\r\n    private onLoadFinish(): void {\r\n        //初始化场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.s_scene.ambientColor = new Laya.Vector3(0.5, 0.5, 0.5);\r\n\r\n        //初始化相机\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 3, 5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        //设置灯光方向\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //初始化角色精灵\r\n        this.role = this.s_scene.addChild(new Laya.Sprite3D()) as Laya.Sprite3D;\r\n\r\n        //初始化胖子\r\n        this.pangzi = this.role.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\")) as Laya.Sprite3D;\r\n        //获取动画组件\r\n        this.animator = this.pangzi.getChildAt(0).getComponent(Laya.Animator) as Laya.Animator;\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        var state1: Laya.AnimatorState = new Laya.AnimatorState();\r\n        state1.name = \"hello\";\r\n        state1.clipStart = 296 / 581;\r\n        state1.clipEnd = 346 / 581;\r\n        state1.clip = this.animator.getDefaultState().clip;\r\n        state1.clip.islooping = true;\r\n        this.animator.addState(state1);\r\n        this.animator.play(\"hello\");\r\n\r\n        var state2: Laya.AnimatorState = new Laya.AnimatorState();\r\n        state2.name = \"ride\";\r\n        state2.clipStart = 3 / 581;\r\n        state2.clipEnd = 33 / 581;\r\n        state2.clip = this.animator.getDefaultState().clip;\r\n        state2.clip.islooping = true;\r\n        this.animator.addState(state2);\r\n\r\n        this.dragon1 = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_H_001.lh\");\r\n        this.dragon1.transform.localScale = this._dragonScale;\r\n        this.aniSprte3D1 = this.dragon1.getChildAt(0) as Laya.Sprite3D;\r\n        this.dragonAnimator1 = this.aniSprte3D1.getComponent(Laya.Animator) as Laya.Animator;\r\n\r\n        var state3: Laya.AnimatorState = new Laya.AnimatorState();\r\n        state3.name = \"run\";\r\n        state3.clipStart = 50 / 644;\r\n        state3.clipEnd = 65 / 644;\r\n        state3.clip = this.dragonAnimator1.getDefaultState().clip;\r\n        state3.clip.islooping = true;\r\n        this.dragonAnimator1.addState(state3);\r\n\r\n        this.dragon2 = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/BoneLinkScene/R_kl_S_009.lh\");\r\n        this.dragon2.transform.localScale = this._dragonScale;\r\n        this.aniSprte3D2 = this.dragon2.getChildAt(0) as Laya.Sprite3D;\r\n        this.dragonAnimator2 = this.aniSprte3D2.getComponent(Laya.Animator) as Laya.Animator;\r\n\r\n        var state4: Laya.AnimatorState = new Laya.AnimatorState();\r\n        state4.name = \"run\";\r\n        state4.clipStart = 50 / 550;\r\n        state4.clipEnd = 65 / 550;\r\n        state4.clip = this.dragonAnimator2.getDefaultState().clip;\r\n        state4.clip.islooping = true;\r\n        this.dragonAnimator2.addState(state4);\r\n\r\n        this.loadUI();\r\n    }\r\n\r\n    private loadUI(): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n\r\n            this.changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", \"乘骑坐骑\")) as Laya.Button;\r\n            this.changeActionButton.size(160, 40);\r\n            this.changeActionButton.labelBold = true;\r\n            this.changeActionButton.labelSize = 30;\r\n            this.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            this.changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            this.changeActionButton.pos(Laya.stage.width / 2 - this.changeActionButton.width * Laya.Browser.pixelRatio / 2, Laya.stage.height - 100 * Laya.Browser.pixelRatio);\r\n\r\n            this.changeActionButton.on(Laya.Event.CLICK, this, function (): void {\r\n\r\n                this.curStateIndex++;\r\n                if (this.curStateIndex % 3 == 1) {\r\n\r\n                    this.changeActionButton.label = \"切换坐骑\";\r\n\r\n                    this.s_scene.addChild(this.dragon1);\r\n                    this.aniSprte3D1.addChild(this.role);\r\n\r\n                    //骨骼关联节点\r\n                    this.dragonAnimator1.linkSprite3DToAvatarNode(\"point\", this.role);\r\n\r\n                    this.animator.play(\"ride\");\r\n                    this.dragonAnimator1.play(\"run\");\r\n\r\n                    this.pangzi.transform.localRotation = this._rotation;\r\n                    this.pangzi.transform.localPosition = this._position;\r\n                    this.pangzi.transform.localScale = this._scale;\r\n                }\r\n                else if (this.curStateIndex % 3 == 2) {\r\n\r\n                    this.changeActionButton.label = \"卸下坐骑\";\r\n\r\n                    //骨骼取消关联节点\r\n                    this.dragonAnimator1.unLinkSprite3DToAvatarNode(this.role);\r\n                    this.aniSprte3D1.removeChild(this.role);\r\n                    this.dragon1.removeSelf();\r\n\r\n                    this.s_scene.addChild(this.dragon2);\r\n                    this.aniSprte3D2.addChild(this.role);\r\n                    //骨骼关联节点\r\n                    this.dragonAnimator2.linkSprite3DToAvatarNode(\"point\", this.role);\r\n\r\n                    this.animator.play(\"ride\");\r\n                    this.dragonAnimator2.play(\"run\");\r\n\r\n                    this.pangzi.transform.localRotation = this._rotation;\r\n                    this.pangzi.transform.localPosition = this._position;\r\n                    this.pangzi.transform.localScale = this._scale;\r\n                }\r\n                else {\r\n\r\n                    this.changeActionButton.label = \"乘骑坐骑\";\r\n\r\n                    //骨骼取消关联节点\r\n                    this.dragonAnimator2.unLinkSprite3DToAvatarNode(this.role);\r\n                    this.aniSprte3D2.removeChild(this.role);\r\n                    this.dragon2.removeSelf();\r\n\r\n                    this.s_scene.addChild(this.role);\r\n                    this.animator.play(\"hello\");\r\n                }\r\n            });\r\n\r\n        }));\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.changeActionButton) {\r\n            this.changeActionButton.visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class MaterialAnimation extends SingletonScene {\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.Stat.show();\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        super();\r\n\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/materialScene/Conventional/layaScene.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            var camera = scene.getChildByName(\"Main Camera\") as Laya.Camera;\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n\r\n    }\r\n\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Handler = Laya.Handler;\r\nimport BitmapFont = Laya.BitmapFont;\r\nimport Text = Laya.Text;\r\nimport Browser = Laya.Browser;\r\nimport Event = Laya.Event;\r\n\r\nexport class SkeletonMask extends SingletonScene {\r\n    private fontName: string = \"fontClip\";\r\n    private texts: Laya.Text[] = [];\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Stat.show();\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        this.loadFont();\r\n\r\n        //加载场景\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_MaskModelTest/Conventional/MaskModelTest.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            //获取场景中的相机\r\n            var camera: Camera = (<Camera>scene.getChildByName(\"Camera\"));\r\n        }));\r\n    }\r\n\r\n\r\n    private loadFont(): void {\r\n        var bitmapFont: BitmapFont = new BitmapFont();\r\n\r\n        bitmapFont.loadFont(GlobalConfig.ResPath + \"res/threeDimen/LayaScene_MaskModelTest/font/fontClip.fnt\", new Handler(this, this.onFontLoaded, [bitmapFont]));\r\n    }\r\n    private onFontLoaded(bitmapFont: BitmapFont): void {\r\n        bitmapFont.setSpaceWidth(10);\r\n        Text.registerBitmapFont(this.fontName, bitmapFont);\r\n        this.createText(this.fontName);\r\n        this.createText1(this.fontName);\r\n        this.createText2(this.fontName);\r\n    }\r\n\r\n    private createText(font: string): void {\r\n        var txt: Text = new Text();\r\n        txt.width = 250;\r\n        txt.wordWrap = true;\r\n        txt.text = \"带有骨骼遮罩的动画\";\r\n        txt.color = \"#FFFFFFFF\";\r\n        txt.leading = 5;\r\n        txt.fontSize = 10;\r\n        txt.zOrder = 999999999;\r\n        txt.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n        txt.pos(Laya.stage.width / 2 - 50, Laya.stage.height / 2);\r\n        Laya.stage.on(Event.RESIZE, txt, () => {\r\n            txt.pos(Laya.stage.width / 2 - 50, Laya.stage.height / 2);\r\n        });\r\n        this.texts.push(txt);\r\n        Laya.stage.addChild(txt);\r\n    }\r\n\r\n    createText1(font) {\r\n        var txt = new Text();\r\n        txt.width = 250;\r\n        txt.wordWrap = true;\r\n        txt.text = \"正常动画一\";\r\n        txt.color = \"#FFFFFFFF\";\r\n        txt.size(200, 300);\r\n        txt.leading = 5;\r\n        txt.fontSize = 15;\r\n        txt.zOrder = 999999999;\r\n        txt.pos(Laya.stage.width / 2 - 240, Laya.stage.height / 2);\r\n        Laya.stage.on(Event.RESIZE, txt, () => {\r\n            txt.pos(Laya.stage.width / 2 - 240, Laya.stage.height / 2);\r\n        });\r\n        this.texts.push(txt);\r\n        Laya.stage.addChild(txt);\r\n    }\r\n\r\n    createText2(font) {\r\n        var txt = new Text();\r\n        txt.width = 250;\r\n        txt.wordWrap = true;\r\n        txt.text = \"正常动画二\";\r\n        txt.color = \"#FFFFFFFF\";\r\n        txt.leading = 5;\r\n        txt.zOrder = 999999999;\r\n        txt.fontSize = 15;\r\n        txt.pos(Laya.stage.width / 2 + 140, Laya.stage.height / 2);\r\n        Laya.stage.on(Event.RESIZE, txt, () => {\r\n            txt.pos(Laya.stage.width / 2 + 140, Laya.stage.height / 2);\r\n        });\r\n        this.texts.push(txt);\r\n        Laya.stage.addChild(txt);\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        for (var i = 0; i < this.texts.length; i++) {\r\n            this.texts[i].visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        for (var i = 0; i < this.texts.length; i++) {\r\n            this.texts[i].visible = false;\r\n        }\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Shader3D = Laya.Shader3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class SimpleSkinAnimationInstance extends SingletonScene {\r\n    private animatorName: string[] = [\"run\", \"chongci\", \"dead\", \"xuli\", \"stand\"];\r\n    private oriSprite3D: Sprite3D;\r\n    private s_scene: Scene3D;\r\n    private widthNums: number = 30;\r\n    private step: number = 10;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // Stat.show();\r\n        Shader3D.debugMode = true;\r\n        this.s_scene = new Scene3D();\r\n        this.s_scene.ambientColor = new Vector3(0.5, 0.5, 0.5);\r\n\r\n        var path = GlobalConfig.ResPath + \"res/threeDimen/texAnimation/Conventional/LayaMonkey.lh\";\r\n        Sprite3D.load(path, Handler.create(this, function (sprite): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(sprite);\r\n            this.oriSprite3D = this.s_scene.getChildAt(0).getChildAt(2) as Sprite3D;\r\n            this.sceneBuild();\r\n            var animate: Animator = this.oriSprite3D.getComponent(Animator);\r\n            animate.play(\"chongci\");\r\n        }));\r\n\r\n    }\r\n    cloneSprite(pos: Vector3, quaterial: Vector3) {\r\n        var clonesprite: Sprite3D = this.oriSprite3D.clone() as Sprite3D;\r\n        this.s_scene.addChild(clonesprite);\r\n        var animate: Animator = clonesprite.getComponent(Animator);\r\n        var nums: number = Math.round(Math.random() * 4);\r\n        animate.play(this.animatorName[nums], 0, Math.random());\r\n        clonesprite.transform.position = pos;\r\n        clonesprite.transform.rotationEuler = quaterial;\r\n    }\r\n\r\n    sceneBuild() {\r\n        var left: number = -0.5 * this.step * (this.widthNums);\r\n        var right: number = -1 * left;\r\n        for (var i: number = left; i < right; i += this.step)\r\n            for (var j: number = left; j < right; j += this.step) {\r\n                var xchange: number = (Math.random() - 0.5) * 10;\r\n                var zchange: number = (Math.random() - 0.5) * 10;\r\n                var quaterial: Vector3 = new Vector3(0, Math.random() * 180, 0);\r\n                this.cloneSprite(new Vector3(i + xchange, 0, j + zchange), quaterial);\r\n            }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class CameraAnimation extends SingletonScene {\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.Stat.show();\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/cameraDonghua/Conventional/layaScene.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            var camera = scene.getChildByName(\"Main Camera\") as Laya.Camera;\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class RigidbodyAnimationDemo extends SingletonScene {\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.Stat.show();\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n        Laya.Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_RigidbodyAnimation/Conventional/scene.ls\", Laya.Handler.create(this, function (scene: Laya.Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            var camera = scene.getChildByName(\"Main Camera\") as Laya.Camera;\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { AnimatorDemo } from \"./AnimatorDemo\";\r\nimport { AnimationLayerBlend } from \"./AnimationLayerBlend\";\r\nimport { AnimatorStateScriptDemo } from \"./AnimatorStateScriptDemo\";\r\nimport { BoneLinkSprite3D } from \"./BoneLinkSprite3D\";\r\nimport { MaterialAnimation } from \"./MaterialAnimation\";\r\nimport { SkeletonMask } from \"./SkeletonMask\";\r\nimport { SimpleSkinAnimationInstance } from \"./SimpleSkinAnimationInstance\";\r\nimport { CameraAnimation } from \"./CameraAnimation\";\r\nimport { RigidbodyAnimationDemo } from \"./RigidbodyAnimationDemo\";\r\n\r\nexport class Animation3DMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\",\r\n        \"动画示例\", \"动画过渡和混合\", \"动画状态脚本\", \"蒙皮动画挂点\", \"材质动画\",\r\n        \"刚体动画\", \"摄像机动画\", \"预烘焙动画\", \"骨骼动画遮罩\",];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                AnimatorDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                AnimationLayerBlend.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                AnimatorStateScriptDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                BoneLinkSprite3D.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                MaterialAnimation.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[6]:\r\n                RigidbodyAnimationDemo.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[7]:\r\n                CameraAnimation.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[8]:\r\n                SimpleSkinAnimationInstance.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[9]:\r\n                SkeletonMask.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_BaseCollider extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private tmpVector: Laya.Vector3;\r\n\r\n    private mat1: Laya.BlinnPhongMaterial;\r\n    private mat2: Laya.BlinnPhongMaterial;\r\n    private mat3: Laya.BlinnPhongMaterial;\r\n    private mat4: Laya.BlinnPhongMaterial;\r\n    private mat5: Laya.BlinnPhongMaterial;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // //设置画布模式\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        //初始化照相机\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 6, 9.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        this.tmpVector = new Laya.Vector3(0, 0, 0);\r\n        //方向光\r\n        var directionlight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionlight.diffuseColor = new Laya.Vector3(0.6, 0.6, 0.6);\r\n        //矩阵前向量变成了-1.0，-1.0，-1.0\r\n        //不清楚是否识别01\r\n        var mat = directionlight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionlight.transform.worldMatrix = mat;\r\n\r\n        //初始化资源\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        this.mat2 = new Laya.BlinnPhongMaterial();\r\n        this.mat3 = new Laya.BlinnPhongMaterial();\r\n        this.mat4 = new Laya.BlinnPhongMaterial();\r\n        this.mat5 = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.mat1.albedoTexture = tex;\r\n        }));\r\n        this.mat1.albedoColor = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.mat3.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(this, function (tex) {\r\n            this.mat2.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/steel2.jpg\", Laya.Handler.create(this, function (tex) {\r\n            this.mat4.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/steel.jpg\", Laya.Handler.create(this, function (tex) {\r\n            this.mat5.albedoTexture = tex;\r\n        }));\r\n\r\n        //平面加载\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10, 10, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        //拉伸UV\r\n        planeMat.tilingOffset = new Laya.Vector4(10, 10, 0, 0);\r\n        //板的画面的渲染材质\r\n        plane.meshRenderer.material = planeMat;\r\n        //给板添加物理碰撞器\r\n\r\n        var planeStaticCollider: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider);\r\n        //设置碰撞器\r\n        var planeShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(10, 0, 10);\r\n        planeStaticCollider.colliderShape = planeShape;\r\n        planeStaticCollider.friction = 2;\r\n        planeStaticCollider.restitution = 0.3;\r\n        //随机掉落物理物体的脚本\r\n        this.randomAddPhysicsSprite();\r\n    }\r\n    public randomAddPhysicsSprite(): void {\r\n        Laya.timer.loop(1000, this, this.loopfun);\r\n\r\n    }\r\n    private loopfun(): void {\r\n        var random: Number = Math.floor(Math.random() * 3) % 3;\r\n        switch (random) {\r\n            case 0:\r\n                this.addBox();\r\n                break;\r\n            case 1:\r\n                this.addSphere();\r\n                break;\r\n            case 2:\r\n                this.addCapsule();\r\n            case 3:\r\n                this.addCone();\r\n                break;\r\n            case 4:\r\n                this.addCylinder();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    private addBox(): void {\r\n        var sX: number = Math.random() * 0.75 + 0.25;\r\n        var sY: number = Math.random() * 0.75 + 0.25;\r\n        var sZ: number = Math.random() * 0.75 + 0.25;\r\n        //设置box模型\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        //将box的模型赋予材质\r\n        box.meshRenderer.material = this.mat1;\r\n        //设置掉落位置\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        box.transform.position = this.tmpVector;\r\n        //设置旋转角度\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        box.transform.rotationEuler = this.tmpVector;\r\n        //添加刚体组件\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        //添加重力加速度\r\n        rigidBody.mass = 10;\r\n    }\r\n    private addSphere(): void {\r\n        var radius: number = Math.random() * 0.2 + 0.2;\r\n        var sphere: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius))) as Laya.MeshSprite3D;\r\n        sphere.meshRenderer.material = this.mat2;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        sphere.transform.position = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n\r\n    }\r\n    private addCapsule(): void {\r\n        var raidius: number = Math.random() * 0.2 + 0.2;\r\n        var height: number = Math.random() * 0.5 + 0.8;\r\n        var capsule: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = this.mat3;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        capsule.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        capsule.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n\r\n    }\r\n    private addCone(): void {\r\n        let raidius = Math.random() * 0.2 + 0.2;\r\n        let height = Math.random() * 0.5 + 0.8;\r\n        //创建圆锥MeshSprite3D\r\n        let cone = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCone(raidius, height));\r\n        this.s_scene.addChild(cone);\r\n        //设置材质\r\n        cone.meshRenderer.material = this.mat4;\r\n        //设置位置\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        cone.transform.position = this.tmpVector;\r\n        //创建刚体碰撞器\r\n        let rigidBody = cone.addComponent(Laya.Rigidbody3D);\r\n        //创建球型碰撞器\r\n        let coneShape = new Laya.ConeColliderShape(raidius, height);\r\n        //设置刚体碰撞器的形状\r\n        rigidBody.colliderShape = coneShape;\r\n        //设置刚体碰撞器的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    private addCylinder(): void {\r\n        let raidius = Math.random() * 0.2 + 0.2;\r\n        let height = Math.random() * 0.5 + 0.8;\r\n        //创建圆锥MeshSprite3D\r\n        let cylinder = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCylinder(raidius, height));\r\n        this.s_scene.addChild(cylinder);\r\n        //设置材质\r\n        cylinder.meshRenderer.material = this.mat5;\r\n        //设置位置\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        cylinder.transform.position = this.tmpVector;\r\n        //设置圆柱MeshSprite3D的欧拉角\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        cylinder.transform.rotationEuler = this.tmpVector;\r\n        //创建刚体碰撞器\r\n        let rigidBody = cylinder.addComponent(Laya.Rigidbody3D);\r\n        //创建球型碰撞器\r\n        let cylinderShape = new Laya.CylinderColliderShape(raidius, height);\r\n        //设置刚体碰撞器的形状\r\n        rigidBody.colliderShape = cylinderShape;\r\n        //设置刚体碰撞器的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_BuildingBlocks extends SingletonScene{\r\n\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private ray: Laya.Ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));\r\n    private point: Laya.Vector2 = new Laya.Vector2();\r\n    private _outHitResult: Laya.HitResult = new Laya.HitResult();\r\n    private hasSelectedSprite: Laya.Sprite3D;\r\n    private hasSelectedRigidBody: Laya.Rigidbody3D;\r\n    private posX: number;\r\n    private posY: number;\r\n    private delX: number;\r\n    private delY: number;\r\n    private ZERO: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private ONE: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private tmpVector: Laya.Vector3;\r\n\r\n    private mat1: Laya.BlinnPhongMaterial;\r\n    private mesh1: Laya.Mesh;\r\n    private mesh2: Laya.Mesh;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.translate(new Laya.Vector3(4.5, 6, 4.5));\r\n        this.camera.transform.rotate(new Laya.Vector3(-30, 45, 0), true, false);\r\n        this.tmpVector = new Laya.Vector3(0, 0, 0);\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, 1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //资源加载\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.mat1.albedoTexture = tex;\r\n        }));\r\n        this.mesh1 = Laya.PrimitiveMesh.createBox(0.5, 0.33, 2);\r\n        this.mesh2 = Laya.PrimitiveMesh.createBox(2, 0.33, 0.5);\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(13, 13, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n        plane.meshRenderer.receiveShadow = true;\r\n\r\n        var rigidBody: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(13, 0, 13);\r\n        rigidBody.colliderShape = boxShape;\r\n        this.addMouseEvent();\r\n        this.addBox();\r\n\r\n    }\r\n\r\n    public addBox(): void {\r\n        for (let i: number = 0; i < 8; i++) {\r\n            this.addVerticalBox(-0.65, 0.165 + i * 0.33 * 2, 0);\r\n            this.addVerticalBox(0, 0.165 + i * 0.33 * 2, 0);\r\n            this.addVerticalBox(0.65, 0.165 + i * 0.33 * 2, 0);\r\n\r\n            this.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, -0.65);\r\n            this.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, 0);\r\n            this.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, 0.65);\r\n        }\r\n    }\r\n    public addVerticalBox(x: number, y: number, z: number): void {\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(this.mesh1)) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        box.meshRenderer.castShadow = true;\r\n        box.meshRenderer.receiveShadow = true;\r\n        box.transform.position = new Laya.Vector3(x, y, z);\r\n\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D) as Laya.Rigidbody3D;\r\n        rigidBody.mass = 10;\r\n        rigidBody.friction = 0.4;\r\n        rigidBody.restitution = 0.2;\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(0.5, 0.33, 2);\r\n        rigidBody.colliderShape = boxShape;\r\n    }\r\n    public addHorizontalBox(x: number, y: number, z: number): void {\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(this.mesh2)) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        box.meshRenderer.castShadow = true;\r\n        box.meshRenderer.receiveShadow = true;\r\n        this.tmpVector.setValue(x, y, z);\r\n        box.transform.position = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D) as Laya.Rigidbody3D;\r\n        rigidBody.mass = 10;\r\n        rigidBody.friction = 1.0;\r\n        rigidBody.restitution = 0.2;\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(2, 0.33, 0.5);\r\n        rigidBody.colliderShape = boxShape;\r\n    }\r\n    public addMouseEvent(): void {\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n        Laya.stage.on(Laya.Event.MOUSE_OUT, this, onmouseout);\r\n    }\r\n    public onMouseDown(): void {\r\n        this.posX = this.point.x = Laya.MouseManager.instance.mouseX;\r\n        this.posY = this.point.y = Laya.MouseManager.instance.mouseY;\r\n        this.camera.viewportPointToRay(this.point, this.ray);\r\n        this.s_scene.physicsSimulation.rayCast(this.ray, this._outHitResult);\r\n        if (this._outHitResult.succeeded) {\r\n            var collider: Laya.Rigidbody3D = this._outHitResult.collider as Laya.Rigidbody3D;\r\n            this.hasSelectedSprite = collider.owner as Laya.Sprite3D;\r\n            this.hasSelectedRigidBody = collider;\r\n            collider.angularFactor = this.ZERO;\r\n            collider.angularVelocity = this.ZERO;\r\n            collider.linearFactor = this.ZERO;\r\n            collider.linearVelocity = this.ZERO;\r\n        }\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n    public onMouseMove(): void {\r\n        this.delX = Laya.MouseManager.instance.mouseX - this.posX;\r\n        this.delY = Laya.MouseManager.instance.mouseY - this.posY;\r\n        if (this.hasSelectedSprite) {\r\n            this.tmpVector.setValue(this.delX / 4, 0, this.delY / 4);\r\n            this.hasSelectedRigidBody.linearVelocity = this.tmpVector;\r\n        }\r\n        this.posX = Laya.MouseManager.instance.mouseX;\r\n        this.posY = Laya.MouseManager.instance.mouseY;\r\n    }\r\n    public onMouseUp(): void {\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        if (this.hasSelectedSprite) {\r\n            this.hasSelectedRigidBody.angularFactor = this.ONE;\r\n            this.hasSelectedRigidBody.linearFactor = this.ONE;\r\n            this.hasSelectedSprite = null;\r\n        }\r\n    }\r\n    public onMouseOut(): void {\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        if (this.hasSelectedSprite) {\r\n            this.hasSelectedRigidBody.angularFactor = this.ONE;\r\n            this.hasSelectedRigidBody.linearFactor = this.ONE;\r\n            this.hasSelectedSprite = null;\r\n        }\r\n    }\r\n\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_Character extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private kinematicSphere: Laya.Sprite3D;\r\n    private translateW: Laya.Vector3 = new Laya.Vector3(0, 0, -0.2);\r\n    private translateS: Laya.Vector3 = new Laya.Vector3(0, 0, 0.2);\r\n    private translateA: Laya.Vector3 = new Laya.Vector3(-0.2, 0, 0);\r\n    private translateD: Laya.Vector3 = new Laya.Vector3(0.2, 0, 0);\r\n\r\n    private mat1: Laya.BlinnPhongMaterial;\r\n    private mat3: Laya.BlinnPhongMaterial;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.translate(new Laya.Vector3(0, 8, 20));\r\n        this.camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n        //this.camera.clearColor = null;\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, 1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        this.mat3 = new Laya.BlinnPhongMaterial();\r\n        //加载资源\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.mat1.albedoTexture = tex;\r\n            this.AutoSetScene3d(this.s_scene);\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.mat3.albedoTexture = tex;\r\n        }));\r\n\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        var rigidBody: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(20, 0, 20);\r\n        rigidBody.colliderShape = boxShape;\r\n\r\n        for (var i: number = 0; i < 60; i++) {\r\n            this.addBox();\r\n            this.addCapsule();\r\n        }\r\n\r\n        this.addCharacter();\r\n    }\r\n    public addCharacter(): void {\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (monkey: Laya.Sprite3D): void {\r\n            this.s_scene.addChild(monkey);\r\n            monkey.transform.localScale = new Laya.Vector3(1, 1, 1);\r\n            var character: Laya.CharacterController = monkey.addComponent(Laya.CharacterController);\r\n            var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(1.0, 3.4);\r\n            sphereShape.localOffset = new Laya.Vector3(0, 1.7, 0);\r\n            character.colliderShape = sphereShape;\r\n            this.kinematicSphere = monkey;\r\n            Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n        }))\r\n\r\n    }\r\n\r\n    private onKeyDown(): void {\r\n        var character: Laya.CharacterController = this.kinematicSphere.getComponent(Laya.CharacterController) as Laya.CharacterController;\r\n        Laya.KeyBoardManager.hasKeyDown(87) && character.move(this.translateW);//W\r\n        Laya.KeyBoardManager.hasKeyDown(83) && character.move(this.translateS);//S\r\n        Laya.KeyBoardManager.hasKeyDown(65) && character.move(this.translateA);//A\r\n        Laya.KeyBoardManager.hasKeyDown(68) && character.move(this.translateD);//D\r\n        Laya.KeyBoardManager.hasKeyDown(69) && character.jump();//E\r\n    }\r\n\r\n    public addBox(): void {\r\n        var sX: number = Math.random() * 0.75 + 0.25;\r\n        var sY: number = Math.random() * 0.75 + 0.25;\r\n        var sZ: number = Math.random() * 0.75 + 0.25;\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        box.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        box.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n    public addCapsule(): void {\r\n        var raidius: number = Math.random() * 0.2 + 0.2;\r\n        var height: number = Math.random() * 0.5 + 0.8;\r\n        var capsule: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = this.mat3;\r\n        capsule.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        capsule.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\r\n        var rigidBody: Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_CollisionFiflter extends SingletonScene {\r\n    private plane: Laya.MeshSprite3D;\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private kinematicSphere: Laya.Sprite3D;\r\n\r\n    private translateW: Laya.Vector3 = new Laya.Vector3(0, 0, -0.2);\r\n    private translateS: Laya.Vector3 = new Laya.Vector3(0, 0, 0.2);\r\n    private translateA: Laya.Vector3 = new Laya.Vector3(-0.2, 0, 0);\r\n    private translateD: Laya.Vector3 = new Laya.Vector3(0.2, 0, 0);\r\n    private translateQ: Laya.Vector3 = new Laya.Vector3(-0.01, 0, 0);\r\n    private translateE: Laya.Vector3 = new Laya.Vector3(0.01, 0, 0);\r\n    private tmpVector: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n\r\n    private mat1: Laya.BlinnPhongMaterial;\r\n    private mat2: Laya.BlinnPhongMaterial;\r\n    private mat3: Laya.BlinnPhongMaterial;\r\n    private mat4: Laya.BlinnPhongMaterial;\r\n    private mat5: Laya.BlinnPhongMaterial;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.translate(new Laya.Vector3(0, 8, 18));\r\n        this.camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n\r\n        //this.camera.clearColor = null;\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, 1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //资源加载\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        this.mat2 = new Laya.BlinnPhongMaterial();\r\n        this.mat3 = new Laya.BlinnPhongMaterial();\r\n        this.mat4 = new Laya.BlinnPhongMaterial();\r\n        this.mat5 = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.mat1.albedoTexture = tex;\r\n        }));\r\n        this.mat1.albedoColor = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.mat3.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(this, function (tex) {\r\n            this.mat2.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/steel2.jpg\", Laya.Handler.create(this, function (tex) {\r\n            this.mat4.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/steel.jpg\", Laya.Handler.create(this, function (tex) {\r\n            this.mat5.albedoTexture = tex;\r\n        }));\r\n\r\n\r\n        this.plane = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        this.plane.meshRenderer.material = planeMat;\r\n\r\n        var staticCollider: Laya.PhysicsCollider = this.plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(20, 0, 20);\r\n        staticCollider.colliderShape = boxShape;\r\n\r\n        this.addKinematicSphere();\r\n        for (var i: number = 0; i < 30; i++) {\r\n            this.addBox();\r\n            this.addCapsule();\r\n            this.addCone();\r\n            this.addCylinder();\r\n            this.addSphere();\r\n        }\r\n    }\r\n    public addKinematicSphere(): void {\r\n        var mat2: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat2.albedoTexture = tex;\r\n        }));\r\n        mat2.albedoColor = new Laya.Vector4(1.0, 0.0, 0.0, 1.0);\r\n\r\n        var radius: number = 0.8;\r\n        var sphere: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius))) as Laya.MeshSprite3D;\r\n        sphere.meshRenderer.material = mat2;\r\n        sphere.transform.position = new Laya.Vector3(0, 0.8, 0);\r\n\r\n        var rigidBody: Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 60;\r\n        rigidBody.isKinematic = true;\r\n        rigidBody.canCollideWith = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1;//只与自定义组1碰撞(如果多组采用位操作）\r\n\r\n        this.kinematicSphere = sphere;\r\n        Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n    }\r\n\r\n    private onKeyDown(): void {\r\n        Laya.KeyBoardManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n        Laya.KeyBoardManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n        Laya.KeyBoardManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n        Laya.KeyBoardManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n        Laya.KeyBoardManager.hasKeyDown(81) && this.plane.transform.translate(this.translateQ);//Q\r\n        Laya.KeyBoardManager.hasKeyDown(69) && this.plane.transform.translate(this.translateE);//E\r\n    }\r\n\r\n    public addBox(): void {\r\n        var sX: number = Math.random() * 0.75 + 0.25;\r\n        var sY: number = Math.random() * 0.75 + 0.25;\r\n        var sZ: number = Math.random() * 0.75 + 0.25;\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        this.tmpVector.setValue(Math.random() * 16 - 8, sY / 2, Math.random() * 16 - 8);\r\n        box.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(0, Math.random() * 360, 0);\r\n        box.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        rigidBody.mass = 10;\r\n        rigidBody.collisionGroup = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1;//自定义组1\r\n    }\r\n\r\n    public addCapsule(): void {\r\n        var mat3: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat3.albedoTexture = tex;\r\n        }));\r\n\r\n        var raidius: number = Math.random() * 0.2 + 0.2;\r\n        var height: number = Math.random() * 0.5 + 0.8;\r\n        var capsule: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = mat3;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        capsule.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        capsule.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n        rigidBody.collisionGroup = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER2;//自定义组2,会跳过碰撞\r\n\r\n    }\r\n    //添加球体\r\n    private addSphere(): void {\r\n        let radius = Math.random() * 0.2 + 0.2;\r\n        let sphere: Laya.MeshSprite3D = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius));\r\n        this.s_scene.addChild(sphere);\r\n        sphere.meshRenderer.material = this.mat2;\r\n        let pos = sphere.transform.position;\r\n        pos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        sphere.transform.position = pos;\r\n        let rigidBody = sphere.addComponent(Laya.Rigidbody3D);\r\n        let sphereShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n        rigidBody.collisionGroup = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER3;//自定义组3\r\n    }\r\n    //添加圆锥\r\n    private addCone(): void {\r\n        let raidius = Math.random() * 0.2 + 0.2;\r\n        let height = Math.random() * 0.5 + 0.8;\r\n        //创建圆锥MeshSprite3D\r\n        let cone = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCone(raidius, height));\r\n        this.s_scene.addChild(cone);\r\n        //设置材质\r\n        cone.meshRenderer.material = this.mat4;\r\n        //设置位置\r\n        let pos = cone.transform.position;\r\n        pos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        cone.transform.position = pos;\r\n        //创建刚体碰撞器\r\n        let rigidBody = cone.addComponent(Laya.Rigidbody3D);\r\n        //创建球型碰撞器\r\n        let coneShape = new Laya.ConeColliderShape(raidius, height);\r\n        //设置刚体碰撞器的形状\r\n        rigidBody.colliderShape = coneShape;\r\n        //设置刚体碰撞器的质量\r\n        rigidBody.mass = 10;\r\n        rigidBody.collisionGroup = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER4;//自定义组4\r\n    }\r\n    //添加圆柱\r\n    private addCylinder(): void {\r\n        let raidius = Math.random() * 0.2 + 0.2;\r\n        let height = Math.random() * 0.5 + 0.8;\r\n        //创建圆锥MeshSprite3D\r\n        let cylinder = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCylinder(raidius, height));\r\n        this.s_scene.addChild(cylinder);\r\n        //设置材质\r\n        cylinder.meshRenderer.material = this.mat5;\r\n\r\n        let transform = cylinder.transform;\r\n        let pos = transform.position;\r\n        pos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        transform.position = pos;\r\n        let rotationEuler = transform.rotationEuler;\r\n        rotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        transform.rotationEuler = rotationEuler;\r\n\r\n        //创建刚体碰撞器\r\n        let rigidBody = cylinder.addComponent(Laya.Rigidbody3D);\r\n        //创建球型碰撞器\r\n        let cylinderShape = new Laya.CylinderColliderShape(raidius, height);\r\n        //设置刚体碰撞器的形状\r\n        rigidBody.colliderShape = cylinderShape;\r\n        //设置刚体碰撞器的质量\r\n        rigidBody.mass = 10;\r\n        rigidBody.collisionGroup = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER5;//自定义组5\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_CompoundCollider extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private tmpVector: Laya.Vector3;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.tmpVector = new Laya.Vector3(0, 0, 0);\r\n\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.translate(new Laya.Vector3(5.2, 4, 5.2));\r\n        this.camera.transform.rotate(new Laya.Vector3(-25, 45, 0), true, false);\r\n        this.camera.addComponent(CameraMoveScript);\r\n        //this.camera.clearColor = null;\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, 1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(13, 13, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(10, 10, 0, 0);\r\n        planeMat.shininess = 1;\r\n        plane.meshRenderer.material = planeMat;\r\n        plane.meshRenderer.receiveShadow = true;\r\n        var staticCollider: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var planeShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(13, 0, 13);\r\n\r\n        staticCollider.colliderShape = planeShape;\r\n        staticCollider.friction = 2;\r\n\r\n        this.randomAddPhysicsSprite();\r\n    }\r\n    public randomAddPhysicsSprite(): void {\r\n\r\n        Laya.timer.loop(1000, this, function (): void {\r\n\r\n            var random: Number = Math.floor(Math.random() * 2) % 2;\r\n            switch (random) {\r\n                case 0:\r\n                    this.addTable();\r\n                    break;\r\n                case 1:\r\n                    this.addObject();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    public addTable(): void {\r\n        var mat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat.albedoTexture = tex;\r\n        }));\r\n        mat.shininess = 1;\r\n\r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/table.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n            var table: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            table.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n            table.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n            table.transform.scale = new Laya.Vector3(3, 3, 3);\r\n            table.meshRenderer.material = mat;\r\n\r\n            var rigidBody: Laya.Rigidbody3D = table.addComponent(Laya.Rigidbody3D) as Laya.Rigidbody3D;\r\n            rigidBody.mass = 10;\r\n            rigidBody.friction = 1;\r\n\r\n            var compoundShape: Laya.CompoundColliderShape = new Laya.CompoundColliderShape();\r\n\r\n            var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(0.5, 0.4, 0.045);\r\n            this.tmpVector.setValue(0, 0, 0.125);\r\n            boxShape.localOffset = this.tmpVector;\r\n            compoundShape.addChildShape(boxShape);\r\n\r\n            var boxShape1: Laya.BoxColliderShape = new Laya.BoxColliderShape(0.1, 0.1, 0.3);\r\n            this.tmpVector.setValue(-0.2, -0.148, -0.048);\r\n            boxShape1.localOffset = this.tmpVector;\r\n            compoundShape.addChildShape(boxShape1);\r\n\r\n            var boxShape2: Laya.BoxColliderShape = new Laya.BoxColliderShape(0.1, 0.1, 0.3);\r\n            this.tmpVector.setValue(0.2, -0.148, -0.048);\r\n            boxShape2.localOffset = this.tmpVector;\r\n            compoundShape.addChildShape(boxShape2);\r\n\r\n            var boxShape3: Laya.BoxColliderShape = new Laya.BoxColliderShape(0.1, 0.1, 0.3);\r\n            this.tmpVector.setValue(-0.2, 0.153, -0.048);\r\n            boxShape3.localOffset = this.tmpVector;\r\n            compoundShape.addChildShape(boxShape3);\r\n\r\n            var boxShape4: Laya.BoxColliderShape = new Laya.BoxColliderShape(0.1, 0.1, 0.3);\r\n            this.tmpVector.setValue(0.2, 0.153, -0.048);\r\n            boxShape4.localOffset = this.tmpVector;\r\n            compoundShape.addChildShape(boxShape4);\r\n\r\n            rigidBody.colliderShape = compoundShape;\r\n        }));\r\n    }\r\n\r\n    public addObject(): void {\r\n        var mat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            mat.albedoTexture = tex;\r\n        }));\r\n\r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/object.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n\r\n            var object: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            this.tmpVector.setValue(Math.random() * 4 - 2, 5, Math.random() * 4 - 2);\r\n            object.transform.position = this.tmpVector;\r\n            this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n            object.transform.rotationEuler = this.tmpVector;\r\n            this.tmpVector.setValue(0.01, 0.01, 0.01);\r\n            object.transform.scale = this.tmpVector;\r\n            object.meshRenderer.material = mat;\r\n\r\n            var rigidBody: Laya.Rigidbody3D = object.addComponent(Laya.Rigidbody3D) as Laya.Rigidbody3D;\r\n            rigidBody.mass = 3;\r\n            rigidBody.friction = 0.3;\r\n\r\n            var compoundShape: Laya.CompoundColliderShape = new Laya.CompoundColliderShape();\r\n\r\n            var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(40, 40, 40);\r\n            this.tmpVector.setValue(0, 0, -20);\r\n            boxShape.localOffset = this.tmpVector;\r\n            compoundShape.addChildShape(boxShape);\r\n\r\n            var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(25);\r\n            this.tmpVector.setValue(0, 0, 24);\r\n            sphereShape.localOffset = this.tmpVector;\r\n            compoundShape.addChildShape(sphereShape);\r\n\r\n            rigidBody.colliderShape = compoundShape;\r\n        }));\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_ContinueCollisionDetection extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private tmpVector: Laya.Vector3;\r\n    private mat2: Laya.BlinnPhongMaterial;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.s_scene.physicsSimulation.gravity = new Laya.Vector3(0, -98.0, 0);\r\n\r\n        //初始化照相机\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 6, 9.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        this.tmpVector = new Laya.Vector3(0, 0, 0);\r\n\r\n        //方向光\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //资源加载\r\n        this.mat2 = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.mat2.albedoTexture = tex;\r\n        }));\r\n\r\n        //平面\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10, 10, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(10, 10, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        var planeStaticCollider: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider);\r\n        var planeShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(10, 0, 10);\r\n        planeStaticCollider.colliderShape = planeShape;\r\n        planeStaticCollider.friction = 2;\r\n        planeStaticCollider.restitution = 0.3;\r\n        Laya.timer.loop(200, this, function (): void {\r\n            this.addSphere();\r\n        });\r\n\r\n    }\r\n    public addSphere(): void {\r\n        var radius: number = Math.random() * 0.2 + 0.2;\r\n        var sphere: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius))) as Laya.MeshSprite3D;\r\n        sphere.meshRenderer.material = this.mat2;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        sphere.transform.position = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n        rigidBody.ccdSweptSphereRadius = radius;\r\n        rigidBody.ccdMotionThreshold = 0.0001;\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_Kinematic extends SingletonScene{\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private kinematicSphere: Laya.Sprite3D;\r\n\r\n    private translateW: Laya.Vector3 = new Laya.Vector3(0, 0, -0.2);\r\n    private translateS: Laya.Vector3 = new Laya.Vector3(0, 0, 0.2);\r\n    private translateA: Laya.Vector3 = new Laya.Vector3(-0.2, 0, 0);\r\n    private translateD: Laya.Vector3 = new Laya.Vector3(0.2, 0, 0);\r\n    private translateQ: Laya.Vector3 = new Laya.Vector3(-0.01, 0, 0);\r\n    private translateE: Laya.Vector3 = new Laya.Vector3(0.01, 0, 0);\r\n    private tmpVector: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n\r\n    private mat1: Laya.BlinnPhongMaterial;\r\n    private mat3: Laya.BlinnPhongMaterial;\r\n\r\n    constructor() {\r\n        // Laya3D.init(0, 0, null);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.translate(new Laya.Vector3(0, 8, 20));\r\n        this.camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n        //this.camera.clearColor = null;\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        //加载资源\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        this.mat3 = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.mat1.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.mat3.albedoTexture = tex;\r\n        }));\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        var rigidBody: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(20, 0, 20);\r\n        rigidBody.colliderShape = boxShape;\r\n\r\n        for (var i: number = 0; i < 60; i++) {\r\n            this.addBox();\r\n            this.addCapsule();\r\n        }\r\n\r\n        this.addKinematicSphere();\r\n    }\r\n    public addKinematicSphere(): void {\r\n        var mat2: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat2.albedoTexture = tex;\r\n        }));\r\n        mat2.albedoColor = new Laya.Vector4(1.0, 0.0, 0.0, 1.0);\r\n\r\n        var radius: number = 0.8;\r\n        var sphere: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius))) as Laya.MeshSprite3D;\r\n        sphere.meshRenderer.material = mat2;\r\n        sphere.transform.position = new Laya.Vector3(0, 0.8, 0);\r\n\r\n        var rigidBody: Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 60;\r\n        rigidBody.isKinematic = true;\r\n\r\n\r\n        this.kinematicSphere = sphere;\r\n        Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n    }\r\n\r\n    private onKeyDown(): void {\r\n        Laya.KeyBoardManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n        Laya.KeyBoardManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n        Laya.KeyBoardManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n        Laya.KeyBoardManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n        Laya.KeyBoardManager.hasKeyDown(81) && this.kinematicSphere.transform.translate(this.translateQ);//Q\r\n        Laya.KeyBoardManager.hasKeyDown(69) && this.kinematicSphere.transform.translate(this.translateE);//E\r\n    }\r\n\r\n    public addBox(): void {\r\n        var sX: number = Math.random() * 0.75 + 0.25;\r\n        var sY: number = Math.random() * 0.75 + 0.25;\r\n        var sZ: number = Math.random() * 0.75 + 0.25;\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        box.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        box.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n    public addCapsule(): void {\r\n        var raidius: number = Math.random() * 0.2 + 0.2;\r\n        var height: number = Math.random() * 0.5 + 0.8;\r\n        var capsule: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = this.mat3;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        capsule.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        capsule.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_MeshCollider extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private tmpVector: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    private mat1: Laya.BlinnPhongMaterial;\r\n    private mat2: Laya.BlinnPhongMaterial;\r\n    private mat3: Laya.BlinnPhongMaterial;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode =  Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        //初始化照相机\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 6, 9.5));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //方向光\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(0.0, -0.8, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        //资源加载\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        this.mat2 = new Laya.BlinnPhongMaterial();\r\n        this.mat3 = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.mat1.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.mat2.albedoTexture = tex;\r\n        }));\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.mat3.albedoTexture = tex;\r\n        }));\r\n\r\n        Laya.loader.create([GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizard-lizard_geo.lm\", GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_diff.png\", \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\"], Laya.Handler.create(this, this.complete));\r\n    }\r\n\r\n    public complete(): void {\r\n        var mesh: Laya.Mesh = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizard-lizard_geo.lm\");\r\n        var albedo: Laya.Texture2D = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_diff.png\");\r\n        var normal: Laya.Texture2D = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\");\r\n        var mat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        mat.specularColor = new Laya.Vector4(0.5, 0.5, 0.5, 0.5);\r\n        mat.albedoTexture = albedo;\r\n        mat.normalTexture = normal;\r\n\r\n        var lizard: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n        lizard.transform.localPosition = new Laya.Vector3(-2, 0, 0);\r\n        lizard.transform.localScale = new Laya.Vector3(0.01, 0.01, 0.01);\r\n        lizard.meshRenderer.material = mat;\r\n        var lizardCollider: Laya.PhysicsCollider = lizard.addComponent(Laya.PhysicsCollider);\r\n        var meshShape: Laya.MeshColliderShape = new Laya.MeshColliderShape();\r\n        meshShape.mesh = mesh;\r\n        lizardCollider.colliderShape = meshShape;\r\n        lizardCollider.friction = 2;\r\n        lizardCollider.restitution = 0.3;\r\n\r\n        var lizard1: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n        lizard1.transform.localPosition = new Laya.Vector3(3, 0, 0);\r\n        lizard1.transform.localRotationEuler = new Laya.Vector3(0, 80, 0);\r\n        lizard1.transform.localScale = new Laya.Vector3(0.01, 0.01, 0.01);\r\n        lizard1.meshRenderer.material = mat;\r\n        var lizardCollider1: Laya.PhysicsCollider = lizard1.addComponent(Laya.PhysicsCollider);\r\n        var meshShape1: Laya.MeshColliderShape = new Laya.MeshColliderShape();\r\n        meshShape1.mesh = mesh;\r\n        lizardCollider1.colliderShape = meshShape1;\r\n        lizardCollider1.friction = 2;\r\n        lizardCollider1.restitution = 0.3;\r\n\r\n        this.randomAddPhysicsSprite();\r\n    }\r\n\r\n    public randomAddPhysicsSprite(): void {\r\n        Laya.timer.loop(1000, this, function (): void {\r\n            var random: number = Math.floor(Math.random() * 3) % 3;\r\n            switch (random) {\r\n                case 0:\r\n                    this.addBox();\r\n                    break;\r\n                case 1:\r\n                    this.addSphere();\r\n                    break;\r\n                case 2:\r\n                    this.addCapsule();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    public addBox(): void {\r\n        var sX: number = Math.random() * 0.75 + 0.25;\r\n        var sY: number = Math.random() * 0.75 + 0.25;\r\n        var sZ: number = Math.random() * 0.75 + 0.25;\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        box.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        box.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n    public addSphere(): void {\r\n        var radius: number = Math.random() * 0.2 + 0.2;\r\n        var sphere: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius))) as Laya.MeshSprite3D;\r\n        sphere.meshRenderer.material = this.mat2;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        sphere.transform.position = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n    public addCapsule(): void {\r\n        var raidius: number = Math.random() * 0.2 + 0.2;\r\n        var height: number = Math.random() * 0.5 + 0.8;\r\n        var capsule: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = this.mat3;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        capsule.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        capsule.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class TriggerCollisionScript extends Laya.Script3D {\r\n    public kinematicSprite: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public onTriggerEnter(other: Laya.PhysicsComponent): void {\r\n        (((this.owner as Laya.MeshSprite3D).meshRenderer as Laya.MeshRenderer).sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = new Laya.Vector4(0.0, 1.0, 0.0, 1.0);\r\n    }\r\n\r\n    public onTriggerStay(other: Laya.PhysicsComponent): void {\r\n\r\n    }\r\n\r\n    public onTriggerExit(other: Laya.PhysicsComponent): void {\r\n        (((this.owner as Laya.MeshSprite3D).meshRenderer as Laya.MeshRenderer).sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n    }\r\n\r\n    public onCollisionEnter(collision: Laya.Collision): void {\r\n        if (collision.other.owner === this.kinematicSprite)\r\n            (((this.owner as Laya.MeshSprite3D).meshRenderer as Laya.MeshRenderer).sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = new Laya.Vector4(0.0, 0.0, 0.0, 1.0);\r\n    }\r\n\r\n    public onCollisionStay(collision: Laya.Collision): void {\r\n    }\r\n\r\n    public onCollisionExit(collision: Laya.Collision): void {\r\n    }\r\n\r\n}\r\n\r\nexport class PhysicsWorld_TriggerAndCollisionEvent extends SingletonScene{\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private kinematicSphere: Laya.Sprite3D;\r\n    private translateW: Laya.Vector3 = new Laya.Vector3(0, 0, -0.2);\r\n    private translateS: Laya.Vector3 = new Laya.Vector3(0, 0, 0.2);\r\n    private translateA: Laya.Vector3 = new Laya.Vector3(-0.2, 0, 0);\r\n    private translateD: Laya.Vector3 = new Laya.Vector3(0.2, 0, 0);\r\n    private translateQ: Laya.Vector3 = new Laya.Vector3(-0.01, 0, 0);\r\n    private translateE: Laya.Vector3 = new Laya.Vector3(0.01, 0, 0);\r\n    private tmpVector: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.translate(new Laya.Vector3(0, 8, 18));\r\n        this.camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n        //this.camera.clearColor = null;\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, 1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        var staticCollider: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(20, 0, 20);\r\n        staticCollider.colliderShape = boxShape;\r\n\r\n        this.addKinematicSphere();\r\n        for (var i: number = 0; i < 30; i++) {\r\n            this.addBoxAndTrigger();\r\n            this.addCapsuleCollision();\r\n        }\r\n    }\r\n    public addKinematicSphere(): void {\r\n        var mat2: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat2.albedoTexture = tex;\r\n        }));\r\n        mat2.albedoColor = new Laya.Vector4(1.0, 0.0, 0.0, 1.0);\r\n\r\n        var radius: number = 0.8;\r\n        var sphere: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius))) as Laya.MeshSprite3D;\r\n        sphere.meshRenderer.material = mat2;\r\n        sphere.transform.position = new Laya.Vector3(0, 0.8, 0);\r\n\r\n        var rigidBody: Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 60;\r\n        rigidBody.isKinematic = true;\r\n\r\n        this.kinematicSphere = sphere;\r\n        Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n    }\r\n\r\n    private onKeyDown(): void {\r\n\r\n        Laya.KeyBoardManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n        Laya.KeyBoardManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n        Laya.KeyBoardManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n        Laya.KeyBoardManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n        Laya.KeyBoardManager.hasKeyDown(81) && this.kinematicSphere.transform.translate(this.translateQ);//Q\r\n        Laya.KeyBoardManager.hasKeyDown(69) && this.kinematicSphere.transform.translate(this.translateE);//E\r\n    }\r\n\r\n    public addBoxAndTrigger(): void {\r\n        var mat1: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat1.albedoTexture = tex;\r\n        }));\r\n        mat1.albedoColor = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n\r\n        var sX: number = Math.random() * 0.75 + 0.25;\r\n        var sY: number = Math.random() * 0.75 + 0.25;\r\n        var sZ: number = Math.random() * 0.75 + 0.25;\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = mat1;\r\n        box.transform.position = new Laya.Vector3(Math.random() * 16 - 8, sY / 2, Math.random() * 16 - 8);\r\n        box.transform.rotationEuler = new Laya.Vector3(0, Math.random() * 360, 0);\r\n\r\n        var staticCollider: Laya.PhysicsCollider = box.addComponent(Laya.PhysicsCollider);//StaticCollider可与非Kinematic类型RigidBody3D产生碰撞\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        staticCollider.colliderShape = boxShape;\r\n        staticCollider.isTrigger = true;//标记为触发器,取消物理反馈\r\n        var script: TriggerCollisionScript = box.addComponent(TriggerCollisionScript);\r\n        script.kinematicSprite = this.kinematicSphere;\r\n    }\r\n\r\n    public addCapsuleCollision(): void {\r\n        var mat3: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat3.albedoTexture = tex;\r\n        }));\r\n\r\n        var raidius: number = Math.random() * 0.2 + 0.2;\r\n        var height: number = Math.random() * 0.5 + 0.8;\r\n        var capsule: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = mat3;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        capsule.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        capsule.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);//Rigidbody3D可与StaticCollider和RigidBody3D产生碰撞\r\n        var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n        var script: TriggerCollisionScript = capsule.addComponent(TriggerCollisionScript);\r\n        script.kinematicSprite = this.kinematicSphere;\r\n\r\n    }\r\n\r\n    public addSphere(): void {\r\n        var mat2: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat2.albedoTexture = tex;\r\n        }));\r\n\r\n        var radius: number = Math.random() * 0.2 + 0.2;\r\n        var sphere: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius))) as Laya.MeshSprite3D;\r\n        sphere.meshRenderer.material = mat2;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        sphere.transform.position = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = sphere.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.SphereColliderShape = new Laya.SphereColliderShape(radius);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class PhysicsWorld_RayShapeCast extends SingletonScene {\r\n    private btns: Laya.Button[] = [];\r\n    private castType: number = 0;\r\n    private castAll: Boolean = false;\r\n\r\n    private ray: Laya.Ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));\r\n    private s_scene: Laya.Scene3D;\r\n    private hitResult: Laya.HitResult = new Laya.HitResult();\r\n    private hitResults: Array<Laya.HitResult> = new Array<Laya.HitResult>();\r\n    private debugSprites: Array<Laya.Sprite3D> = new Array<Laya.Sprite3D>();\r\n    private albedoColor: Laya.Vector4 = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n    private albedoColor2: Laya.Vector4 = new Laya.Vector4(1.0, 0.0, 0.0, 1.0);\r\n    private tmpVector: Laya.Vector3 = new Laya.Vector3(0, 0, 0);\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 8, 20));\r\n        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, 1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n\r\n        var plane: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        var rigidBody: Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxCollider: Laya.BoxColliderShape = new Laya.BoxColliderShape(20, 0, 20);\r\n        rigidBody.colliderShape = boxCollider;\r\n\r\n        for (var i: number = 0; i < 60; i++) {\r\n            this.addBox();\r\n            this.addCapsule();\r\n        }\r\n\r\n        this.addBtn(200, 200, 160, 40, \"射线模式\", function (e: Laya.Event): void {\r\n            this.castType++;\r\n            this.castType %= 4;\r\n            switch (this.castType) {\r\n                case 0:\r\n                    (e.target as Laya.Button).label = \"射线模式\";\r\n                    break;\r\n                case 1:\r\n                    (e.target as Laya.Button).label = \"盒子模式\";\r\n                    break;\r\n                case 2:\r\n                    (e.target as Laya.Button).label = \"球模式\";\r\n                    break;\r\n                case 3:\r\n                    (e.target as Laya.Button).label = \"胶囊模式\";\r\n                    break;\r\n            }\r\n        });\r\n\r\n        this.addBtn(200, 300, 160, 40, \"不穿透\", function (e: Laya.Event): void {\r\n            if (this.castAll) {\r\n                (e.target as Laya.Button).label = \"不穿透\";\r\n                this.castAll = false;\r\n            }\r\n            else {\r\n                (e.target as Laya.Button).label = \"穿透\";\r\n                this.castAll = true;\r\n            }\r\n        });\r\n\r\n        this.addBtn(200, 400, 160, 40, \"检测\", function (e: Event): void {\r\n            if (this.hitResult.succeeded)\r\n                ((this.hitResult.collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor;\r\n\r\n            if (this.hitResults.length > 0) {\r\n                for (var i: number = 0, n: number = this.hitResults.length; i < n; i++)\r\n                    ((this.hitResults[i].collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor;\r\n                this.hitResults.length = 0;\r\n            }\r\n\r\n            if (this.debugSprites.length > 0) {\r\n                for (i = 0, n = this.debugSprites.length; i < n; i++)\r\n                    this.debugSprites[i].destroy();\r\n                this.debugSprites.length = 0;\r\n            }\r\n\r\n            var from: Laya.Vector3 = new Laya.Vector3(0, 1, 10);\r\n            var to: Laya.Vector3 = new Laya.Vector3(0, 1, -5);\r\n            switch (this.castType) {\r\n                case 0:\r\n                    var lineSprite: Laya.PixelLineSprite3D = this.s_scene.addChild(new Laya.PixelLineSprite3D(1)) as Laya.PixelLineSprite3D;\r\n                    lineSprite.addLine(from, to, Laya.Color.RED, Laya.Color.RED);\r\n                    this.debugSprites.push(lineSprite);\r\n                    if (this.castAll) {\r\n                        //射线发射方法\r\n                        this.s_scene.physicsSimulation.raycastAllFromTo(from, to, this.hitResults);\r\n                        for (i = 0, n = this.hitResults.length; i < n; i++)\r\n                            ((this.hitResults[i].collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    } else {\r\n                        //射线发射方法\r\n                        this.s_scene.physicsSimulation.raycastFromTo(from, to, this.hitResult);\r\n                        ((this.hitResult.collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    var boxCollider: Laya.BoxColliderShape = new Laya.BoxColliderShape(1.0, 1.0, 1.0);\r\n                    for (i = 0; i < 21; i++) {\r\n                        var boxSprite: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1.0, 1.0, 1.0))) as Laya.MeshSprite3D;\r\n                        var mat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n                        mat.albedoColor = new Laya.Vector4(1.0, 1.0, 1.0, 0.5);\r\n                        mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;\r\n                        //mat.renderMode = 2;\r\n                        boxSprite.meshRenderer.material = mat;\r\n                        var position: Laya.Vector3 = new Laya.Vector3();\r\n                        Laya.Vector3.lerp(from, to, i / 20, position);\r\n                        boxSprite.transform.localPosition = position;\r\n                        this.debugSprites.push(boxSprite);\r\n                    }\r\n                    if (this.castAll) {\r\n                        this.s_scene.physicsSimulation.shapeCastAll(boxCollider, from, to, this.hitResults);\r\n                        for (i = 0, n = this.hitResults.length; i < n; i++)\r\n                            ((this.hitResults[i].collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    } else {\r\n                        if (this.s_scene.physicsSimulation.shapeCast(boxCollider, from, to, this.hitResult))\r\n                            ((this.hitResult.collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    var sphereCollider: Laya.SphereColliderShape = new Laya.SphereColliderShape(0.5);\r\n                    for (i = 0; i < 41; i++) {\r\n                        var sphereSprite: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(0.5))) as Laya.MeshSprite3D;\r\n                        var mat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n                        mat.albedoColor = new Laya.Vector4(1.0, 1.0, 1.0, 0.5);\r\n                        mat.renderMode = 2;\r\n                        sphereSprite.meshRenderer.material = mat;\r\n                        var position: Laya.Vector3 = new Laya.Vector3();\r\n                        Laya.Vector3.lerp(from, to, i / 40, position);\r\n                        sphereSprite.transform.localPosition = position;\r\n                        this.debugSprites.push(sphereSprite);\r\n                    }\r\n\r\n                    if (this.castAll) {\r\n                        this.s_scene.physicsSimulation.shapeCastAll(sphereCollider, from, to, this.hitResults);\r\n                        for (i = 0, n = this.hitResults.length; i < n; i++)\r\n                            ((this.hitResults[i].collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    } else {\r\n                        if (this.s_scene.physicsSimulation.shapeCast(sphereCollider, from, to, this.hitResult))\r\n                            ((this.hitResult.collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    var capsuleCollider: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(0.25, 1.0);\r\n                    for (i = 0; i < 41; i++) {\r\n                        var capsuleSprite: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(0.25, 1.0))) as Laya.MeshSprite3D;\r\n                        var mat: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n                        mat.albedoColor = new Laya.Vector4(1.0, 1.0, 1.0, 0.5);\r\n                        mat.renderMode = 2;\r\n                        capsuleSprite.meshRenderer.material = mat;\r\n                        var position: Laya.Vector3 = new Laya.Vector3();\r\n                        Laya.Vector3.lerp(from, to, i / 40, position);\r\n                        capsuleSprite.transform.localPosition = position;\r\n                        this.debugSprites.push(capsuleSprite);\r\n                    }\r\n                    if (this.castAll) {\r\n                        this.s_scene.physicsSimulation.shapeCastAll(capsuleCollider, from, to, this.hitResults);\r\n                        for (i = 0, n = this.hitResults.length; i < n; i++)\r\n                            ((this.hitResults[i].collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    } else {\r\n                        if (this.s_scene.physicsSimulation.shapeCast(capsuleCollider, from, to, this.hitResult))\r\n                            ((this.hitResult.collider.owner as Laya.MeshSprite3D).meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this.albedoColor2;\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    private addBtn(x: number, y: number, width: number, height: number, text: string, clikFun: Function): void {\r\n        Laya.loader.load([GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"], Laya.Handler.create(this, function (): void {\r\n            var changeActionButton = Laya.stage.addChild(new Laya.Button(GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\", text)) as Laya.Button;\r\n            changeActionButton.size(width, height);\r\n            changeActionButton.labelBold = true;\r\n            changeActionButton.labelSize = 30;\r\n            changeActionButton.sizeGrid = \"4,4,4,4\";\r\n            changeActionButton.scale(Laya.Browser.pixelRatio, Laya.Browser.pixelRatio);\r\n            changeActionButton.pos(x, y);\r\n            changeActionButton.on(Laya.Event.CLICK, this, clikFun);\r\n            this.btns.push(changeActionButton);\r\n        }));\r\n    }\r\n\r\n    public addBox(): void {\r\n        var mat1: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat1.albedoTexture = tex;\r\n        }));\r\n        var sX: number = Math.random() * 0.75 + 0.25;\r\n        var sY: number = Math.random() * 0.75 + 0.25;\r\n        var sZ: number = Math.random() * 0.75 + 0.25;\r\n        var box: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = mat1;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        box.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        box.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape: Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n    public addCapsule(): void {\r\n        var mat3: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n            mat3.albedoTexture = tex;\r\n        }));\r\n\r\n        var raidius: number = Math.random() * 0.2 + 0.2;\r\n        var height: number = Math.random() * 0.5 + 0.8;\r\n        var capsule: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = mat3;\r\n        this.tmpVector.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        capsule.transform.position = this.tmpVector;\r\n        this.tmpVector.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        capsule.transform.rotationEuler = this.tmpVector;\r\n\r\n        var rigidBody: Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape: Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        for (var i = 0; i < this.btns.length; i++) {\r\n            this.btns[i].visible = false;\r\n        }\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Transform3D = Laya.Transform3D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport Texture2D = Laya.Texture2D;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport FixedConstraint = Laya.FixedConstraint;\r\nimport Script3D = Laya.Script3D;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class PhysicsWorld_ConstraintFixedJoint extends SingletonScene {\r\n    private s_scene: Scene3D;\r\n    private camera: Camera;\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // Stat.show();\r\n        this.s_scene = new Scene3D();\r\n        this.camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n        this.camera.transform.translate(new Vector3(0, 3, 10));\r\n        this.camera.clearColor = null;\r\n        var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n        directionLight.color = new Vector3(1, 1, 1);\r\n        //directionLight.transform.worldMatrix.setForward(new Vector3(1.0, -0.5, 0.5));\r\n        //设置平行光的方向\r\n        var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        directionLight.transform.worldMatrix = mat;\r\n        this.addbox();\r\n    }\r\n\r\n    addbox() {\r\n\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1))));\r\n        //设置材质\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(0, 5, 0);\r\n        transform.position = pos;\r\n\r\n        //创建刚体碰撞器\r\n        var rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape: BoxColliderShape = new BoxColliderShape(1, 1, 1);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n        rigidBody.isKinematic = true;\r\n\r\n        //创建盒型MeshSprite3D\r\n        var box2: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1))));\r\n        //设置材质\r\n        var transform2: Transform3D = box2.transform;\r\n        var pos2: Vector3 = transform2.position;\r\n        pos2.setValue(0, 3, 0);\r\n        transform2.position = pos2;\r\n        //创建刚体碰撞器\r\n        var rigidBody2: Rigidbody3D = box2.addComponent(Rigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape2: BoxColliderShape = new BoxColliderShape(1, 1, 1);\r\n        //设置盒子的碰撞形状\r\n        rigidBody2.colliderShape = boxShape2;\r\n        //设置刚体的质量\r\n        rigidBody2.mass = 10;\r\n\r\n        //漫反射贴图\r\n        Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/layabox.png\", Handler.create(this, function (texture: Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            var blinnMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n            blinnMat.albedoTexture = texture;\r\n            box.meshRenderer.material = blinnMat;\r\n            box2.meshRenderer.material = blinnMat;\r\n        }));\r\n\r\n        var fixedConstraint: FixedConstraint = box.addComponent(FixedConstraint);\r\n        fixedConstraint.anchor = new Vector3(0, 0, 0);\r\n        fixedConstraint.connectAnchor = new Vector3(0, 2, 0);\r\n        box.addComponent(FixedEventTest);\r\n        fixedConstraint.setConnectRigidBody(rigidBody, rigidBody2);\r\n\r\n    }\r\n\r\n}\r\n\r\nexport class FixedEventTest extends Script3D {\r\n    private fixedConstraint: FixedConstraint;\r\n\r\n    onStart() {\r\n        this.fixedConstraint = this.owner.getComponent(FixedConstraint);\r\n        this.fixedConstraint.breakForce = 1000;\r\n    }\r\n\r\n    onUpdate() {\r\n        if (this.fixedConstraint) {\r\n            if (this.fixedConstraint.connectedBody){\r\n                var mass = this.fixedConstraint.connectedBody.mass;\r\n                this.fixedConstraint.connectedBody.mass = mass + 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    onJointBreak() {\r\n        console.log(\"break\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Vector4 = Laya.Vector4;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport ConfigurableConstraint = Laya.ConfigurableConstraint;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport Handler = Laya.Handler;\r\n\r\n\r\nexport class PhysicsWorld_ConfigurableJoint extends SingletonScene {\r\n    private s_scene: Scene3D;\r\n    private camera: Camera;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // Stat.show();\r\n        super();\r\n        Config3D.useCannonPhysics = false;\r\n        Shader3D.debugMode = true;\r\n        this.s_scene = new Scene3D();\r\n        this.camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n        this.camera.transform.translate(new Vector3(0, 3, 30));\r\n        this.camera.addComponent(CameraMoveScript)\r\n        var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n        directionLight.color = new Vector3(1, 1, 1);\r\n        directionLight.transform.worldMatrix.setForward(new Vector3(-1.0, -1.0, 1.0));\r\n        //平面\r\n        var plane: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(40, 40, 40, 40))));\r\n        plane.transform.position = new Vector3(0, -2.0, 0);\r\n        var planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Handler.create(this, function (tex: Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            planeMat.albedoTexture = tex;\r\n        }));\r\n        //设置纹理平铺和偏移\r\n        var tilingOffset: Vector4 = planeMat.tilingOffset;\r\n        tilingOffset.setValue(5, 5, 0, 0);\r\n        planeMat.tilingOffset = tilingOffset;\r\n        //设置材质\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        this.springTest();\r\n        this.bounceTest();\r\n        // this.bounceTestY();\r\n\r\n        this.alongZAixs();\r\n        //this.alongXAixs();\r\n        //this.alongYAixs();\r\n\r\n        this.freeRotate();\r\n        this.rotateAngularX();\r\n        // this.rotateAngularZ();\r\n        // this.rotateAngularY();\r\n        this.rotateAngularPoint();\r\n\r\n\r\n    }\r\n\r\n    springTest(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(7, 3, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n        boxARigid.overrideGravity = true;\r\n        boxARigid.isKinematic = true;\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(10, 0, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, -3, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n        configurableConstraint.minLinearLimit = new Vector3(-3, 0, 0);\r\n        configurableConstraint.maxLinearLimit = new Vector3(3, 0, 0);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.linearLimitSpring = new Vector3(100, 0, 0);\r\n        configurableConstraint.linearDamp = new Vector3(0, 0, 0);\r\n    }\r\n\r\n\r\n\r\n    bounceTest(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(7, 3, 3), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(7, 0, 3), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, -3, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n        configurableConstraint.minLinearLimit = new Vector3(-2, 0, 0);\r\n        configurableConstraint.maxLinearLimit = new Vector3(2, 0, 0);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n        configurableConstraint.linearBounce = new Vector3(0.5, 0, 0);\r\n        boxBRigid.applyImpulse(new Vector3(100, 0, 0));\r\n\r\n    }\r\n\r\n    bounceTestY(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 4, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(0, 2, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, -2, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n        configurableConstraint.minLinearLimit = new Vector3(0, -2, 0);\r\n        configurableConstraint.maxLinearLimit = new Vector3(0, 10, 0);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n    }\r\n\r\n    rotateAngularX(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-2, 3, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-2, 1, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, -2, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n        configurableConstraint.minAngularLimit = new Vector3(-2, 0, 0);\r\n        configurableConstraint.maxAngularLimit = new Vector3(2, 0, 0);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        boxBRigid.angularVelocity = new Vector3(5, 0, 0);\r\n\r\n    }\r\n\r\n    rotateAngularZ(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-7, 6, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-7, 4, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, -2, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n        configurableConstraint.minAngularLimit = new Vector3(0, 0, -1);\r\n        configurableConstraint.maxAngularLimit = new Vector3(0, 0, 1);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        boxBRigid.angularVelocity = new Vector3(0.0, 0, 0.5);\r\n\r\n    }\r\n\r\n    rotateAngularY(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-5, 6, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-5, 4, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, -2, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n        configurableConstraint.minAngularLimit = new Vector3(0, -1, 0);\r\n        configurableConstraint.maxAngularLimit = new Vector3(0, 1, 0);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        boxBRigid.angularVelocity = new Vector3(0.0, 0.5, 0);\r\n\r\n    }\r\n\r\n    freeRotate() {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-6, 3, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-6, 1, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, -1, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 1, 0);\r\n\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n        boxBRigid.angularVelocity = new Vector3(20, 2, 10);\r\n    }\r\n\r\n    rotateAngularPoint(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 15, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(6, 15, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, 0, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(-6, 0, 0);\r\n\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\r\n    }\r\n\r\n    alongXAixs(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 0, -4), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(5, 0, -4), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, 0, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(-5, 0, 0);\r\n\r\n        configurableConstraint.minLinearLimit = new Vector3(-2, 0, 0);\r\n        configurableConstraint.maxLinearLimit = new Vector3(2, 0, 0);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n        boxBRigid.linearVelocity = new Vector3(1.0, 0.0, 0);\r\n\r\n    }\r\n\r\n    alongYAixs(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 0, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(5, 0, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, 0, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(-5, 0, 0);\r\n\r\n        configurableConstraint.minLinearLimit = new Vector3(0, -3, 0);\r\n        configurableConstraint.maxLinearLimit = new Vector3(0, 3, 0);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n        boxBRigid.linearVelocity = new Vector3(0.0, 1.0, 0);\r\n\r\n    }\r\n\r\n    alongZAixs(): void {\r\n        var boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(2, 3, 0), 1);\r\n        var boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n        var boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(2, 0, 0), 1);\r\n        (<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Vector4(1, 0, 0, 1);\r\n        var boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n        var configurableConstraint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n        configurableConstraint.setConnectRigidBody(boxARigid, boxBRigid);\r\n        configurableConstraint.anchor = new Vector3(0, 0, 0);\r\n        configurableConstraint.connectAnchor = new Vector3(0, 3, 0);\r\n\r\n        configurableConstraint.minLinearLimit = new Vector3(0, 0, -4);\r\n        configurableConstraint.maxLinearLimit = new Vector3(0, 0, 4);\r\n        configurableConstraint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n        configurableConstraint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n        configurableConstraint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n        boxBRigid.linearVelocity = new Vector3(0.0, 0.0, 4);\r\n\r\n    }\r\n\r\n    addRigidBodyBox(pos: Vector3, scale: number): MeshSprite3D {\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(scale, scale, scale))));\r\n        box.transform.position = pos;\r\n        //box.addComponent(TriggerCollisionScript);\r\n\r\n        var mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        box.meshRenderer.material = mat;\r\n\r\n        //创建刚体碰撞器\r\n        var rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape: BoxColliderShape = new BoxColliderShape(scale, scale, scale);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 1;\r\n        //物理碰撞体设置摩擦力\r\n        rigidBody.friction = 0.5;\r\n        //物理碰撞体设置弹力\r\n        rigidBody.restitution = 10.0;\r\n        return box;\r\n    }\r\n    addRigidBodySphere(pos: Vector3, scale: number): MeshSprite3D {\r\n        //创建盒型MeshSprite3D\r\n        var sphere: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.2))));\r\n        sphere.transform.position = pos;\r\n\r\n        var mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        mat.albedoColor = new Vector4(0, 1, 0, 1);\r\n        sphere.meshRenderer.material = mat;\r\n\r\n        //创建刚体碰撞器\r\n        var rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape: SphereColliderShape = new SphereColliderShape(0.2);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 1;\r\n        //物理碰撞体设置摩擦力\r\n        rigidBody.friction = 0.5;\r\n        //物理碰撞体设置弹力\r\n        rigidBody.restitution = 0.0;\r\n        rigidBody.isKinematic = true;\r\n        return sphere;\r\n    }\r\n}\r\n\r\n\r\n","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { PhysicsWorld_BaseCollider } from \"./PhysicsWorld_BaseCollidert\";\r\nimport { PhysicsWorld_BuildingBlocks } from \"./PhysicsWorld_BuildingBlocks\";\r\nimport { PhysicsWorld_Character } from \"./PhysicsWorld_Character\";\r\nimport { PhysicsWorld_CollisionFiflter } from \"./PhysicsWorld_CollisionFiflter\";\r\nimport { PhysicsWorld_CompoundCollider } from \"./PhysicsWorld_CompoundCollider\";\r\nimport { PhysicsWorld_ContinueCollisionDetection } from \"./PhysicsWorld_ContinueCollisionDetection\";\r\nimport { PhysicsWorld_Kinematic } from \"./PhysicsWorld_Kinematic\";\r\nimport { PhysicsWorld_MeshCollider } from \"./PhysicsWorld_MeshCollider\";\r\nimport { PhysicsWorld_TriggerAndCollisionEvent } from \"./PhysicsWorld_TriggerAndCollisionEvent\";\r\nimport { PhysicsWorld_RayShapeCast } from \"./PhysicsWorld_RayShapeCast\";\r\nimport { PhysicsWorld_ConstraintFixedJoint } from \"./PhysicsWorld_ConstraintFixedJoint\";\r\nimport { PhysicsWorld_ConfigurableJoint } from \"./PhysicsWorld_ConfigurableJoint\";\r\n\r\nexport class Physics3DMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\",\r\n        \"基础碰撞器\", \"选取物体\", \"角色碰撞器\", \"碰撞器过滤器\", \"碰撞器混合\",\r\n        \"连续碰撞检测\", \"刚起碰撞\", \"网格碰撞器\", \"射线检测\", \"触发和碰撞事件\",\r\n        \"固定关节\", \"可配置关节\"\r\n    ];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                PhysicsWorld_BaseCollider.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                PhysicsWorld_BuildingBlocks.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                PhysicsWorld_Character.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                PhysicsWorld_CollisionFiflter.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                PhysicsWorld_CompoundCollider.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[6]:\r\n                PhysicsWorld_ContinueCollisionDetection.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[7]:\r\n                PhysicsWorld_Kinematic.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[8]:\r\n                PhysicsWorld_MeshCollider.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[9]:\r\n                PhysicsWorld_RayShapeCast.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[10]:\r\n                PhysicsWorld_TriggerAndCollisionEvent.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[11]:\r\n                PhysicsWorld_ConstraintFixedJoint.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[12]:\r\n                PhysicsWorld_ConfigurableJoint.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Vector4 = Laya.Vector4;\r\nimport CannonPhysicsCollider = Laya.CannonPhysicsCollider;\r\nimport Transform3D = Laya.Transform3D;\r\nimport CannonRigidbody3D = Laya.CannonRigidbody3D;\r\nimport CannonBoxColliderShape = Laya.CannonBoxColliderShape;\r\nimport CannonSphereColliderShape = Laya.CannonSphereColliderShape;\r\nimport CannonCompoundColliderShape = Laya.CannonCompoundColliderShape;\r\nimport Handler = Laya.Handler;\r\n\r\n/**\r\n * 示例基本碰撞\r\n */\r\nexport class CannonPhysicsWorld_BaseCollider extends SingletonScene {\r\n    private s_scene: Scene3D;\r\n    private mat1: BlinnPhongMaterial;\r\n    private mat2: BlinnPhongMaterial;\r\n    private mat3: BlinnPhongMaterial;\r\n    constructor() {\r\n        super();\r\n        Laya3D.init(0, 0, null, Handler.create(this, () => {\r\n            Config3D.useCannonPhysics = true;\r\n            // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n            // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n            // //显示性能面板\r\n            // Stat.show();\r\n            this.s_scene = new Scene3D();\r\n            //初始化照相机\r\n            var camera: Camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n            camera.transform.translate(new Vector3(0, 6, 9.5));\r\n            camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n            camera.addComponent(CameraMoveScript);\r\n            camera.clearColor = null;\r\n\r\n            //方向光\r\n            var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n            directionLight.color = new Vector3(0.6, 0.6, 0.6);\r\n            //设置平行光的方向\r\n            var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n            mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n            directionLight.transform.worldMatrix = mat;\r\n            var plane: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(10, 10, 10, 10))));\r\n            var planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.AutoSetScene3d(this.s_scene);\r\n                planeMat.albedoTexture = tex;\r\n            }));\r\n            //设置纹理平铺和偏移\r\n            var tilingOffset: Vector4 = planeMat.tilingOffset;\r\n            tilingOffset.setValue(5, 5, 0, 0);\r\n            planeMat.tilingOffset = tilingOffset;\r\n            //设置材质\r\n            plane.meshRenderer.material = planeMat;\r\n            var planeCollider: CannonPhysicsCollider = plane.addComponent(CannonPhysicsCollider);\r\n            var planeShape: CannonBoxColliderShape = new CannonBoxColliderShape(10, 0.01, 10);\r\n            planeCollider.colliderShape = planeShape;\r\n            planeCollider.friction = 2;\r\n            planeCollider.restitution = 0.3;\r\n            this.mat1 = new BlinnPhongMaterial();\r\n            this.mat2 = new BlinnPhongMaterial();\r\n            this.mat3 = new BlinnPhongMaterial();\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat1.albedoTexture = tex;\r\n            }));\r\n\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat2.albedoTexture = tex;\r\n            }));\r\n\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat3.albedoTexture = tex;\r\n            }));\r\n            Laya.timer.loop(3000, this, function (): void {\r\n                var random: number = Math.random();\r\n                if (random < 0.33)\r\n                    this.addCompoundColliderShape();\r\n                else if (random < 0.66)\r\n                    this.addSphere();\r\n                else\r\n                    this.addBox();\r\n            });\r\n\r\n        }));\r\n    }\r\n    addBox() {\r\n        var sX: number = 1;\r\n        var sY: number = 1;\r\n        var sZ: number = 1;\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n        //设置材质\r\n        box.meshRenderer.material = this.mat1;\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(Math.random() * 2 - 2, 10, Math.random() * 2 - 2);\r\n        transform.position = pos;\r\n\r\n        var scale: Vector3 = transform.getWorldLossyScale();\r\n        scale.setValue(Math.random(), Math.random(), Math.random());\r\n        transform.setWorldLossyScale(scale);\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = box.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape: CannonBoxColliderShape = new CannonBoxColliderShape(sX, sY, sZ);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    addSphere() {\r\n        var radius: number = 1;\r\n        var sphere: MeshSprite3D = <MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(1)));\r\n        sphere.meshRenderer.material = this.mat2;\r\n        var sphereTransform: Transform3D = sphere.transform;\r\n        var pos: Vector3 = sphereTransform.position;\r\n        pos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n        var scale: Vector3 = sphereTransform.getWorldLossyScale();\r\n        scale.setValue(0.5, 0.5, 0.5);\r\n        sphereTransform.setWorldLossyScale(scale);\r\n\r\n        sphereTransform.position = pos;\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = sphere.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var sphereShape: CannonSphereColliderShape = new CannonSphereColliderShape(radius);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = sphereShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    addCompoundColliderShape() {\r\n        var x = Math.random() * 4 - 2;\r\n        var y = 10;\r\n        var z = Math.random() * 4 - 2;\r\n\r\n        var mesh: MeshSprite3D = this.addMeshBox(x, y, z);\r\n        var scale: Vector3 = mesh.transform.getWorldLossyScale();\r\n        //测试Scale\r\n        scale.setValue(0.5, 0.5, 0.5);\r\n        mesh.transform.setWorldLossyScale(scale);\r\n        this.s_scene.addChild(mesh);\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = mesh.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape0: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape1: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape2: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape3: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n\r\n        var boxCompoundShape: CannonCompoundColliderShape = new CannonCompoundColliderShape();\r\n        (<any>boxCompoundShape).addChildShape(boxShape0, new Vector3(0.5, 0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape1, new Vector3(0.5, -0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape2, new Vector3(-0.5, 0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape3, new Vector3(-0.5, -0.5));\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxCompoundShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    addMeshBox(x: number, y: number, z: number): MeshSprite3D {\r\n        var sX: number = 2;\r\n        var sY: number = 2;\r\n        var sZ: number = 1;\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n        //设置材质\r\n        box.meshRenderer.material = this.mat3;\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(x, y, z);\r\n        transform.position = pos;\r\n        return box;\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Camera = Laya.Camera;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Vector4 = Laya.Vector4;\r\nimport CannonPhysicsCollider = Laya.CannonPhysicsCollider;\r\nimport CannonBoxColliderShape = Laya.CannonBoxColliderShape;\r\nimport Script3D = Laya.Script3D;\r\nimport Event = Laya.Event;\r\nimport Transform3D = Laya.Transform3D;\r\nimport CannonRigidbody3D = Laya.CannonRigidbody3D;\r\nimport CannonSphereColliderShape = Laya.CannonSphereColliderShape;\r\nimport CannonCompoundColliderShape = Laya.CannonCompoundColliderShape;\r\nimport PhysicsComponent = Laya.PhysicsComponent;\r\nimport Collision = Laya.Collision;\r\nimport Handler = Laya.Handler;\r\n\r\n/**\r\n * 用键盘WASD来控制小盒子的移动，碰到的会变成红色\r\n */\r\nexport class CannonPhysicsWorld_ColliderEvent extends SingletonScene {\r\n    private s_scene: Scene3D;\r\n    private mat1: BlinnPhongMaterial;\r\n    private mat2: BlinnPhongMaterial;\r\n    private mat3: BlinnPhongMaterial;\r\n    private camera: Camera;\r\n    private Kinematic: MeshSprite3D;\r\n    private speed: number = 0.1;\r\n    private tempSpeed: Vector3 = new Vector3();\r\n    constructor() {\r\n        super();\r\n        Laya3D.init(0, 0, null, Handler.create(this, () => {\r\n            Config3D.useCannonPhysics = true;\r\n            // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n            // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n            // //显示性能面板\r\n            // Stat.show();\r\n\r\n            this.s_scene = new Scene3D();\r\n\r\n            //初始化照相机\r\n            this.camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n            this.camera.transform.translate(new Vector3(0, 6, 15));\r\n            this.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n            this.camera.addComponent(CameraMoveScript);\r\n            this.camera.clearColor = null;\r\n\r\n            //方向光\r\n            var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n            directionLight.color = new Vector3(0.6, 0.6, 0.6);\r\n            //设置平行光的方向\r\n            var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n            mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n            directionLight.transform.worldMatrix = mat;\r\n            var plane: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n            var planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.AutoSetScene3d(this.s_scene);\r\n                planeMat.albedoTexture = tex;\r\n            }));\r\n            //设置纹理平铺和偏移\r\n            var tilingOffset: Vector4 = planeMat.tilingOffset;\r\n            tilingOffset.setValue(5, 5, 0, 0);\r\n            planeMat.tilingOffset = tilingOffset;\r\n            //设置材质\r\n            plane.meshRenderer.material = planeMat;\r\n            var planeCollider: CannonPhysicsCollider = plane.addComponent(CannonPhysicsCollider);\r\n            var planeShape: CannonBoxColliderShape = new CannonBoxColliderShape(20, 0.01, 20);\r\n            planeCollider.colliderShape = planeShape;\r\n            planeCollider.friction = 2;\r\n            planeCollider.restitution = 0.3;\r\n            this.mat1 = new BlinnPhongMaterial();\r\n            this.mat2 = new BlinnPhongMaterial();\r\n            this.mat3 = new BlinnPhongMaterial();\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat1.albedoTexture = tex;\r\n            }));\r\n\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat2.albedoTexture = tex;\r\n            }));\r\n\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat3.albedoTexture = tex;\r\n            }));\r\n\r\n            this.addBox(false);\r\n            this.addSphere();\r\n            this.addCompoundColliderShape();\r\n\r\n            //增加一个运动学刚体\r\n            this.Kinematic = this.addBox(true);\r\n            this.Kinematic.transform.position = new Vector3(0, 0.5, 5);\r\n            this.Kinematic.addComponent(colliderCheck);\r\n            Laya.stage.on(Event.KEY_DOWN, this, this.keyDown);\r\n            Laya.stage.on(Event.KEY_PRESS, this, this.keyDown);\r\n        }));\r\n    }\r\n    addBox(isKinematic: boolean): MeshSprite3D {\r\n        var sX: number = 1;\r\n        var sY: number = 1;\r\n        var sZ: number = 1;\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n        box.name = \"box\";\r\n        //设置材质\r\n        box.meshRenderer.material = this.mat1;\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(-5, 5, 0);\r\n        transform.position = pos;\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = box.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape: CannonBoxColliderShape = new CannonBoxColliderShape(sX, sY, sZ);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n        rigidBody.isKinematic = isKinematic;\r\n        return box;\r\n    }\r\n    addSphere() {\r\n        var radius: number = 1;\r\n        var sphere: MeshSprite3D = <MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(1)));\r\n        sphere.name = \"sphere\";\r\n        sphere.meshRenderer.material = this.mat2;\r\n        var sphereTransform: Transform3D = sphere.transform;\r\n        var pos: Vector3 = sphereTransform.position;\r\n        pos.setValue(0, 1, 0);\r\n\r\n        sphereTransform.position = pos;\r\n        //创建刚体碰撞器\r\n        var physicsCollider: CannonPhysicsCollider = sphere.addComponent(CannonPhysicsCollider);\r\n        //创建盒子形状碰撞器\r\n        var sphereShape: CannonSphereColliderShape = new CannonSphereColliderShape(radius);\r\n        //设置盒子的碰撞形状\r\n        physicsCollider.colliderShape = sphereShape;\r\n        physicsCollider.isTrigger = true;\r\n        //@ts-ignorets  minerTODO：\r\n        // sphere.addComponent(colliderCheck);\r\n\r\n    }\r\n    addCompoundColliderShape() {\r\n        var mesh: MeshSprite3D = this.addMeshBox(5, 5, 0);\r\n        mesh.name = \"compound\"\r\n        var scale: Vector3 = mesh.transform.getWorldLossyScale();\r\n        //测试Scale\r\n        scale.setValue(0.5, 0.5, 0.5);\r\n        mesh.transform.setWorldLossyScale(scale);\r\n        this.s_scene.addChild(mesh);\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = mesh.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape0: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape1: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape2: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape3: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n\r\n        var boxCompoundShape: CannonCompoundColliderShape = new CannonCompoundColliderShape();\r\n        (<any>boxCompoundShape).addChildShape(boxShape0, new Vector3(0.5, 0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape1, new Vector3(0.5, -0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape2, new Vector3(-0.5, 0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape3, new Vector3(-0.5, -0.5));\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxCompoundShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    addMeshBox(x: number, y: number, z: number): MeshSprite3D {\r\n        var sX: number = 2;\r\n        var sY: number = 2;\r\n        var sZ: number = 1;\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n        //设置材质\r\n        box.meshRenderer.material = this.mat3;\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(x, y, z);\r\n        transform.position = pos;\r\n        return box;\r\n    }\r\n    keyDown(e: any) {\r\n\r\n        //var key:string = String.fromCharCode(e.keyCode);\r\n        switch (e.keyCode) {\r\n            case 87:\r\n                this.tempSpeed.setValue(0, 0, -this.speed);\r\n                break;\r\n            case 83:\r\n                //Down\r\n                this.tempSpeed.setValue(0, 0, this.speed);\r\n                break;\r\n            case 65:\r\n                //Left\r\n                this.tempSpeed.setValue(-this.speed, 0, 0);\r\n                break;\r\n            case 68:\r\n                //Right\r\n                this.tempSpeed.setValue(this.speed, 0, 0);\r\n                break;\r\n        }\r\n        this.Kinematic.transform.translate(this.tempSpeed);\r\n    }\r\n}\r\n\r\nexport class colliderCheck extends Script3D {\r\n    /**\r\n     * 开始触发时执行\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onTriggerEnter(other: PhysicsComponent): void {\r\n        console.log(\"triggerEnter\");\r\n    }\r\n\r\n    /**\r\n     * 持续触发时执行\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onTriggerStay(other: PhysicsComponent): void {\r\n        console.log(\"triggerStay\");\r\n    }\r\n\r\n    /**\r\n     * 结束触发时执行\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onTriggerExit(other: PhysicsComponent): void {\r\n        console.log(\"triggerExit\");\r\n    }\r\n\r\n    /**\r\n     * 开始碰撞时执行\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onCollisionEnter(collision: Collision): void {\r\n        console.log(\"collisionEnter\");\r\n    }\r\n\r\n    /**\r\n     * 持续碰撞时执行\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onCollisionStay(collision: Collision): void {\r\n        console.log(\"collisionStay\");\r\n    }\r\n\r\n    /**\r\n     * 结束碰撞时执行\r\n     * 此方法为虚方法，使用时重写覆盖即可\r\n     */\r\n    onCollisionExit(collision: Collision): void {\r\n        console.log(\"collisionexit\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport CannonPhysicsCollider = Laya.CannonPhysicsCollider;\r\nimport CannonBoxColliderShape = Laya.CannonBoxColliderShape;\r\nimport Transform3D = Laya.Transform3D;\r\nimport CannonRigidbody3D = Laya.CannonRigidbody3D;\r\nimport CannonSphereColliderShape = Laya.CannonSphereColliderShape;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class CannonPhysicsWorld_PhysicsProperty extends SingletonScene {\r\n    private s_scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n        Laya3D.init(0, 0, null, Handler.create(this, () => {\r\n            Config3D.useCannonPhysics = true;\r\n            // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n            // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n            // Stat.show();\r\n\r\n            this.s_scene = new Scene3D();\r\n\r\n            //初始化照相机\r\n            var camera: Camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n            camera.transform.translate(new Vector3(0, 6, 9.5));\r\n            camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n            camera.addComponent(CameraMoveScript);\r\n            camera.clearColor = null;\r\n\r\n            //方向光\r\n            var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n            directionLight.color = new Vector3(0.6, 0.6, 0.6);\r\n            //设置平行光的方向\r\n            var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n            mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n            directionLight.transform.worldMatrix = mat;\r\n            var plane: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n            var planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.AutoSetScene3d(this.s_scene);\r\n                planeMat.albedoTexture = tex;\r\n            }));\r\n            //设置材质\r\n            plane.meshRenderer.material = planeMat;\r\n            var planeCollider: CannonPhysicsCollider = plane.addComponent(CannonPhysicsCollider);\r\n            var planeShape: CannonBoxColliderShape = new CannonBoxColliderShape(20, 0.01, 20);\r\n            planeCollider.restitution = 1.0;\r\n            planeCollider.colliderShape = planeShape;\r\n            planeCollider.friction = 0.1;\r\n            //测试弹力\r\n            //实际弹力是两个解除物理组件的弹力乘积\r\n            this.addSphere(-4, 5, 0, 0, 0);\r\n            this.addSphere(-2, 5, 0, 0.5, 0);\r\n            this.addSphere(0, 5, 0, 0.9, 0);\r\n            //测试滚动阻尼\r\n            this.addSphere(2, 1, 0, 0, 0.5).linearVelocity = new Vector3(0, 0, -5);\r\n            this.addSphere(4, 1, 0, 0, 0.8).linearVelocity = (new Vector3(0, 0, -5));\r\n            //测试摩擦力区别于阻尼  是两个基础物理物体的摩擦力之和\r\n            this.addBox(6, 0.6, 0, 0.1).linearVelocity = new Vector3(0, 0, -10);\r\n            this.addBox(8, 0.6, 0, 0.5).linearVelocity = new Vector3(0, 0, -10);\r\n        }));\r\n    }\r\n\r\n    addSphere(x: number, y: number, z: number, restitution: number, damp: number) {\r\n        var radius: number = 1;\r\n        var sphere: MeshSprite3D = <MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(1)));\r\n        var sphereTransform: Transform3D = sphere.transform;\r\n        var pos: Vector3 = sphereTransform.position;\r\n        pos.setValue(x, y, z);\r\n        var scale: Vector3 = sphereTransform.getWorldLossyScale();\r\n        scale.setValue(0.5, 0.5, 0.5);\r\n        sphereTransform.setWorldLossyScale(scale);\r\n\r\n        sphereTransform.position = pos;\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = sphere.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var sphereShape: CannonSphereColliderShape = new CannonSphereColliderShape(radius);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = sphereShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n        rigidBody.restitution = restitution;\r\n        rigidBody.angularDamping = damp;\r\n        rigidBody.linearDamping = 0.1;\r\n        return rigidBody;\r\n    }\r\n    addBox(x: number, y: number, z: number, friction: number) {\r\n        var sX: number = 1;\r\n        var sY: number = 1;\r\n        var sZ: number = 1;\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(x, y, z);\r\n        transform.position = pos;\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = box.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape: CannonBoxColliderShape = new CannonBoxColliderShape(sX, sY, sZ);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n        rigidBody.friction = friction;\r\n        return rigidBody;\r\n    }\r\n\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Camera = Laya.Camera;\r\nimport Vector2 = Laya.Vector2;\r\nimport Ray = Laya.Ray;\r\nimport Vector3 = Laya.Vector3;\r\nimport Vector4 = Laya.Vector4;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport CannonPhysicsCollider = Laya.CannonPhysicsCollider;\r\nimport CannonBoxColliderShape = Laya.CannonBoxColliderShape;\r\nimport Transform3D = Laya.Transform3D;\r\nimport Event = Laya.Event;\r\nimport CannonRigidbody3D = Laya.CannonRigidbody3D;\r\nimport CannonSphereColliderShape = Laya.CannonSphereColliderShape;\r\nimport CannonCompoundColliderShape = Laya.CannonCompoundColliderShape;\r\nimport MouseManager = Laya.MouseManager;\r\nimport CannonHitResult = Laya.CannonHitResult;\r\nimport Handler = Laya.Handler;\r\n\r\n/**\r\n * 射线示例测试   点击左键 选中的物体会变红\r\n */\r\nexport class CannonPhysicsWorld_RayCheck extends SingletonScene {\r\n    private s_scene: Scene3D;\r\n    private mat1: BlinnPhongMaterial;\r\n    private mat2: BlinnPhongMaterial;\r\n    private mat3: BlinnPhongMaterial;\r\n    private camera: Camera;\r\n    private point: Vector2 = new Vector2();\r\n    private ray: Ray = new Ray(new Vector3(), new Vector3());\r\n    private colorRed: Vector4 = new Vector4(1, 0, 0, 1);\r\n    private colorWrite: Vector4 = new Vector4(1, 1, 1, 1);\r\n    private oldSelectMesh: MeshSprite3D;\r\n    constructor() {\r\n        super();\r\n        Laya3D.init(0, 0, null, Handler.create(this, () => {\r\n            Config3D.useCannonPhysics = true;\r\n            // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n            // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n            // //显示性能面板\r\n            // Stat.show();\r\n\r\n            this.s_scene = new Scene3D();\r\n\r\n            //初始化照相机\r\n            this.camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 100)));\r\n            this.camera.transform.translate(new Vector3(0, 6, 9.5));\r\n            this.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n            this.camera.addComponent(CameraMoveScript);\r\n            this.camera.clearColor = null;\r\n\r\n            //方向光\r\n            var directionLight: DirectionLight = (<DirectionLight>this.s_scene.addChild(new DirectionLight()));\r\n            directionLight.color = new Vector3(0.6, 0.6, 0.6);\r\n            //设置平行光的方向\r\n            var mat: Matrix4x4 = directionLight.transform.worldMatrix;\r\n            mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n            directionLight.transform.worldMatrix = mat;\r\n            var plane: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n            var planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/grass.png\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.AutoSetScene3d(this.s_scene);\r\n                planeMat.albedoTexture = tex;\r\n            }));\r\n            //设置纹理平铺和偏移\r\n            var tilingOffset: Vector4 = planeMat.tilingOffset;\r\n            tilingOffset.setValue(5, 5, 0, 0);\r\n            planeMat.tilingOffset = tilingOffset;\r\n            //设置材质\r\n            plane.meshRenderer.material = planeMat;\r\n            var planeCollider: CannonPhysicsCollider = plane.addComponent(CannonPhysicsCollider);\r\n            var planeShape: CannonBoxColliderShape = new CannonBoxColliderShape(20, 0.01, 20);\r\n            planeCollider.colliderShape = planeShape;\r\n            planeCollider.friction = 2;\r\n            planeCollider.restitution = 0.3;\r\n            this.mat1 = new BlinnPhongMaterial();\r\n            this.mat2 = new BlinnPhongMaterial();\r\n            this.mat3 = new BlinnPhongMaterial();\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/rocks.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat1.albedoTexture = tex;\r\n            }));\r\n\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/plywood.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat2.albedoTexture = tex;\r\n            }));\r\n\r\n            Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/Physics/wood.jpg\", Handler.create(this, function (tex: Texture2D): void {\r\n                this.mat3.albedoTexture = tex;\r\n            }));\r\n\r\n            this.addBox();\r\n            this.addSphere();\r\n            this.addCompoundColliderShape();\r\n            Laya.stage.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        }));\r\n    }\r\n    addBox() {\r\n        var sX: number = 1;\r\n        var sY: number = 1;\r\n        var sZ: number = 1;\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n        box.name = \"box\";\r\n        //设置材质\r\n        box.meshRenderer.material = this.mat1;\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(-5, 5, 0);\r\n        transform.position = pos;\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = box.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape: CannonBoxColliderShape = new CannonBoxColliderShape(sX, sY, sZ);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    addSphere() {\r\n        var radius: number = 1;\r\n        var sphere: MeshSprite3D = <MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(1)));\r\n        sphere.name = \"sphere\";\r\n        sphere.meshRenderer.material = this.mat2;\r\n        var sphereTransform: Transform3D = sphere.transform;\r\n        var pos: Vector3 = sphereTransform.position;\r\n        pos.setValue(0, 5, 0);\r\n\r\n        sphereTransform.position = pos;\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = sphere.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var sphereShape: CannonSphereColliderShape = new CannonSphereColliderShape(radius);\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = sphereShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    addCompoundColliderShape() {\r\n        var mesh: MeshSprite3D = this.addMeshBox(5, 5, 0);\r\n        mesh.name = \"compound\"\r\n        var scale: Vector3 = mesh.transform.getWorldLossyScale();\r\n        //测试Scale\r\n        scale.setValue(0.5, 0.5, 0.5);\r\n        mesh.transform.setWorldLossyScale(scale);\r\n        this.s_scene.addChild(mesh);\r\n        //创建刚体碰撞器\r\n        var rigidBody: CannonRigidbody3D = mesh.addComponent(CannonRigidbody3D);\r\n        //创建盒子形状碰撞器\r\n        var boxShape0: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape1: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape2: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n        var boxShape3: CannonBoxColliderShape = new CannonBoxColliderShape(1, 1, 1);\r\n\r\n        var boxCompoundShape: CannonCompoundColliderShape = new CannonCompoundColliderShape();\r\n        (<any>boxCompoundShape).addChildShape(boxShape0, new Vector3(0.5, 0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape1, new Vector3(0.5, -0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape2, new Vector3(-0.5, 0.5, 0));\r\n        (<any>boxCompoundShape).addChildShape(boxShape3, new Vector3(-0.5, -0.5));\r\n        //设置盒子的碰撞形状\r\n        rigidBody.colliderShape = boxCompoundShape;\r\n        //设置刚体的质量\r\n        rigidBody.mass = 10;\r\n    }\r\n    addMeshBox(x: number, y: number, z: number): MeshSprite3D {\r\n        var sX: number = 2;\r\n        var sY: number = 2;\r\n        var sZ: number = 1;\r\n        //创建盒型MeshSprite3D\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.s_scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n        //设置材质\r\n        box.meshRenderer.material = this.mat3;\r\n        var transform: Transform3D = box.transform;\r\n        var pos: Vector3 = transform.position;\r\n        pos.setValue(x, y, z);\r\n        transform.position = pos;\r\n        return box;\r\n    }\r\n\r\n    mouseDown() {\r\n        this.point.x = MouseManager.instance.mouseX;\r\n        this.point.y = MouseManager.instance.mouseY;\r\n        //产生射线\r\n        this.camera.viewportPointToRay(this.point, this.ray);\r\n        var out: CannonHitResult = new CannonHitResult();\r\n        this.s_scene.cannonPhysicsSimulation.rayCast(this.ray, out);\r\n        if (out.succeeded) {\r\n\r\n            var selectSprite3D: MeshSprite3D = <MeshSprite3D>out.collider.owner;\r\n            (<BlinnPhongMaterial>selectSprite3D.meshRenderer.sharedMaterial).albedoColor = this.colorRed;\r\n            if (this.oldSelectMesh)\r\n                if (selectSprite3D != this.oldSelectMesh)\r\n                    (<BlinnPhongMaterial>this.oldSelectMesh.meshRenderer.sharedMaterial).albedoColor = this.colorWrite;\r\n            this.oldSelectMesh = selectSprite3D;\r\n        }\r\n\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { CannonPhysicsWorld_BaseCollider } from \"./CannonPhysicsWorld_BaseCollider\";\r\nimport { CannonPhysicsWorld_ColliderEvent } from \"./CannonPhysicsWorld_ColliderEvent\";\r\nimport { CannonPhysicsWorld_PhysicsProperty } from \"./CannonPhysicsWorld_PhysicsProperty\";\r\nimport { CannonPhysicsWorld_RayCheck } from \"./CannonPhysicsWorld_RayCheck\";\r\n\r\nexport class CannonPhysics3DMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"基础碰撞器\", \"碰撞事件\", \"物理属性\", \"射线检测\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                CannonPhysicsWorld_BaseCollider.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                CannonPhysicsWorld_ColliderEvent.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                CannonPhysicsWorld_PhysicsProperty.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                CannonPhysicsWorld_RayCheck.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class MouseInteraction extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private _camera: Laya.Camera;\r\n    private _ray: Laya.Ray;\r\n    private _outHitResult: Laya.HitResult;\r\n    private posX: number = 0.0;\r\n    private posY: number = 0.0;\r\n    private point: Laya.Vector2 = new Laya.Vector2();\r\n    private text: Laya.Text = new Laya.Text();\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        //射线初始化（必须初始化）\r\n        this._ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));\r\n\r\n        //初始化变量\r\n        this.point = new Laya.Vector2();\r\n        this._outHitResult = new Laya.HitResult();\r\n\r\n        //添加相机\r\n        this._camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(this._camera);\r\n        this._camera.transform.translate(new Laya.Vector3(0, 0.7, 5));\r\n        this._camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        this._camera.addComponent(CameraMoveScript);\r\n\r\n        //添加光照\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n\r\n\r\n        //批量预加载资源\r\n        Laya.loader.create([\r\n            GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\",\r\n            GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n        ], Laya.Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    onComplete() {\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        //加载地面\r\n        var grid = this.s_scene.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\")) as Laya.Sprite3D;\r\n        //指定精灵的图层\r\n        grid.layer = 10;\r\n        //加载静态小猴子\r\n        var staticLayaMonkey = new Laya.MeshSprite3D(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\"));\r\n        this.s_scene.addChild(staticLayaMonkey);\r\n        //设置材质\r\n        staticLayaMonkey.meshRenderer.material = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\");\r\n        //设置位置\r\n        staticLayaMonkey.transform.position = new Laya.Vector3(0, 0, 0.5);\r\n        //设置缩放\r\n        staticLayaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n        //设置旋转\r\n        staticLayaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n        //克隆sprite3d\r\n        var layaMonkey_clone1 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, new Laya.Vector3(0.0, 0, 0.5)) as Laya.MeshSprite3D;\r\n        var layaMonkey_clone2 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, new Laya.Vector3(0.0, 0, 0.5)) as Laya.MeshSprite3D;\r\n        var layaMonkey_clone3 = Laya.Sprite3D.instantiate(staticLayaMonkey, this.s_scene, false, new Laya.Vector3(0.0, 0, 0.5)) as Laya.MeshSprite3D;\r\n        //设置精灵名字\r\n        staticLayaMonkey.name = \"大熊\";\r\n        layaMonkey_clone1.name = \"二熊\";\r\n        layaMonkey_clone2.name = \"三熊\";\r\n        layaMonkey_clone3.name = \"小小熊\";\r\n\r\n        //平移\r\n        layaMonkey_clone1.transform.translate(new Laya.Vector3(1.5, 0, 0.0));\r\n        layaMonkey_clone2.transform.translate(new Laya.Vector3(-1.5, 0, 0.0));\r\n        layaMonkey_clone3.transform.translate(new Laya.Vector3(2.5, 0, 0.0));\r\n        //旋转\r\n        layaMonkey_clone2.transform.rotate(new Laya.Vector3(0, 60, 0), false, false);\r\n        //缩放\r\n        var scale = new Laya.Vector3(0.1, 0.1, 0.1);\r\n        layaMonkey_clone3.transform.localScale = scale;\r\n\r\n        //给模型添加碰撞组件\r\n        var meshCollider = staticLayaMonkey.addComponent(Laya.PhysicsCollider);\r\n        //创建网格碰撞器\r\n        var meshShape = new Laya.MeshColliderShape();\r\n        //获取模型的mesh\r\n        meshShape.mesh = staticLayaMonkey.meshFilter.sharedMesh;\r\n        //设置模型的碰撞形状\r\n        meshCollider.colliderShape = meshShape;\r\n\r\n        var meshCollider1 = layaMonkey_clone1.addComponent(Laya.PhysicsCollider);\r\n        var meshShape1 = new Laya.MeshColliderShape();\r\n        meshShape1.mesh = layaMonkey_clone1.meshFilter.sharedMesh;\r\n        meshCollider1.colliderShape = meshShape1;\r\n\r\n        var meshCollider2 = layaMonkey_clone2.addComponent(Laya.PhysicsCollider);\r\n        var meshShape2 = new Laya.MeshColliderShape();\r\n        meshShape2.mesh = layaMonkey_clone2.meshFilter.sharedMesh;\r\n        meshCollider2.colliderShape = meshShape2;\r\n\r\n        var meshCollider3 = layaMonkey_clone3.addComponent(Laya.PhysicsCollider);\r\n        var meshShape3 = new Laya.MeshColliderShape();\r\n        meshShape3.mesh = layaMonkey_clone3.meshFilter.sharedMesh;\r\n        meshCollider3.colliderShape = meshShape3;\r\n\r\n        //设置文本显示框位置\r\n        this.text.x = Laya.stage.width / 2 - 50;\r\n        //显示文本显示框\r\n        this.text = new Laya.Text();\r\n        this.text.overflow = Laya.Text.HIDDEN;\r\n        this.text.color = \"#FFFFFF\";\r\n        this.text.font = \"Impact\";\r\n        this.text.fontSize = 20;\r\n        this.text.x = Laya.stage.width / 2;\r\n        Laya.stage.addChild(this.text);\r\n\r\n        //添加鼠标事件\r\n        this.addMouseEvent();\r\n    }\r\n    addMouseEvent() {\r\n        //鼠标事件监听\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    }\r\n    onMouseDown() {\r\n        this.point.x = Laya.MouseManager.instance.mouseX;\r\n        this.point.y = Laya.MouseManager.instance.mouseY;\r\n        //产生射线\r\n        this._camera.viewportPointToRay(this.point, this._ray);\r\n        //拿到射线碰撞的物体\r\n        this.s_scene.physicsSimulation.rayCast(this._ray, this._outHitResult);\r\n        //如果碰撞到物体\r\n        if (this._outHitResult.succeeded) {\r\n            //删除碰撞到的物体\r\n            this.text.text = \"点击到了\" + this._outHitResult.collider.owner.name;\r\n        }\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.text) {\r\n            this.text.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.text) {\r\n            this.text.visible = false;\r\n        }\r\n    }\r\n}\r\n\r\nexport class SceneScript extends Laya.Script3D {\r\n    private box: Laya.MeshSprite3D;\r\n    private _albedoColor: Laya.Vector4 = new Laya.Vector4(0.0, 0.0, 0.0, 1.0)\r\n    constructor() {\r\n        super();\r\n        this.box = null;\r\n    }\r\n    onAwake() {\r\n        this.box = this.owner as Laya.MeshSprite3D;\r\n    }\r\n    onUpdate() {\r\n    }\r\n    //物体必须拥有碰撞组件（Collider）\r\n    //当被鼠标点击\r\n    onMouseDown() {\r\n    }\r\n    //当产生碰撞\r\n    onCollisionEnter(collision) {\r\n        (this.box.meshRenderer.sharedMaterial as Laya.BlinnPhongMaterial).albedoColor = this._albedoColor;\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class MultiTouch extends SingletonScene {\r\n    private text: Laya.Text;\r\n    private infoText: Laya.Text;\r\n    private _upVector3: Laya.Vector3 = new Laya.Vector3(0, 1, 0);\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya.alertGlobalError(true);\r\n        this._upVector3 = new Laya.Vector3(0, 1, 0);\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n\r\n        //预加载所有资源\r\n        var resource = [GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n        Laya.loader.create(resource, Laya.Handler.create(this, this.onComplete));\r\n    }\r\n    onComplete() {\r\n        //创建场景\r\n        var scene = new Laya.Scene3D();\r\n        this.AutoSetScene3d(scene);\r\n        //创建相机\r\n        var camera = new Laya.Camera(0, 0.1, 100);\r\n        scene.addChild(camera);\r\n        //设置相机的名称\r\n        camera.name = \"camera\";\r\n        //相机平移位置\r\n        camera.transform.translate(new Laya.Vector3(0, 0.8, 1.5));\r\n        //旋转相机\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        //创建平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        scene.addChild(directionLight);\r\n        //设置平行光颜色\r\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\r\n\r\n        //加载小猴子精灵\r\n        var monkey = Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\");\r\n        //猴子精灵添加组件（脚本）\r\n        monkey.addComponent(MonkeyScript);\r\n        scene.addChild(monkey);\r\n        //设置相机的观察目标为小猴子\r\n        camera.transform.lookAt(monkey.transform.position, new Laya.Vector3(0, 1, 0));\r\n\r\n        //设置文本显示框位置\r\n        this.text = new Laya.Text();\r\n        this.text.x = Laya.stage.width / 2 - 100;\r\n        this.text.y = 50;\r\n        this.text.text = \"触控点归零\";\r\n        this.text.name = \"ceshi\";\r\n        this.text.overflow = Laya.Text.HIDDEN;\r\n        this.text.color = \"#FFFFFF\";\r\n        this.text.font = \"Impact\";\r\n        this.text.fontSize = 20;\r\n        this.text.borderColor = \"#FFFF00\";\r\n        Laya.stage.addChild(this.text);\r\n\r\n        //设置操作提示框\r\n        this.infoText = new Laya.Text();\r\n        this.infoText.x = Laya.stage.width / 2 - 100;\r\n        this.infoText.text = \"单指旋转，双指缩放\";\r\n        this.infoText.overflow = Laya.Text.HIDDEN;\r\n        this.infoText.color = \"#FFFFFF\";\r\n        this.infoText.font = \"Impact\";\r\n        this.infoText.fontSize = 20;\r\n        this.infoText.borderColor = \"#FFFF00\";\r\n        Laya.stage.addChild(this.infoText);\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.text) {\r\n            this.text.visible = true;\r\n        }\r\n\r\n        if (this.infoText) {\r\n            this.infoText.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.text) {\r\n            this.text.visible = false;\r\n        }\r\n\r\n        if (this.infoText) {\r\n            this.infoText.visible = false;\r\n        }\r\n    }\r\n}\r\n\r\nexport class MonkeyScript extends Laya.Script3D {\r\n    private _scene: Laya.Scene3D;\r\n    private _text: Laya.Text;\r\n    private _camera: Laya.Camera;\r\n    private rotation: Laya.Vector3;\r\n    private lastPosition: Laya.Vector2;\r\n    private distance: number = 0.0;\r\n    private disVector1: Laya.Vector2;\r\n    private disVector2: Laya.Vector2;\r\n    private isTwoTouch: boolean;\r\n    private first: boolean;\r\n    private twoFirst: boolean;\r\n    private sprite3DSacle: Laya.Vector3 = new Laya.Vector3();\r\n    constructor() {\r\n        super();\r\n        this._scene = null;\r\n        this._text = null;\r\n        this._camera = null;\r\n        this.rotation = new Laya.Vector3(0, 0.01, 0);\r\n        this.lastPosition = new Laya.Vector2(0, 0);\r\n        this.distance = 0.0;\r\n        this.disVector1 = new Laya.Vector2(0, 0);\r\n        this.disVector2 = new Laya.Vector2(0, 0);\r\n        this.isTwoTouch = false;\r\n        this.first = true;\r\n        this.twoFirst = true;\r\n    }\r\n    onStart() {\r\n        this._scene = this.owner.parent as Laya.Scene3D;\r\n        this._text = this._scene.parent.getChildByName(\"ceshi\") as Laya.Text;\r\n        this._camera = this._scene.getChildByName(\"camera\") as Laya.Camera;\r\n    }\r\n    onUpdate() {\r\n        var touchCount = this._scene.input.touchCount();\r\n        if (1 === touchCount) {\r\n            //判断是否为两指触控，撤去一根手指后引发的touchCount===1\r\n            if (this.isTwoTouch) {\r\n                return;\r\n            }\r\n            this._text.text = \"触控点为1\";\r\n            //获取当前的触控点，数量为1\r\n            var touch = this._scene.input.getTouch(0);\r\n            //是否为新一次触碰，并未发生移动\r\n            if (this.first) {\r\n                //获取触碰点的位置\r\n                this.lastPosition.x = touch.position.x;\r\n                this.lastPosition.y = touch.position.y;\r\n                this.first = false;\r\n            }\r\n            else {\r\n                //移动触碰点\r\n                var deltaY = touch.position.y - this.lastPosition.y;\r\n                var deltaX = touch.position.x - this.lastPosition.x;\r\n                this.lastPosition.x = touch.position.x;\r\n                this.lastPosition.y = touch.position.y;\r\n                //根据移动的距离进行旋转\r\n                (this.owner as Laya.Sprite3D).transform.rotate(new Laya.Vector3(1 * deltaY / 2, 1 * deltaX / 2, 0), true, false);\r\n            }\r\n        }\r\n        else if (2 === touchCount) {\r\n            this._text.text = \"触控点为2\";\r\n            this.isTwoTouch = true;\r\n            //获取两个触碰点\r\n            var touch = this._scene.input.getTouch(0);\r\n            var touch2 = this._scene.input.getTouch(1);\r\n            //是否为新一次触碰，并未发生移动\r\n            if (this.twoFirst) {\r\n                //获取触碰点的位置\r\n                this.disVector1.x = touch.position.x - touch2.position.x;\r\n                this.disVector1.y = touch.position.y - touch2.position.y;\r\n                this.distance = Laya.Vector2.scalarLength(this.disVector1);\r\n                this.sprite3DSacle = (this.owner as Laya.Sprite3D).transform.scale;\r\n                this.twoFirst = false;\r\n            }\r\n            else {\r\n                this.disVector2.x = touch.position.x - touch2.position.x;\r\n                this.disVector2.y = touch.position.y - touch2.position.y;\r\n                var distance2 = Laya.Vector2.scalarLength(this.disVector2);\r\n                //根据移动的距离进行缩放\r\n                let factor = 0.001 * (distance2 - this.distance);\r\n                this.sprite3DSacle.x += factor;\r\n                this.sprite3DSacle.y += factor;\r\n                this.sprite3DSacle.z += factor;\r\n                (this.owner as Laya.Sprite3D).transform.scale = this.sprite3DSacle;\r\n                this.distance = distance2;\r\n            }\r\n        }\r\n        else if (0 === touchCount) {\r\n            this._text.text = \"触控点归零\";\r\n            this.first = true;\r\n            this.twoFirst = true;\r\n            this.lastPosition.x = 0;\r\n            this.lastPosition.y = 0;\r\n            this.isTwoTouch = false;\r\n        }\r\n    }\r\n    onLateUpdate() {\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { MouseInteraction } from \"./MouseInteraction\";\r\nimport { MultiTouch } from \"./MultiTouch\";\r\n\r\nexport class MouseInteractionMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"鼠标交互\", \"多点触控\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                MouseInteraction.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                MultiTouch.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class ScriptDemo extends SingletonScene {\r\n    private _translate = new Laya.Vector3(0, 3, 3);\r\n    private _rotation = new Laya.Vector3(-30, 0, 0);\r\n    private _rotation2 = new Laya.Vector3(0, 45, 0);\r\n    private _forward = new Laya.Vector3(1, -1, 0);\r\n    private s_scene: Laya.Scene3D;\r\n\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // //适配模式\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //开启统计信息\r\n        // Laya.Stat.show();\r\n        super();\r\n        //添加3D场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        //添加照相机\r\n        var camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;\r\n        //移动摄影机位置\r\n        camera.transform.translate(this._translate);\r\n        //旋转摄影机方向\r\n        camera.transform.rotate(this._rotation, true, false);\r\n        //设置背景颜色\r\n        camera.clearColor = null;\r\n        //添加方向光\r\n        var directionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        //设置灯光漫反射颜色\r\n        var lightColor = directionLight.color;\r\n        lightColor.setValue(0.6, 0.6, 0.6);\r\n        //设置灯光的方向（弧度）\r\n        var mat = directionLight.transform.worldMatrix;\r\n        mat.setForward(this._forward);\r\n        directionLight.transform.worldMatrix = mat;\r\n        //添加自定义模型\r\n        var box = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1), \"MOs\")) as Laya.MeshSprite3D;\r\n        //设置模型的旋转\r\n        box.transform.rotate(this._rotation2, false, false);\r\n        //创建材质\r\n        var material = new Laya.PBRSpecularMaterial();\r\n\r\n        //加载模型的材质贴图\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/layabox.png\", Laya.Handler.create(this, function (text: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            material.albedoTexture = text;\r\n            //给模型添加材质\r\n            box.meshRenderer.material = material;\r\n            //给box添加自定义脚本组件\r\n            box.addComponent(BoxControlScript);\r\n        }));\r\n        //4秒后删除自定义组件\r\n        Laya.timer.once(4000, this, this.onLoop, [box]);\r\n    }\r\n\r\n    private onLoop(box: Laya.MeshSprite3D): void {\r\n        console.log(\"移除组件\");\r\n        // 获取到组件\r\n        var boxContro = box.getComponent(BoxControlScript);\r\n        // 移除组件\r\n        boxContro.destroy();\r\n        //如不想移除组件，可设置为不启用能达到同样效果（组件_update方法将不会被更新）\r\n        //boxContro.enabled = false;\r\n    }\r\n}\r\n\r\nexport class BoxControlScript extends Laya.Script3D {\r\n    private box: Laya.MeshSprite3D;\r\n    private _albedoColor = new Laya.Vector4(1, 0, 0, 1);\r\n    private _rotation = new Laya.Vector3(0, 0.5, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 覆写3D对象组件被激活后执行，此时所有节点和组件均已创建完毕，此方法只执行一次\r\n     */\r\n    public onAwake(): void {\r\n        //得到3D对象\r\n        this.box = this.owner as Laya.MeshSprite3D;\r\n    }\r\n\r\n    public onStart(): void {\r\n        //得到3D对象的材质\r\n        var material = this.box.meshRenderer.material as Laya.PBRSpecularMaterial;\r\n        //更改3D对象的材质反射率 （偏红）\r\n        material.albedoColor = this._albedoColor;\r\n    }\r\n\r\n    /**\r\n     * 覆写组件更新方法（相当于帧循环）\r\n     */\r\n    public onUpdate(): void {\r\n        //所属脚本对象旋转更新\r\n        this.box.transform.rotate(this._rotation, false, false)\r\n    }\r\n\r\n    public onDisable() {\r\n        console.log(\"组件设置为不可用\");\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { ScriptDemo } from \"./ScriptDemo\";\r\n\r\nexport class ScriptMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"脚本示例\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                ScriptDemo.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Sky_SkyBox extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        this.camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        this.camera.transform.rotate(new Laya.Vector3(10, 0, 0), true, false);\r\n        this.camera.addComponent(CameraMoveScript);\r\n        this.camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n\r\n        //天空盒\r\n        Laya.BaseMaterial.load(GlobalConfig.ResPath + \"res/threeDimen/skyBox/DawnDusk/SkyBox.lmat\", Laya.Handler.create(this, function (mat: Laya.SkyBoxMaterial): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            var skyRenderer: Laya.SkyRenderer = this.s_scene.skyRenderer;\r\n            skyRenderer.mesh = Laya.SkyBox.instance;\r\n            skyRenderer.material = mat;\r\n            Laya.timer.frameLoop(1, this, this.onFrameLoop);\r\n            Laya.timer.frameLoop(1, this, function (): void {\r\n                this.s_scene.skyRenderer.material.exposure = Math.sin(this.exposureNumber += 0.01) + 1;\r\n                this.s_scene.skyRenderer.material.rotation += 0.01;\r\n            });\r\n        }))\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Sky_Procedural extends SingletonScene {\r\n    private directionLight: Laya.DirectionLight;\r\n    private rotation: Laya.Vector3;\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // //初始化3D配置\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        //初始化3D场景\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        //初始化相机并设置清除标记为天空\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.addComponent(CameraMoveScript);\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SKY;\r\n\r\n        //初始化平行光\r\n        this.directionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        var mat = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n        this.rotation = new Laya.Vector3(-0.01, 0, 0);\r\n\r\n        //初始化天空渲染器\r\n        var skyRenderer: Laya.SkyRenderer = this.s_scene.skyRenderer;\r\n        skyRenderer.mesh = Laya.SkyDome.instance;\r\n        skyRenderer.material = new Laya.SkyProceduralMaterial();\r\n        //旋转平行光,模拟太阳轨迹\r\n        Laya.timer.frameLoop(1, this, this.onFrameLoop);\r\n\r\n        this.AutoSetScene3d(this.s_scene);\r\n    }\r\n\r\n    onFrameLoop() {\r\n        this.directionLight.transform.rotate(this.rotation);\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { Sky_SkyBox } from \"./Sky_SkyBox\";\r\nimport { Sky_Procedural } from \"./Sky_Procedural\";\r\n\r\nexport class SkyMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"天空盒\", \"程序化天空\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                Sky_SkyBox.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                Sky_Procedural.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Particle_EternalLight extends SingletonScene {\r\n    s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 2, 4));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/particle/ETF_Eternal_Light.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(sprite) as Laya.Sprite3D;\r\n        }))\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Particle_BurningGround extends SingletonScene {\r\n    s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 2, 4));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/particle/ETF_Burning_Ground.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(sprite) as Laya.Sprite3D;\r\n        }))\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { Particle_EternalLight } from \"./ParticleEternalLight\";\r\nimport { Particle_BurningGround } from \"./Particle_BurningGround\";\r\n\r\nexport class Particle3DMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"永恒之光\", \"燃烧大地\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                Particle_EternalLight.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                Particle_BurningGround.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class TrailRender extends SingletonScene{\r\n    s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n\r\n        //加载场景\r\n        this.s_scene = new Laya.Scene3D();\r\n    \r\n        //加载相机\r\n        var camera = new Laya.Camera(0, 0.1, 1000);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.translate(new Laya.Vector3(0, 8, 10));\r\n        camera.transform.rotate(new Laya.Vector3(-45, 0, 0), true, false);\r\n        //设置相机清除标识为固定颜色\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_SOLIDCOLOR;\r\n\r\n        //创建平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        //设置平行光颜色\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-Math.PI / 3, 0, 0));\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\", Laya.Handler.create(this, function (plane: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(plane);\r\n        }));\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/trail/Cube.lh\", Laya.Handler.create(this, function (sprite: Laya.Sprite3D): void {\r\n            this.s_scene.addChild(sprite);\r\n        }));\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { TrailRender } from \"./TrailRender\";\r\n\r\nexport class TrailMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"拖尾示例\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                TrailRender.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","export class CustomMaterial extends Laya.Material {\r\n    static DIFFUSETEXTURE: any;\r\n    static MARGINALCOLOR: any;\r\n    constructor() {\r\n        super();\r\n        this.setShaderName(\"CustomShader\");\r\n        CustomMaterial.DIFFUSETEXTURE = Laya.Shader3D.propertyNameToID(\"u_texture\");\r\n        CustomMaterial.MARGINALCOLOR = Laya.Shader3D.propertyNameToID(\"u_marginalColor\");\r\n    }\r\n    //æ¼«åå°„è´´å›¾çš„å­˜å–å‡½æ•°\r\n    get diffuseTexture() {\r\n        return this._shaderValues.getTexture(CustomMaterial.DIFFUSETEXTURE);\r\n    }\r\n    set diffuseTexture(value) {\r\n        this._shaderValues.setTexture(CustomMaterial.DIFFUSETEXTURE, value);\r\n    }\r\n    //è®¾ç½®marginalColorï¼ˆè¾¹ç¼˜å…‰ç…§é¢œè‰²ï¼‰\r\n    set marginalColor(value) {\r\n        this._shaderValues.setVector(CustomMaterial.MARGINALCOLOR, value);\r\n    }\r\n\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { CustomMaterial } from \"../common/CustomMaterial\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nexport class Shader_Simple extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.initShader();\r\n        this.s_scene = new Laya.Scene3D();\r\n    \r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1.5));\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            \r\n            var layaMonkey: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            layaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n            layaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n            var customMaterial: CustomMaterial = new CustomMaterial();\r\n            layaMonkey.meshRenderer.sharedMaterial = customMaterial;\r\n\r\n            Laya.timer.frameLoop(1, this, function (): void {\r\n                layaMonkey.transform.rotate(this.rotation, false);\r\n            });\r\n        }));\r\n\r\n    }\r\n    private initShader(): void {\r\n        var attributeMap: Object = {\r\n            'a_Position': Laya.VertexMesh.MESH_POSITION0,\r\n            'a_Normal': Laya.VertexMesh.MESH_NORMAL0\r\n        };\r\n        var uniformMap: Object = {\r\n            'u_MvpMatrix': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_WorldMat': Laya.Shader3D.PERIOD_SPRITE\r\n        };\r\n        var vs: string = `\r\n        #include \"Lighting.glsl\"; \r\n        attribute vec4 a_Position;\r\n        uniform mat4 u_MvpMatrix;\r\n        uniform mat4 u_WorldMat;\r\n        attribute vec3 a_Normal;\r\n        varying vec3 v_Normal;\r\n        void main()\r\n        {\r\n        gl_Position = u_MvpMatrix * a_Position;\r\n        mat3 worldMat=mat3(u_WorldMat);\r\n        v_Normal=worldMat*a_Normal;\r\n        gl_Position=remapGLPositionZ(gl_Position); \r\n        }`;\r\n        var ps: string = `\r\n        #ifdef FSHIGHPRECISION\r\n        precision highp float;\r\n        #else\r\n        precision mediump float;\r\n        #endif\r\n        varying vec3 v_Normal;\r\n        void main()\r\n        {\r\n        gl_FragColor=vec4(v_Normal,1.0);\r\n        }`;\r\n\r\n        var customShader: Laya.Shader3D = Laya.Shader3D.add(\"CustomShader\");\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        customShader.addSubShader(subShader);\r\n        subShader.addShaderPass(vs, ps);\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { CustomMaterial } from \"../common/CustomMaterial\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Shader_GlowingEdge extends SingletonScene {\r\n    private rotation: Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        //初始化Shader\r\n        super();\r\n        this.initShader();\r\n\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        //创建相机\r\n        var camera: Laya.Camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.85, 1.7));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n        //创建平行光\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n\r\n        //加载精灵\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/dude.lh\", Laya.Handler.create(this, function (dude: Laya.Sprite3D): void {\r\n            this.s_scene.addChild(dude);\r\n\r\n            //使用自定义材质\r\n            var customMaterial1: CustomMaterial = new CustomMaterial();\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/head.png\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n                customMaterial1.diffuseTexture = tex;\r\n            }));\r\n            customMaterial1.marginalColor = new Laya.Vector3(1, 0.7, 0);\r\n\r\n            var customMaterial2: CustomMaterial = new CustomMaterial();\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/jacket.png\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n                customMaterial2.diffuseTexture = tex;\r\n            }));\r\n            customMaterial2.marginalColor = new Laya.Vector3(1, 0.7, 0);\r\n\r\n            var customMaterial3: CustomMaterial = new CustomMaterial();\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/pants.png\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n                customMaterial3.diffuseTexture = tex;\r\n            }));\r\n            customMaterial3.marginalColor = new Laya.Vector3(1, 0.7, 0);\r\n\r\n            var customMaterial4: CustomMaterial = new CustomMaterial();\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/dude/Assets/dude/upBodyC.png\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n                customMaterial4.diffuseTexture = tex;\r\n            }));\r\n\r\n            //设置边缘颜色\r\n            customMaterial4.marginalColor = new Laya.Vector3(1, 0.7, 0);\r\n\r\n            var baseMaterials: Array<Laya.Material> = new Array<Laya.Material>();\r\n            baseMaterials[0] = customMaterial1;\r\n            baseMaterials[1] = customMaterial2;\r\n            baseMaterials[2] = customMaterial3;\r\n            baseMaterials[3] = customMaterial4;\r\n\r\n            (dude.getChildAt(0).getChildAt(0) as Laya.SkinnedMeshSprite3D).skinnedMeshRenderer.sharedMaterials = baseMaterials;\r\n            dude.transform.position = new Laya.Vector3(0, 0.5, 0);\r\n            dude.transform.scale = new Laya.Vector3(0.2, 0.2, 0.2);\r\n            dude.transform.rotate(new Laya.Vector3(0, 180, 0), false, false);\r\n        }));\r\n\r\n        //加载地球精灵\r\n        var earth: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(0.5, 128, 128))) as Laya.MeshSprite3D;\r\n\r\n        var customMaterial: CustomMaterial = new CustomMaterial();\r\n        Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/texture/earth.png\", Laya.Handler.create(this, function (tex: Laya.Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            customMaterial.diffuseTexture = tex;\r\n        }));\r\n        customMaterial.marginalColor = new Laya.Vector3(0.0, 0.3, 1.0);\r\n        earth.meshRenderer.sharedMaterial = customMaterial;\r\n\r\n        Laya.timer.frameLoop(1, this, function (): void {\r\n            earth.transform.rotate(this.rotation, true);\r\n        });\r\n    }\r\n    private initShader(): void {\r\n        var attributeMap: Object = {\r\n            'a_Position': Laya.VertexMesh.MESH_POSITION0,\r\n            'a_Normal': Laya.VertexMesh.MESH_NORMAL0,\r\n            'a_Texcoord': Laya.VertexMesh.MESH_TEXTURECOORDINATE0,\r\n            'a_BoneWeights': Laya.VertexMesh.MESH_BLENDWEIGHT0,\r\n            'a_BoneIndices': Laya.VertexMesh.MESH_BLENDINDICES0\r\n        };\r\n        var uniformMap: Object = {\r\n            'u_Bones': Laya.Shader3D.PERIOD_CUSTOM,\r\n            'u_CameraPos': Laya.Shader3D.PERIOD_CAMERA,\r\n            'u_MvpMatrix': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_WorldMat': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_texture': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_marginalColor': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_SunLight.color': Laya.Shader3D.PERIOD_SCENE,\r\n        };\r\n        var vs: string = `\r\n        #include \"Lighting.glsl\";\r\n        attribute vec4 a_Position;\r\n        attribute vec2 a_Texcoord;\r\n        attribute vec3 a_Normal;\r\n        uniform mat4 u_MvpMatrix;\r\n        uniform mat4 u_WorldMat;\r\n        varying vec2 v_Texcoord;\r\n        varying vec3 v_Normal;\r\n        #ifdef BONE\r\n        attribute vec4 a_BoneIndices;\r\n        attribute vec4 a_BoneWeights;\r\n        const int c_MaxBoneCount = 24;\r\n        uniform mat4 u_Bones[c_MaxBoneCount];\r\n        #endif\r\n        #if defined(DIRECTIONLIGHT)\r\n        varying vec3 v_PositionWorld;\r\n        #endif\r\n        void main()\r\n        {\r\n        #ifdef BONE\r\n        mat4 skinTransform=mat4(0.0);\r\n        skinTransform += u_Bones[int(a_BoneIndices.x)] * a_BoneWeights.x;\r\n        skinTransform += u_Bones[int(a_BoneIndices.y)] * a_BoneWeights.y;\r\n        skinTransform += u_Bones[int(a_BoneIndices.z)] * a_BoneWeights.z;\r\n        skinTransform += u_Bones[int(a_BoneIndices.w)] * a_BoneWeights.w;\r\n        vec4 position = skinTransform * a_Position;\r\n        gl_Position=u_MvpMatrix * position;\r\n        mat3 worldMat=mat3(u_WorldMat * skinTransform);\r\n        #else\r\n        gl_Position=u_MvpMatrix * a_Position;\r\n        mat3 worldMat=mat3(u_WorldMat);\r\n        #endif\r\n        v_Texcoord=a_Texcoord;\r\n        v_Normal=worldMat*a_Normal;\r\n        #if defined(DIRECTIONLIGHT)\r\n        #ifdef BONE\r\n        v_PositionWorld=(u_WorldMat*position).xyz;\r\n        #else\r\n        v_PositionWorld=(u_WorldMat*a_Position).xyz;\r\n        #endif\r\n        #endif\r\n        gl_Position=remapGLPositionZ(gl_Position); \r\n        }`;\r\n        var ps: string = `\r\n        #ifdef FSHIGHPRECISION\r\n            precision highp float;\r\n        #else\r\n            precision mediump float;\r\n        #endif\r\n        #include \"Lighting.glsl\";\r\n        varying vec2 v_Texcoord;\r\n        uniform sampler2D u_texture;\r\n        uniform vec3 u_marginalColor;\r\n        varying vec3 v_Normal;\r\n        #if defined(DIRECTIONLIGHT)\r\n            uniform vec3 u_CameraPos;\r\n            varying vec3 v_PositionWorld;\r\n            uniform DirectionLight u_SunLight;\r\n        #endif\r\n        void main()\r\n        {\r\n            gl_FragColor=texture2D(u_texture,v_Texcoord);\r\n            vec3 normal=normalize(v_Normal);\r\n            vec3 toEyeDir = normalize(u_CameraPos-v_PositionWorld);\r\n            float Rim = 1.0 - max(0.0,dot(toEyeDir, normal));\r\n            vec3 lightColor = u_SunLight.color;\r\n            vec3 Emissive = 2.0 * lightColor * u_marginalColor * pow(Rim,3.0);  \r\n            gl_FragColor = texture2D(u_texture, v_Texcoord) + vec4(Emissive,1.0);\r\n        }`;\r\n\r\n\r\n        //创建自定义Shader\r\n        var customShader: Laya.Shader3D = Laya.Shader3D.add(\"CustomShader\");\r\n        //为Shader添加SubShader\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        customShader.addSubShader(subShader);\r\n        //为SubShader添加ShaderPass\r\n        subShader.addShaderPass(vs, ps);\r\n    }\r\n}","export class CustomTerrainMaterial extends Laya.Material {\r\n    static SPLATALPHATEXTURE: any;\r\n    static DIFFUSETEXTURE1: any;\r\n    static DIFFUSETEXTURE2: any;\r\n    static DIFFUSETEXTURE3: any;\r\n    static DIFFUSETEXTURE4: any;\r\n    static DIFFUSETEXTURE5: any;\r\n    static DIFFUSESCALE1: any;\r\n    static DIFFUSESCALE2: any;\r\n    static DIFFUSESCALE3: any;\r\n    static DIFFUSESCALE4: any;\r\n    static DIFFUSESCALE5: any;\r\n    static SHADERDEFINE_DETAIL_NUM1: any;\r\n    static SHADERDEFINE_DETAIL_NUM2: any;\r\n    static SHADERDEFINE_DETAIL_NUM3: any;\r\n    static SHADERDEFINE_DETAIL_NUM4: any;\r\n    static SHADERDEFINE_DETAIL_NUM5: any;\r\n    constructor() {\r\n        super();\r\n        this.setShaderName(\"CustomTerrainShader\");\r\n    }\r\n    //ç»§æ‰¿è€Œæ¥çš„é™æ€å‡½æ•°\r\n    static __init__() {\r\n        //ES6å¯ä»¥å®šä¹‰é™æ€å±žæ€§ï¼Œè¿™äº›å±žæ€§æ˜¯CustomMaterialçš„å±žæ€§ï¼Œä¸å±žäºŽCustomMaterialå®žä¾‹çš„å±žæ€§ã€‚ES7ææ¡ˆå°†æ”¯æŒåœ¨classä¸­ä½¿ç”¨staticå®šä¹‰é™æ€å±žæ€§\r\n        CustomTerrainMaterial.SPLATALPHATEXTURE = Laya.Shader3D.propertyNameToID(\"u_SplatAlphaTexture\");\r\n        CustomTerrainMaterial.DIFFUSETEXTURE1 = Laya.Shader3D.propertyNameToID(\"u_DiffuseTexture1\");\r\n        CustomTerrainMaterial.DIFFUSETEXTURE2 = Laya.Shader3D.propertyNameToID(\"u_DiffuseTexture2\");\r\n        CustomTerrainMaterial.DIFFUSETEXTURE3 = Laya.Shader3D.propertyNameToID(\"u_DiffuseTexture3\");\r\n        CustomTerrainMaterial.DIFFUSETEXTURE4 = Laya.Shader3D.propertyNameToID(\"u_DiffuseTexture4\");\r\n        CustomTerrainMaterial.DIFFUSETEXTURE5 = Laya.Shader3D.propertyNameToID(\"u_DiffuseTexture5\");\r\n        CustomTerrainMaterial.DIFFUSESCALE1 = Laya.Shader3D.propertyNameToID(\"u_DiffuseScale1\");\r\n        CustomTerrainMaterial.DIFFUSESCALE2 = Laya.Shader3D.propertyNameToID(\"u_DiffuseScale2\");\r\n        CustomTerrainMaterial.DIFFUSESCALE3 = Laya.Shader3D.propertyNameToID(\"u_DiffuseScale3\");\r\n        CustomTerrainMaterial.DIFFUSESCALE4 = Laya.Shader3D.propertyNameToID(\"u_DiffuseScale4\");\r\n        CustomTerrainMaterial.DIFFUSESCALE5 = Laya.Shader3D.propertyNameToID(\"u_DiffuseScale5\");\r\n        //å£°æ˜Žæ³¨å†Œå®\r\n        CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM1 = Laya.Shader3D.getDefineByName(\"CUSTOM_DETAIL_NUM1\");\r\n        CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM2 = Laya.Shader3D.getDefineByName(\"CUSTOM_DETAIL_NUM2\");\r\n        CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM3 = Laya.Shader3D.getDefineByName(\"CUSTOM_DETAIL_NUM3\");\r\n        CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM4 = Laya.Shader3D.getDefineByName(\"CUSTOM_DETAIL_NUM4\");\r\n        CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM5 = Laya.Shader3D.getDefineByName(\"CUSTOM_DETAIL_NUM5\");\r\n    }\r\n    //èŽ·å–splatAlphaè´´å›¾\r\n    get splatAlphaTexture() {\r\n        return this._shaderValues.getTexture(CustomTerrainMaterial.SPLATALPHATEXTURE);\r\n    }\r\n    //è®¾ç½®splatAlphaè´´å›¾\r\n    set splatAlphaTexture(value) {\r\n        this._shaderValues.setTexture(CustomTerrainMaterial.SPLATALPHATEXTURE, value);\r\n    }\r\n    //èŽ·å–ç¬¬ä¸€å±‚diffuseTexture\r\n    get diffuseTexture1() {\r\n        return this._shaderValues.getTexture(CustomTerrainMaterial.DIFFUSETEXTURE1);\r\n    }\r\n    //è®¾ç½®ç¬¬ä¸€å±‚diffuseTexture\r\n    set diffuseTexture1(value) {\r\n        this._shaderValues.setTexture(CustomTerrainMaterial.DIFFUSETEXTURE1, value);\r\n        this._setDetailNum(1);\r\n    }\r\n    //èŽ·å–ç¬¬äºŒå±‚è´´å›¾\r\n    get diffuseTexture2() {\r\n        return this._shaderValues.getTexture(CustomTerrainMaterial.DIFFUSETEXTURE2);\r\n    }\r\n    //è®¾ç½®ç¬¬äºŒå±‚è´´å›¾ã€‚        \r\n    set diffuseTexture2(value) {\r\n        this._shaderValues.setTexture(CustomTerrainMaterial.DIFFUSETEXTURE2, value);\r\n        this._setDetailNum(2);\r\n    }\r\n    //èŽ·å–ç¬¬ä¸‰å±‚è´´å›¾\r\n    get diffuseTexture3() {\r\n        return this._shaderValues.getTexture(CustomTerrainMaterial.DIFFUSETEXTURE3);\r\n    }\r\n    //è®¾ç½®ç¬¬ä¸‰å±‚è´´å›¾\r\n    set diffuseTexture3(value) {\r\n        this._shaderValues.setTexture(CustomTerrainMaterial.DIFFUSETEXTURE3, value);\r\n        this._setDetailNum(3);\r\n    }\r\n    //èŽ·å–ç¬¬å››å±‚è´´å›¾\r\n    get diffuseTexture4() {\r\n        return this._shaderValues.getTexture(CustomTerrainMaterial.DIFFUSETEXTURE4);\r\n    }\r\n    //è®¾ç½®ç¬¬å››å±‚è´´å›¾\r\n    set diffuseTexture4(value) {\r\n        this._shaderValues.setTexture(CustomTerrainMaterial.DIFFUSETEXTURE4, value);\r\n        this._setDetailNum(4);\r\n    }\r\n    //èŽ·å–ç¬¬äº”å±‚è´´å›¾\r\n    get diffuseTexture5() {\r\n        return this._shaderValues.getTexture(CustomTerrainMaterial.DIFFUSETEXTURE5);\r\n    }\r\n    //è®¾ç½®ç¬¬å››å±‚è´´å›¾\r\n    set diffuseTexture5(value) {\r\n        this._shaderValues.setTexture(CustomTerrainMaterial.DIFFUSETEXTURE5, value);\r\n        this._setDetailNum(5);\r\n    }\r\n\r\n    setDiffuseScale1(scale1) {\r\n        this._shaderValues.setVector(CustomTerrainMaterial.DIFFUSESCALE1, scale1);\r\n    }\r\n    setDiffuseScale2(scale2) {\r\n        this._shaderValues.setVector(CustomTerrainMaterial.DIFFUSESCALE2, scale2);\r\n    }\r\n    setDiffuseScale3(scale3) {\r\n        this._shaderValues.setVector(CustomTerrainMaterial.DIFFUSESCALE3, scale3);\r\n    }\r\n    setDiffuseScale4(scale4) {\r\n        this._shaderValues.setVector(CustomTerrainMaterial.DIFFUSESCALE4, scale4);\r\n    }\r\n    setDiffuseScale5(scale5) {\r\n        this._shaderValues.setVector(CustomTerrainMaterial.DIFFUSESCALE5, scale5);\r\n    }\r\n\r\n    _setDetailNum(value) {\r\n        switch (value) {\r\n            case 1:\r\n                this._shaderValues.addDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);\r\n                break;\r\n            case 2:\r\n                this._shaderValues.addDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);\r\n                break;\r\n            case 3:\r\n                this._shaderValues.addDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);\r\n                break;\r\n            case 4:\r\n                this._shaderValues.addDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);\r\n                break;\r\n            case 5:\r\n                this._shaderValues.addDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM5);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM1);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM2);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM3);\r\n                this._shaderValues.removeDefine(CustomTerrainMaterial.SHADERDEFINE_DETAIL_NUM4);\r\n                break;\r\n        }\r\n    }\r\n    static initShader() {\r\n        CustomTerrainMaterial.__init__();\r\n        let attributeMap = {\r\n            'a_Position': Laya.VertexMesh.MESH_POSITION0,\r\n            'a_Normal': Laya.VertexMesh.MESH_NORMAL0,\r\n            'a_Texcoord0': Laya.VertexMesh.MESH_TEXTURECOORDINATE0\r\n        };\r\n        let uniformMap = {\r\n            'u_MvpMatrix': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_WorldMat': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_CameraPos': Laya.Shader3D.PERIOD_CAMERA,\r\n            'u_SplatAlphaTexture': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture1': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture2': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture3': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture4': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture5': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale1': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale2': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale3': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale4': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale5': Laya.Shader3D.PERIOD_MATERIAL\r\n        };\r\n        let vs = `\r\n            attribute vec4 a_Position;\r\n            attribute vec2 a_Texcoord0;\r\n            attribute vec3 a_Normal;\r\n            uniform mat4 u_MvpMatrix;\r\n            varying vec2 v_Texcoord0;\r\n            void main()\r\n            {\r\n                gl_Position = u_MvpMatrix * a_Position;\r\n                v_Texcoord0 = a_Texcoord0;\r\n            }`;\r\n        let ps = `\r\n            #ifdef FSHIGHPRECISION\r\n                precision highp float;\r\n            #else\r\n                precision mediump float;\r\n            #endif\r\n            uniform sampler2D u_SplatAlphaTexture;\r\n            uniform sampler2D u_DiffuseTexture1;\r\n            uniform sampler2D u_DiffuseTexture2;\r\n            uniform sampler2D u_DiffuseTexture3;\r\n            uniform sampler2D u_DiffuseTexture4;\r\n            uniform sampler2D u_DiffuseTexture5;\r\n            uniform vec2 u_DiffuseScale1;\r\n            uniform vec2 u_DiffuseScale2;\r\n            uniform vec2 u_DiffuseScale3;\r\n            uniform vec2 u_DiffuseScale4;\r\n            uniform vec2 u_DiffuseScale5;\r\n            varying vec2 v_Texcoord0;\r\n            void main()\r\n            {\r\n                #ifdef CUSTOM_DETAIL_NUM1\r\n                    vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n                    vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n                    gl_FragColor.xyz = color1.xyz * splatAlpha.r;\r\n                #elif  defined(CUSTOM_DETAIL_NUM2)\r\n                    vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n                    vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n                    vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n                    gl_FragColor.xyz = color1.xyz * splatAlpha.r + color2.xyz * (1.0 - splatAlpha.r);\r\n                #elif defined(CUSTOM_DETAIL_NUM3)\r\n                    vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n                    vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n                    vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n                    vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScale3);\r\n                    gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * (1.0 - splatAlpha.r - splatAlpha.g);\r\n                #elif defined(CUSTOM_DETAIL_NUM4)\r\n                    vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n                    vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n                    vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n                    vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScale3);\r\n                    vec4 color4 = texture2D(u_DiffuseTexture4, v_Texcoord0 * u_DiffuseScale4);\r\n                    gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * splatAlpha.b + color4.xyz * (1.0 - splatAlpha.r - splatAlpha.g - splatAlpha.b);\r\n                #elif defined(CUSTOM_DETAIL_NUM5)\r\n                    vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n                    vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n                    vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n                    vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScale3);\r\n                    vec4 color4 = texture2D(u_DiffuseTexture4, v_Texcoord0 * u_DiffuseScale4);\r\n                    vec4 color5 = texture2D(u_DiffuseTexture5, v_Texcoord0 * u_DiffuseScale5);\r\n                    gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * splatAlpha.b + color4.xyz * splatAlpha.a + color5.xyz * (1.0 - splatAlpha.r - splatAlpha.g - splatAlpha.b - splatAlpha.a);\r\n                #else\r\n                #endif\r\n            }`;\r\n\r\n        let customTerrianShader = Laya.Shader3D.add(\"CustomTerrainShader\");\r\n        let subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        customTerrianShader.addSubShader(subShader);\r\n        subShader.addShaderPass(vs, ps);\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { CustomTerrainMaterial } from \"../common/CustomTerrainMaterial\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nexport class Shader_Terrain extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.initShader();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000)) as Laya.Camera;\r\n        camera.transform.rotate(new Laya.Vector3(-18, 180, 0), false, false);\r\n        camera.transform.translate(new Laya.Vector3(-28, 20, -18), false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/Terrain/terrain_New-Part-01.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            var terrain: Laya.MeshSprite3D = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            var customMaterial: CustomTerrainMaterial = new CustomTerrainMaterial();\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/Terrain/splatAlphaTexture.png\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n                customMaterial.splatAlphaTexture = tex;\r\n            }));\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/Terrain/ground_01.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n                customMaterial.diffuseTexture1 = tex;\r\n            }));\r\n\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/Terrain/ground_02.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n                customMaterial.diffuseTexture2 = tex;\r\n            }));\r\n\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/Terrain/ground_03.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n                customMaterial.diffuseTexture3 = tex;\r\n            }));\r\n\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/Terrain/ground_04.jpg\", Laya.Handler.create(null, function (tex: Laya.Texture2D): void {\r\n                customMaterial.diffuseTexture4 = tex;\r\n            }))\r\n            customMaterial.setDiffuseScale1(new Laya.Vector2(27.92727, 27.92727));\r\n            customMaterial.setDiffuseScale2(new Laya.Vector2(13.96364, 13.96364));\r\n            customMaterial.setDiffuseScale3(new Laya.Vector2(18.61818, 18.61818));\r\n            customMaterial.setDiffuseScale4(new Laya.Vector2(13.96364, 13.96364));\r\n            terrain.meshRenderer.sharedMaterial = customMaterial;\r\n        }))\r\n\r\n    }\r\n\r\n    //--------------------------------------------------------------------------------------\r\n\r\n\r\n    private initShader(): void {\r\n\r\n        CustomTerrainMaterial.__init__();\r\n        var attributeMap: Object = {\r\n            'a_Position': Laya.VertexMesh.MESH_POSITION0,\r\n            'a_Normal': Laya.VertexMesh.MESH_NORMAL0,\r\n            'a_Texcoord0': Laya.VertexMesh.MESH_TEXTURECOORDINATE0\r\n        };\r\n        var uniformMap: Object = {\r\n            'u_MvpMatrix': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_WorldMat': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_CameraPos': Laya.Shader3D.PERIOD_CAMERA,\r\n            'u_SplatAlphaTexture': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture1': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture2': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture3': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture4': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseTexture5': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale1': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale2': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale3': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale4': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_DiffuseScale5': Laya.Shader3D.PERIOD_MATERIAL\r\n        };\r\n\r\n        var vs: string = `\r\n        #include \"Lighting.glsl\";\r\n        attribute vec4 a_Position;\r\n        attribute vec2 a_Texcoord0;\r\n        attribute vec3 a_Normal;\r\n        uniform mat4 u_MvpMatrix;\r\n        varying vec2 v_Texcoord0;\r\n        void main()\r\n        {\r\n          gl_Position = u_MvpMatrix * a_Position;\r\n          v_Texcoord0 = a_Texcoord0;\r\n          gl_Position=remapGLPositionZ(gl_Position);\r\n       }`;\r\n        var ps: string = `\r\n        #ifdef FSHIGHPRECISION\r\n        precision highp float;\r\n        #else\r\n        precision mediump float;\r\n        #endif\r\n        uniform sampler2D u_SplatAlphaTexture;\r\n        uniform sampler2D u_DiffuseTexture1;\r\n        uniform sampler2D u_DiffuseTexture2;\r\n        uniform sampler2D u_DiffuseTexture3;\r\n        uniform sampler2D u_DiffuseTexture4;\r\n        uniform sampler2D u_DiffuseTexture5;\r\n        uniform vec2 u_DiffuseScale1;\r\n        uniform vec2 u_DiffuseScale2;\r\n        uniform vec2 u_DiffuseScale3;\r\n        uniform vec2 u_DiffuseScale4;\r\n        uniform vec2 u_DiffuseScale5;\r\n        varying vec2 v_Texcoord0;\r\n        void main()\r\n        {\r\n        #ifdef CUSTOM_DETAIL_NUM1\r\n        vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n        vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n        gl_FragColor.xyz = color1.xyz * splatAlpha.r;\r\n        #elif defined(CUSTOM_DETAIL_NUM2)\r\n        vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n        vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n        vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n        gl_FragColor.xyz = color1.xyz * splatAlpha.r + color2.xyz * (1.0 - splatAlpha.r);\r\n        #elif defined(USTOM_DETAIL_NUM3)\r\n        vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n        vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n        vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n        vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScale3);\r\n        gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * (1.0 - splatAlpha.r - splatAlpha.g);\r\n        #elif defined(CUSTOM_DETAIL_NUM4)\r\n        vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n        vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n        vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n        vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScale3);\r\n        vec4 color4 = texture2D(u_DiffuseTexture4, v_Texcoord0 * u_DiffuseScale4);\r\n        gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * splatAlpha.b + color4.xyz * (1.0 - splatAlpha.r - splatAlpha.g - splatAlpha.b);\r\n        #elif defined(CUSTOM_DETAIL_NUM5)\r\n        vec4 splatAlpha = texture2D(u_SplatAlphaTexture, v_Texcoord0);\r\n        vec4 color1 = texture2D(u_DiffuseTexture1, v_Texcoord0 * u_DiffuseScale1);\r\n        vec4 color2 = texture2D(u_DiffuseTexture2, v_Texcoord0 * u_DiffuseScale2);\r\n        vec4 color3 = texture2D(u_DiffuseTexture3, v_Texcoord0 * u_DiffuseScale3);\r\n        vec4 color4 = texture2D(u_DiffuseTexture4, v_Texcoord0 * u_DiffuseScale4);\r\n        vec4 color5 = texture2D(u_DiffuseTexture5, v_Texcoord0 * u_DiffuseScale5);\r\n        gl_FragColor.xyz = color1.xyz * splatAlpha.r  + color2.xyz * splatAlpha.g + color3.xyz * splatAlpha.b + color4.xyz * splatAlpha.a + color5.xyz * (1.0 - splatAlpha.r - splatAlpha.g - splatAlpha.b - splatAlpha.a);\r\n        #else\r\n        #endif\r\n        }`;\r\n        var customTerrianShader: Laya.Shader3D = Laya.Shader3D.add(\"CustomTerrainShader\");\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        customTerrianShader.addSubShader(subShader);\r\n        subShader.addShaderPass(vs, ps);\r\n    }\r\n}","export class MultiplePassOutlineMaterial extends Laya.Material {\r\n    static ALBEDOTEXTURE: any;\r\n    static OUTLINECOLOR: any;\r\n    static OUTLINEWIDTH: any;\r\n    static OUTLINELIGHTNESS: any;\r\n    /**\r\n     * @private\r\n     */\r\n    static __init__() {\r\n    }\r\n    /**\r\n     * èŽ·å–æ¼«åå°„è´´å›¾ã€‚\r\n     * @return æ¼«åå°„è´´å›¾ã€‚\r\n     */\r\n    get albedoTexture() {\r\n        return this._shaderValues.getTexture(MultiplePassOutlineMaterial.ALBEDOTEXTURE);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®æ¼«åå°„è´´å›¾ã€‚\r\n     * @param value æ¼«åå°„è´´å›¾ã€‚\r\n     */\r\n    set albedoTexture(value) {\r\n        this._shaderValues.setTexture(MultiplePassOutlineMaterial.ALBEDOTEXTURE, value);\r\n    }\r\n    /**\r\n     * èŽ·å–çº¿æ¡é¢œè‰²\r\n     * @return çº¿æ¡é¢œè‰²\r\n     */\r\n    get outlineColor() {\r\n        return this._shaderValues.getVector(MultiplePassOutlineMaterial.OUTLINECOLOR);\r\n    }\r\n\r\n    set outlineColor(value) {\r\n        this._shaderValues.setVector(MultiplePassOutlineMaterial.OUTLINECOLOR, value);\r\n    }\r\n    /**\r\n     * èŽ·å–è½®å»“å®½åº¦ã€‚\r\n     * @return è½®å»“å®½åº¦,èŒƒå›´ä¸º0åˆ°0.05ã€‚\r\n     */\r\n    get outlineWidth() {\r\n        return this._shaderValues.getNumber(MultiplePassOutlineMaterial.OUTLINEWIDTH);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®è½®å»“å®½åº¦ã€‚\r\n     * @param value è½®å»“å®½åº¦,èŒƒå›´ä¸º0åˆ°0.05ã€‚\r\n     */\r\n    set outlineWidth(value) {\r\n        value = Math.max(0.0, Math.min(0.05, value));\r\n        this._shaderValues.setNumber(MultiplePassOutlineMaterial.OUTLINEWIDTH, value);\r\n    }\r\n\r\n    /**\r\n     * èŽ·å–è½®å»“äº®åº¦ã€‚\r\n     * @return è½®å»“äº®åº¦,èŒƒå›´ä¸º0åˆ°1ã€‚\r\n     */\r\n    get outlineLightness() {\r\n        return this._shaderValues.getNumber(MultiplePassOutlineMaterial.OUTLINELIGHTNESS);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®è½®å»“äº®åº¦ã€‚\r\n     * @param value è½®å»“äº®åº¦,èŒƒå›´ä¸º0åˆ°1ã€‚\r\n     */\r\n    set outlineLightness(value) {\r\n        value = Math.max(0.0, Math.min(1.0, value));\r\n        this._shaderValues.setNumber(MultiplePassOutlineMaterial.OUTLINELIGHTNESS, value);\r\n    }\r\n\r\n\r\n    static initShader() {\r\n        MultiplePassOutlineMaterial.__init__();\r\n        var attributeMap = {\r\n            'a_Position': Laya.VertexMesh.MESH_POSITION0,\r\n            'a_Normal': Laya.VertexMesh.MESH_NORMAL0,\r\n            'a_Texcoord0': Laya.VertexMesh.MESH_TEXTURECOORDINATE0\r\n        };\r\n        var uniformMap = {\r\n            'u_MvpMatrix': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_WorldMat': Laya.Shader3D.PERIOD_SPRITE,\r\n            'u_OutlineWidth': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_OutlineColor': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_OutlineLightness': Laya.Shader3D.PERIOD_MATERIAL,\r\n            'u_AlbedoTexture': Laya.Shader3D.PERIOD_MATERIAL\r\n        };\r\n\r\n        var customShader = Laya.Shader3D.add(\"MultiplePassOutlineShader\");\r\n        var subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        customShader.addSubShader(subShader);\r\n        let vs1 = `\r\n        attribute vec4 a_Position;\r\n        attribute vec3 a_Normal;\r\n        \r\n        uniform mat4 u_MvpMatrix; \r\n        uniform float u_OutlineWidth;\r\n\r\n        \r\n        void main() \r\n        {\r\n           vec4 position = vec4(a_Position.xyz + a_Normal * u_OutlineWidth, 1.0);\r\n           gl_Position = u_MvpMatrix * position;\r\n        }`;\r\n\r\n        let ps1 = `\r\n        #ifdef FSHIGHPRECISION\r\n            precision highp float;\r\n        #else\r\n           precision mediump float;\r\n        #endif\r\n        uniform vec4 u_OutlineColor; \r\n        uniform float u_OutlineLightness;\r\n    \r\n        void main()\r\n        {\r\n           vec3 finalColor = u_OutlineColor.rgb * u_OutlineLightness;\r\n           gl_FragColor = vec4(finalColor,0.0); \r\n        }`;\r\n\r\n        var pass1 = subShader.addShaderPass(vs1, ps1);\r\n        pass1.renderState.cull = Laya.RenderState.CULL_FRONT;\r\n        let vs2 = `\r\n        #include \"Lighting.glsl\"\r\n\r\n        attribute vec4 a_Position; \r\n        attribute vec2 a_Texcoord0;\r\n        \r\n        uniform mat4 u_MvpMatrix;\r\n        uniform mat4 u_WorldMat;\r\n        \r\n        attribute vec3 a_Normal; \r\n        varying vec3 v_Normal; \r\n        varying vec2 v_Texcoord0; \r\n        \r\n        void main() \r\n        {\r\n           gl_Position = u_MvpMatrix * a_Position;\r\n           mat3 worldMat=mat3(u_WorldMat); \r\n           v_Normal=worldMat*a_Normal; \r\n           v_Texcoord0 = a_Texcoord0;\r\n           gl_Position=remapGLPositionZ(gl_Position); \r\n        }`;\r\n        let ps2 = `\r\n        #ifdef FSHIGHPRECISION\r\n            precision highp float;\r\n        #else\r\n            precision mediump float;\r\n        #endif\r\n        varying vec2 v_Texcoord0;\r\n        varying vec3 v_Normal;\r\n        \r\n        uniform sampler2D u_AlbedoTexture;\r\n        \r\n        \r\n        void main()\r\n        {\r\n           vec4 albedoTextureColor = vec4(1.0);\r\n           \r\n           albedoTextureColor = texture2D(u_AlbedoTexture, v_Texcoord0);\r\n           gl_FragColor=albedoTextureColor;\r\n        }`;\r\n\r\n        subShader.addShaderPass(vs2, ps2);\r\n    }\r\n\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        this.setShaderName(\"MultiplePassOutlineShader\");\r\n        this._shaderValues.setNumber(MultiplePassOutlineMaterial.OUTLINEWIDTH, 0.01581197);\r\n        this._shaderValues.setNumber(MultiplePassOutlineMaterial.OUTLINELIGHTNESS, 1);\r\n        this._shaderValues.setVector(MultiplePassOutlineMaterial.OUTLINECOLOR, new Laya.Vector4(1.0, 1.0, 1.0, 0.0));\r\n        MultiplePassOutlineMaterial.ALBEDOTEXTURE = Laya.Shader3D.propertyNameToID(\"u_AlbedoTexture\");\r\n        MultiplePassOutlineMaterial.OUTLINECOLOR = Laya.Shader3D.propertyNameToID(\"u_OutlineColor\");\r\n        MultiplePassOutlineMaterial.OUTLINEWIDTH = Laya.Shader3D.propertyNameToID(\"u_OutlineWidth\");\r\n        MultiplePassOutlineMaterial.OUTLINELIGHTNESS = Laya.Shader3D.propertyNameToID(\"u_OutlineLightness\");\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { MultiplePassOutlineMaterial } from \"../common/MultiplePassOutlineMaterial\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Shader_MultiplePassOutline extends SingletonScene {\r\n\r\n    private rotation = new Laya.Vector3(0, 0.01, 0);\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        //初始化Shader\r\n        MultiplePassOutlineMaterial.initShader();\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n        //创建相机\r\n        var camera = (this.s_scene.addChild(new Laya.Camera(0, 0.1, 1000))) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.85, 1.7));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n        //创建平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        \r\n        Laya.Mesh.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\", Laya.Handler.create(this, function (mesh: Laya.Mesh): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            var layaMonkey = this.s_scene.addChild(new Laya.MeshSprite3D(mesh)) as Laya.MeshSprite3D;\r\n            layaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n            layaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n            var customMaterial = new MultiplePassOutlineMaterial();\r\n            //漫反射贴图\r\n            Laya.Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey2/Assets/LayaMonkey/diffuse.png\", Laya.Handler.create(this, function (texture: Laya.Texture2D): void {\r\n                customMaterial.albedoTexture = texture;\r\n            }));\r\n            layaMonkey.meshRenderer.sharedMaterial = customMaterial;\r\n\r\n            Laya.timer.frameLoop(1, this, function (): void {\r\n                layaMonkey.transform.rotate(this.rotation, false);\r\n            });\r\n        }));\r\n    }\r\n\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { Shader_Simple } from \"./Shader_Simple\";\r\nimport { Shader_GlowingEdge } from \"./Shader_GlowingEdge\";\r\nimport { Shader_Terrain } from \"./Shader_Terrain\";\r\nimport { Shader_MultiplePassOutline } from \"./Shader_MultiplePassOutline\";\r\n\r\nexport class ShaderMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"简单Shader\", \"边缘光照Shader\", \"地形Shader\", \"描边Shader\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                Shader_Simple.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                Shader_GlowingEdge.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                Shader_Terrain.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                Shader_MultiplePassOutline.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Loader = Laya.Loader;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Handler = Laya.Handler;\r\n\r\n/**\r\n * ...\r\n * @author ...\r\n */\r\nexport class StaticBatchingTest extends SingletonScene {\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Stat.show();\r\n        super();\r\n\r\n        //预加载资源,该资源在Unity中已勾选Static后导出\r\n        Laya.loader.create([GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_city01/Conventional/city01.ls\"], Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    private onComplete(): void {\r\n\r\n        //加载场景\r\n        var scene: Scene3D = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_city01/Conventional/city01.ls\");\r\n        this.AutoSetScene3d(scene);\r\n        //添加相机\r\n        var camera: Camera = <Camera>scene.getChildByName(\"Main Camera\");\r\n        //相机添加视角控制组件(脚本)\r\n        camera.addComponent(CameraMoveScript);\r\n    }\r\n\r\n}\r\n\r\n\r\n","//2019.0.17 8.00PM\r\n\r\nimport { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\n//PC:\r\n//机型:Surface Pro 6     CPU:I5-8250U \t  GPU:Intel UHD Graphics 620    平台:chrome:75.0.3770.90     分辨率:外接1080P显示器 Chrome全屏    帧率：43-45\r\n\r\n//Mobile\r\n//机型:Mi note 3   \t\t CPU:骁龙660      GPU:CPU集成                    平台：chrome 71.0.3578.99    分辨率:横屏                         帧率： 16-17\r\n//机型:Mi Mix3       \t CPU:骁龙845 \t  GPU:CPU集成                    平台:chrome:72.0.3626.105    分辨率:横屏                         帧率：16-19 \r\n//机型:Mi 9        \t\t CPU:骁龙855 \t  GPU:CPU集成                    平台:chrome:75.0.3770.89     分辨率:横屏                         帧率：52-55     \r\n\r\nimport Vector3 = Laya.Vector3;\r\nimport Camera = Laya.Camera;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Mesh = Laya.Mesh;\r\nimport Handler = Laya.Handler;\r\n\r\nexport class DynamicBatchTest extends SingletonScene {\r\n    s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n        this.s_scene.ambientColor = new Vector3(1, 1, 1);\r\n\r\n        var camera: Camera = (<Camera>this.s_scene.addChild(new Camera(0, 0.1, 1000)));\r\n        camera.transform.translate(new Vector3(0, 6.2, 10.5));\r\n        camera.transform.rotate(new Vector3(-40, 0, 0), true, false);\r\n        camera.addComponent(CameraMoveScript);\r\n\r\n\r\n\r\n        Texture2D.load(GlobalConfig.ResPath + \"res/threeDimen/layabox.png\", Handler.create(this, function (tex: Texture2D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n\r\n            var radius: Vector3 = new Vector3(0, 0, 1);\r\n            var radMatrix: Matrix4x4 = new Matrix4x4();\r\n            var circleCount: number = 50;\r\n\r\n            var boxMesh: Mesh = PrimitiveMesh.createBox(0.02, 0.02, 0.02);\r\n            var boxMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n            boxMat.albedoTexture = tex;\r\n            for (var i: number = 0; i < circleCount; i++) {\r\n                radius.z = 1.0 + i * 0.15;\r\n                radius.y = i * 0.03;\r\n                var oneCircleCount: number = 100 + i * 15;\r\n                for (var j: number = 0; j < oneCircleCount; j++) {\r\n                    var boxSprite: MeshSprite3D = new MeshSprite3D(boxMesh);\r\n                    boxSprite.meshRenderer.sharedMaterial = boxMat;\r\n                    var localPos: Vector3 = boxSprite.transform.localPosition;\r\n                    var rad: number = ((Math.PI * 2) / oneCircleCount) * j;\r\n                    Matrix4x4.createRotationY(rad, radMatrix);\r\n                    Vector3.transformCoordinate(radius, radMatrix, localPos);\r\n                    boxSprite.transform.localPosition = localPos;\r\n                    this.s_scene.addChild(boxSprite);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n\r\n}\r\n\r\n","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { StaticBatchingTest } from \"./StaticBatchingTest\";\r\nimport { DynamicBatchTest } from \"./DynamicBatchTest\";\r\n\r\nexport class PerformanceMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"静态合批\", \"动态合批\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                StaticBatchingTest.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                DynamicBatchTest.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Script3D = Laya.Script3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Event = Laya.Event;\r\nimport MouseManager = Laya.MouseManager;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Text = Laya.Text;\r\nimport Browser = Laya.Browser;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Handler = Laya.Handler;\r\n\r\n/**\r\n * model rotation script.\r\n */\r\nclass RotationScript extends Script3D {\r\n    private _lastMouseX: number;\r\n    private _mouseDown: boolean = false;\r\n    private _rotate: Vector3 = new Vector3();\r\n    private _autoRotateSpeed: Vector3 = new Vector3(0, 0.25, 0);\r\n\r\n    model: Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.on(Event.MOUSE_DOWN, this, function (): void {\r\n            this._mouseDown = true;\r\n            this._lastMouseX = MouseManager.instance.mouseX;\r\n        });\r\n        Laya.stage.on(Event.MOUSE_UP, this, function (): void {\r\n            this._mouseDown = false;\r\n        });\r\n\r\n    }\r\n    onUpdate(): void {\r\n        if (this._mouseDown) {\r\n            var deltaX: number = MouseManager.instance.mouseX - this._lastMouseX;\r\n            this._rotate.y = deltaX * 0.2;\r\n            this.model.transform.rotate(this._rotate, false, false);\r\n            this._lastMouseX = MouseManager.instance.mouseX;\r\n        }\r\n        else {\r\n            this.model.transform.rotate(this._autoRotateSpeed, false, false);\r\n        }\r\n    }\r\n}\r\n\r\nexport class DamagedHelmetModelShow extends SingletonScene {\r\n    private txts: Laya.Text[] = [];\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n\r\n\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_DamagedHelmetScene/Conventional/DamagedHelmetScene.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n\r\n            var damagedHelmet: MeshSprite3D = <MeshSprite3D>scene.getChildAt(1).getChildAt(0);\r\n            var rotationScript: RotationScript = damagedHelmet.addComponent(RotationScript);\r\n            rotationScript.model = damagedHelmet;\r\n\r\n            var size: number = 20;\r\n            this.addText(size, size * 4, \"Drag the screen to rotate the model.\", \"#F09900\");\r\n            size = 10;\r\n            this.addText(size, Laya.stage.height - size * 4, \"Battle Damaged Sci-fi Helmet by theblueturtle_    www.leonardocarrion.com\", \"#FFFF00\");\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * add text.\r\n     */\r\n    addText(size: number, y: number, text: string, color: string): void {\r\n        var cerberusText: Text = new Text();\r\n        cerberusText.color = color;\r\n        cerberusText.fontSize = size * Browser.pixelRatio;\r\n        cerberusText.x = size;\r\n        cerberusText.y = y;\r\n        cerberusText.text = text;\r\n        Laya.stage.addChild(cerberusText);\r\n        this.txts.push(cerberusText);\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        for (var i = 0; i < this.txts.length; i++) {\r\n            this.txts[i].visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        for (var i = 0; i < this.txts.length; i++) {\r\n            this.txts[i].visible = false;\r\n        }\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Handler = Laya.Handler;\r\n\r\n/**\r\n * ghost Model show,this model use PBR material.\r\n */\r\nexport class GhostModelShow extends SingletonScene {\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // Stat.show();\r\n        super();\r\n\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/PBRScene/Demo.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n\r\n            var camera: Camera = <Camera>scene.getChildByName(\"Camera\");\r\n            camera.addComponent(CameraMoveScript);\r\n        }));\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport Script3D = Laya.Script3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Event = Laya.Event;\r\nimport MouseManager = Laya.MouseManager;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Text = Laya.Text;\r\nimport Browser = Laya.Browser;\r\nimport AmbientMode = Laya.AmbientMode;\r\nimport Handler = Laya.Handler;\r\n/**\r\n * model rotation script.\r\n */\r\nclass RotationScript extends Script3D {\r\n    private _lastMouseX: number;\r\n    private _mouseDown: boolean = false;\r\n    private _rotate: Vector3 = new Vector3();\r\n\r\n    model: Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.on(Event.MOUSE_DOWN, this, function (): void {\r\n            this._mouseDown = true;\r\n            this._lastMouseX = MouseManager.instance.mouseX;\r\n        });\r\n        Laya.stage.on(Event.MOUSE_UP, this, function (): void {\r\n            this._mouseDown = false;\r\n        });\r\n\r\n    }\r\n    onUpdate(): void {\r\n        if (this._mouseDown) {\r\n            var deltaX: number = MouseManager.instance.mouseX - this._lastMouseX;\r\n            this._rotate.y = deltaX * 0.2;\r\n            this.model.transform.rotate(this._rotate, false, false);\r\n            this._lastMouseX = MouseManager.instance.mouseX;\r\n        }\r\n    }\r\n}\r\n\r\nexport class CerberusModelShow extends SingletonScene {\r\n    private txts: Laya.Text[] = [];\r\n    constructor() {\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        super();\r\n\r\n        Scene3D.load(GlobalConfig.ResPath + \"res/threeDimen/scene/LayaScene_CerberusScene/Conventional/CerberusScene.ls\", Handler.create(this, function (scene: Scene3D): void {\r\n            this.AutoSetScene3d(scene);\r\n            scene.ambientMode = AmbientMode.SphericalHarmonics;\r\n\r\n            var model: Sprite3D = <Sprite3D>scene.getChildByName(\"Cerberus_LP\");\r\n            var rotationScript: RotationScript = model.addComponent(RotationScript);\r\n            rotationScript.model = model;\r\n\r\n            var size: number = 20;\r\n            this.addText(size, size * 4, \"Drag the screen to rotate the model.\", \"#F09900\");\r\n            size = 10;\r\n            this.addText(size, Laya.stage.height - size * 4, \"Cerberus by Andrew Maximov     http://artisaverb.info/PBT.html\", \"#FFFF00\");\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * add text.\r\n     */\r\n    addText(size: number, y: number, text: string, color: string): void {\r\n        var cerberusText: Text = new Text();\r\n        cerberusText.color = color;\r\n        cerberusText.fontSize = size * Browser.pixelRatio;\r\n        cerberusText.x = size;\r\n        cerberusText.y = y;\r\n        cerberusText.text = text;\r\n        this.txts.push(cerberusText);\r\n        Laya.stage.addChild(cerberusText);\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        for (var i = 0; i < this.txts.length; i++) {\r\n            this.txts[i].visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        for (var i = 0; i < this.txts.length; i++) {\r\n            this.txts[i].visible = false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { DamagedHelmetModelShow } from \"./DamagedHelmetModelShow\";\r\nimport { GhostModelShow } from \"./GhostModelShow\";\r\nimport { CerberusModelShow } from \"./CerberusModelShow\";\r\n\r\nexport class DemoMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\", \"幽灵模型\", \"损坏头盔模型\", \"地狱犬枪模型\"];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                GhostModelShow.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                DamagedHelmetModelShow.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                CerberusModelShow.getInstance().Click();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Laya3DCombineHtml extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    constructor() {\r\n        super();\r\n\r\n        var div = Laya.Browser.window.document.createElement(\"div\");\r\n        div.innerHTML = \"<h1 style='color: red;'>此内容来源于HTML网页, 可直接在html代码中书写 - h1标签</h1>\";\r\n        document.body.appendChild(div);\r\n        //1.开启第四个参数\r\n        var config3D = new Config3D();\r\n        config3D.isAlpha = true;\r\n        Laya3D.init(0, 0, config3D);\r\n\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        //2.设置舞台背景色为空\r\n        Laya.stage.bgColor = null;\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        var camera: Laya.Camera = this.s_scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n        camera.transform.translate(new Laya.Vector3(0, 0.5, 1));\r\n        camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n        //3.清除照相机颜色\r\n        camera.clearColor = null;\r\n\r\n        var directionLight: Laya.DirectionLight = this.s_scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;\r\n        directionLight.color = new Laya.Vector3(0.7, 0.6, 0.6);\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(layaMonkey);\r\n        }));\r\n    }\r\n}","import { CameraMoveScript } from \"../common/CameraMoveScript\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\nimport MeshTerrainSprite3D = Laya.MeshTerrainSprite3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Loader = Laya.Loader;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Mesh = Laya.Mesh;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Camera = Laya.Camera;\r\nimport SkinnedMeshSprite3D = Laya.SkinnedMeshSprite3D;\r\nimport Tween = Laya.Tween;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\n/**\r\n * 本实例使用的A星算法，来源于开源A星算法:https://github.com/bgrins/javascript-astar\r\n */\r\nexport class AStarFindPath extends SingletonScene{\r\n\r\n    private terrainSprite: MeshTerrainSprite3D;\r\n    private layaMonkey: Sprite3D;\r\n    private path: Vector3[];\r\n    private _everyPath: any[];\r\n    private _position: Vector3 = new Vector3(0, 0, 0);\r\n    private _upVector3: Vector3 = new Vector3(0, 1, 0);\r\n    private _tarPosition: Vector3 = new Vector3(0, 0, 0);\r\n    private _finalPosition: Vector3 = new Vector3(0, 0, 0);\r\n    private _rotation: Vector3 = new Vector3(-45, 180, 0);\r\n    private _rotation2: Vector3 = new Vector3(0, 180, 0);\r\n    private index: number = 0;\r\n    private curPathIndex: number = 0;\r\n    private nextPathIndex: number = 1;\r\n    private moveSprite3D: Sprite3D;\r\n    private pointCount: number = 10;\r\n    private s_scene: Scene3D;\r\n\r\n    //寻路使用的变量\r\n    private aStarMap: any;\r\n    private graph: any;\r\n    private opts: any;\r\n    private resPath: any;\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Stat.show();\r\n        super();\r\n\r\n        this.path = [];\r\n\r\n        //预加载所有资源\r\n        var resource = [{ url: GlobalConfig.ResPath + \"res/threeDimen/scene/TerrainScene/XunLongShi.ls\", clas: Scene3D, priority: 1 },\r\n        { url: GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", clas: Sprite3D, priority: 1 },\r\n        { url: GlobalConfig.ResPath + \"res/threeDimen/scene/TerrainScene/Assets/HeightMap.png\", clas: Texture2D, priority: 1, constructParams: [1024, 1024, 1, false, true] },\r\n        { url: GlobalConfig.ResPath + \"res/threeDimen/scene/TerrainScene/Assets/AStarMap.png\", clas: Texture2D, priority: 1, constructParams: [64, 64, 1, false, true] }];\r\n\r\n        Laya.loader.create(resource, Handler.create(this, this.onLoadFinish));\r\n    }\r\n\r\n    private onLoadFinish(): void {\r\n        //初始化3D场景\r\n        this.s_scene = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/TerrainScene/XunLongShi.ls\");\r\n        \r\n        //根据场景中方块生成路径点\r\n        this.initPath(this.s_scene);\r\n\r\n        this.AutoSetScene3d(this.s_scene);\r\n\r\n        //获取可行走区域模型\r\n        var meshSprite3D: MeshSprite3D = (<MeshSprite3D>this.s_scene.getChildByName('Scenes').getChildByName('HeightMap'));\r\n        //使可行走区域模型隐藏\r\n        meshSprite3D.active = false;\r\n        var heightMap: Texture2D = (<Texture2D>Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/TerrainScene/Assets/HeightMap.png\"));\r\n        //初始化MeshTerrainSprite3D\r\n        this.terrainSprite = MeshTerrainSprite3D.createFromMeshAndHeightMap((<Mesh>meshSprite3D.meshFilter.sharedMesh), heightMap, 6.574996471405029, 10.000000953674316);\r\n        //更新terrainSprite世界矩阵(为可行走区域世界矩阵)\r\n        this.terrainSprite.transform.worldMatrix = meshSprite3D.transform.worldMatrix;\r\n\r\n        //读取墙壁的数据\r\n        this.aStarMap = Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/scene/TerrainScene/Assets/AStarMap.png\");\r\n\r\n        //使用astar组织数据\r\n        var aStarArr = this.createGridFromAStarMap(this.aStarMap);\r\n        this.graph = new (window as any).Graph(aStarArr);\r\n        this.opts = [];\r\n        this.opts.closest = true;\r\n        this.opts.heuristic = (window as any).astar.heuristics.diagonal;\r\n\r\n        //初始化移动单元\r\n        this.moveSprite3D = (<Sprite3D>this.s_scene.addChild(new Sprite3D()));\r\n        this.moveSprite3D.transform.position = this.path[0];\r\n\r\n\r\n        //初始化小猴子\r\n        this.layaMonkey = (<Sprite3D>this.moveSprite3D.addChild(Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\")));\r\n\r\n        var tmpLocalScale: Vector3 = this.layaMonkey.transform.localScale;\r\n        tmpLocalScale.setValue(0.5, 0.5, 0.5);\r\n        var aniSprite3d: Sprite3D = (<Sprite3D>this.layaMonkey.getChildAt(0));\r\n\r\n        //获取动画组件\r\n        var animator: Animator = (<Animator>aniSprite3d.getComponent(Animator));\r\n        //创建动作状态\r\n        var state: AnimatorState = new AnimatorState();\r\n        //动作名称\r\n        state.name = \"run\";\r\n        //动作播放起始时间\r\n        state.clipStart = 40 / 150;\r\n        //动作播放结束时间\r\n        state.clipEnd = 70 / 150;\r\n        //设置动作\r\n        state.clip = animator.getDefaultState().clip;\r\n        //为动画组件添加一个动作状态\r\n        animator.addState(state);\r\n        //播放动画\r\n        animator.play(\"run\");\r\n\r\n        //创建BlinnPhong材质\r\n        var mat: BlinnPhongMaterial = (<BlinnPhongMaterial>((<SkinnedMeshSprite3D>this.layaMonkey.getChildAt(0).getChildAt(0))).skinnedMeshRenderer.sharedMaterial);\r\n        //设置反照率强度\r\n        mat.albedoIntensity = 8;\r\n        //设置猴子精灵的位置\r\n        this.layaMonkey.transform.position.cloneTo(this._finalPosition);\r\n\r\n        //初始化相机\r\n        var moveCamera: Camera = (<Camera>this.moveSprite3D.addChild(new Camera()));\r\n        var tmpLocalPosition: Vector3 = moveCamera.transform.localPosition;\r\n        tmpLocalPosition.setValue(-1.912066, 10.07926, -10.11014);\r\n        moveCamera.transform.localPosition = tmpLocalPosition;\r\n        moveCamera.transform.rotate(this._rotation, true, false);\r\n        moveCamera.addComponent(CameraMoveScript);\r\n\r\n        //设置鼠标弹起事件响应\r\n        Laya.stage.on(Event.MOUSE_UP, this, function (): void {\r\n            this.index = 0;\r\n            //获取每次生成路径\r\n            var startPoint = this.getGridIndex(this.path[this.curPathIndex % this.pointCount].x, this.path[this.curPathIndex++ % this.pointCount].z);\r\n            var endPoint = this.getGridIndex(this.path[this.nextPathIndex % this.pointCount].x, this.path[this.nextPathIndex++ % this.pointCount].z);\r\n            var start = this.graph.grid[startPoint.x][startPoint.z];\r\n            var end = this.graph.grid[endPoint.x][endPoint.z];\r\n\r\n            this._everyPath = (window as any).astar.search(this.graph, start, end, {\r\n                closest: this.opts.closest\r\n            });\r\n            if (this._everyPath && this._everyPath.length > 0) {\r\n                this.resPath = this.getRealPosition(start, this._everyPath);\r\n            }\r\n        });\r\n        //开启定时重复执行\r\n        Laya.timer.loop(40, this, this.loopfun);\r\n    }\r\n\r\n    private loopfun(): void {\r\n        if (this.resPath && this.index < this.resPath.length) {\r\n            //AStar寻路位置\r\n            this._position.x = this.resPath[this.index].x;\r\n            this._position.z = this.resPath[this.index++].z;\r\n            //HeightMap获取高度数据\r\n            this._position.y = this.terrainSprite.getHeight(this._position.x, this._position.z);\r\n            if (isNaN(this._position.y)) {\r\n                this._position.y = this.moveSprite3D.transform.position.y;\r\n            }\r\n\r\n            //在出发前进行姿态的调整\r\n            if (this.index === 1) {\r\n                //调整方向\r\n                this._tarPosition.x = this.resPath[this.resPath.length - 1].x;\r\n                this._tarPosition.z = this.resPath[this.resPath.length - 1].z;\r\n                this._tarPosition.y = this.moveSprite3D.transform.position.y;\r\n                this.layaMonkey.transform.lookAt(this._tarPosition, this._upVector3, false);\r\n                //因为资源规格,这里需要旋转180度\r\n                this.layaMonkey.transform.rotate(this._rotation2, false, false);\r\n            }\r\n            //调整位置\r\n            Tween.to(this._finalPosition, { x: this._position.x, y: this._position.y, z: this._position.z }, 40);\r\n            this.moveSprite3D.transform.position = this._finalPosition;\r\n        }\r\n    }\r\n\r\n    private initPath(scene: Scene3D): void {\r\n        for (var i: number = 0; i < this.pointCount; i++) {\r\n            var str: string = \"path\" + i;\r\n            this.path.push(((<MeshSprite3D>scene.getChildByName('Scenes').getChildByName('Area').getChildByName(str))).transform.localPosition);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 得到整数的网格索引\r\n    */\r\n    private getGridIndex(x, z): any {\r\n        var minX = this.terrainSprite.minX;\r\n        var minZ = this.terrainSprite.minZ;\r\n        var cellX = this.terrainSprite.width / this.aStarMap.width;\r\n        var cellZ = this.terrainSprite.depth / this.aStarMap.height;\r\n        var gridX = Math.floor((x - minX) / cellX);\r\n        var gridZ = Math.floor((z - minZ) / cellZ);\r\n        var boundWidth = this.aStarMap.width - 1;\r\n        var boundHeight = this.aStarMap.height - 1;\r\n        (gridX > boundWidth) && (gridX = boundWidth);\r\n        (gridZ > boundHeight) && (gridZ = boundHeight);\r\n        (gridX < 0) && (gridX = 0);\r\n        (gridZ < 0) && (gridZ = 0);\r\n        var res: any = [];\r\n        res.x = gridX;\r\n        res.z = gridZ;\r\n        return res;\r\n    }\r\n\r\n    /**\r\n     * 得到世界坐标系下的真实坐标\r\n     */\r\n    private getRealPosition(start, path): any {\r\n        var resPath = [];\r\n        var minX = this.terrainSprite.minX;\r\n        var minZ = this.terrainSprite.minZ;\r\n        var cellX = this.terrainSprite.width / this.aStarMap.width;\r\n        var cellZ = this.terrainSprite.depth / this.aStarMap.height;\r\n        var halfCellX = cellX / 2;\r\n        var halfCellZ = cellZ / 2;\r\n        resPath[0] = [];\r\n        resPath[0].x = start.x * cellX + halfCellX + minX;\r\n        resPath[0].z = start.y * cellZ + halfCellZ + minZ;\r\n        for (var i = 1; i < path.length; i++) {\r\n            var gridPos = path[i];\r\n            resPath[i] = [];\r\n            resPath[i].x = gridPos.x * cellX + halfCellX + minX;\r\n            resPath[i].z = gridPos.y * cellZ + halfCellZ + minZ;\r\n        }\r\n        return resPath;\r\n    }\r\n\r\n    /**\r\n     * 通过图片数据计算得到AStart网格\r\n     */\r\n    private createGridFromAStarMap(texture): any {\r\n        var textureWidth = texture.width;\r\n        var textureHeight = texture.height;\r\n        var pixelsInfo = texture.getPixels();\r\n        var aStarArr = [];\r\n        var index = 0;\r\n        for (var w = 0; w < textureWidth; w++) {\r\n            var colaStarArr = aStarArr[w] = [];\r\n            for (var h = 0; h < textureHeight; h++) {\r\n                var r = pixelsInfo[index++];\r\n                var g = pixelsInfo[index++];\r\n                var b = pixelsInfo[index++];\r\n                var a = pixelsInfo[index++];\r\n                if (r == 255 && g == 255 && b == 255 && a == 255)\r\n                    colaStarArr[h] = 1;\r\n                else {\r\n                    colaStarArr[h] = 0;\r\n                }\r\n            }\r\n        };\r\n        return aStarArr;\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Scene2DPlayer3D extends SingletonScene {\r\n    private dialog: Laya.Image;\r\n    private s_scene: Laya.Scene3D;\r\n    /**\r\n     * (pos.x pos.y) 屏幕位置\r\n     *  pos.z 深度取值范围(-1,1);\r\n     * */\r\n    private pos = new Laya.Vector3(310, 500, 0);\r\n    private _translate = new Laya.Vector3(0, 0, 0);\r\n    private _layaMonkey: Laya.Sprite3D;\r\n    private _translateW: Laya.Vector3 = new Laya.Vector3(0, 0, -0.2);\r\n    private _translateS: Laya.Vector3 = new Laya.Vector3(0, 0, 0.2);\r\n    private _translateA: Laya.Vector3 = new Laya.Vector3(-0.2, 0, 0);\r\n    private _translateD: Laya.Vector3 = new Laya.Vector3(0.2, 0, 0);\r\n\r\n    constructor() {\r\n        super();\r\n        // Laya3D.init(1024, 768);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FIXED_HEIGHT;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // Laya.Stat.show();\r\n\r\n        this.dialog = new Laya.Image(GlobalConfig.ResPath + \"res/threeDimen/secne.jpg\");\r\n        Laya.stage.addChild(this.dialog);\r\n\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n\r\n        var camera = new Laya.Camera(0, 0.1, 1000);\r\n        this.s_scene.addChild(camera);\r\n        camera.transform.rotate(new Laya.Vector3(-45, 0, 0), false, false);\r\n        camera.transform.translate(new Laya.Vector3(5, -10, 1));\r\n        camera.orthographic = true;\r\n        //正交投影垂直矩阵尺寸\r\n        camera.orthographicVerticalSize = 10;\r\n        camera.clearFlag = Laya.BaseCamera.CLEARFLAG_DEPTHONLY;\r\n\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n\r\n        Laya.Sprite3D.load(GlobalConfig.ResPath + \"res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", Laya.Handler.create(this, function (layaMonkey: Laya.Sprite3D): void {\r\n            this.AutoSetScene3d(this.s_scene);\r\n            this.s_scene.addChild(layaMonkey);\r\n\r\n            this._layaMonkey = layaMonkey;\r\n            layaMonkey.transform.localScale = new Laya.Vector3(0.3, 0.3, 0.3);\r\n            //转换2D屏幕坐标系统到3D正交投影下的坐标系统\r\n            camera.convertScreenCoordToOrthographicCoord(this.pos, this._translate);\r\n            layaMonkey.transform.position = this._translate;\r\n            layaMonkey.transform.rotationEuler = new Laya.Vector3(-30, 0, 0);\r\n            Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n\r\n        }));\r\n\r\n    }\r\n    private onKeyDown(): void {\r\n        Laya.KeyBoardManager.hasKeyDown(87) && this._layaMonkey.transform.translate(this._translateW);//W\r\n        Laya.KeyBoardManager.hasKeyDown(83) && this._layaMonkey.transform.translate(this._translateS);//S\r\n        Laya.KeyBoardManager.hasKeyDown(65) && this._layaMonkey.transform.translate(this._translateA);//A\r\n        Laya.KeyBoardManager.hasKeyDown(68) && this._layaMonkey.transform.translate(this._translateD);//D\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.dialog) {\r\n            this.dialog.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.dialog) {\r\n            this.dialog.visible = false;\r\n        }\r\n    }\r\n}","import { GlobalConfig } from \"../GlobalConfig\";\r\nimport SingletonScene from \"../SingletonScene\";\r\n\r\nexport class Secne3DPlayer2D extends SingletonScene {\r\n    private s_scene: Laya.Scene3D;\r\n    private camera: Laya.Camera;\r\n    private layaMonkey3D: Laya.Sprite3D;\r\n    private layaMonkey2D: Laya.Image;\r\n    private _position = new Laya.Vector3();\r\n    private _outPos = new Laya.Vector4();\r\n    private scaleDelta: number = 0;\r\n\r\n    constructor() {\r\n        // //初始化引擎\r\n        // Laya3D.init(0, 0);\r\n        // Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;\r\n        // Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;\r\n        // //显示性能面板\r\n        // Laya.Stat.show();\r\n        super();\r\n\r\n        //创建场景\r\n        this.s_scene = new Laya.Scene3D();\r\n\r\n        //创建相机\r\n        this.camera = new Laya.Camera(0, 0.1, 100);\r\n        this.s_scene.addChild(this.camera);\r\n        this.camera.transform.translate(new Laya.Vector3(0, 0.35, 1));\r\n        this.camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);\r\n\r\n        //创建平行光\r\n        var directionLight = new Laya.DirectionLight();\r\n        this.s_scene.addChild(directionLight);\r\n        directionLight.color = new Laya.Vector3(1, 1, 1);\r\n        directionLight.transform.rotate(new Laya.Vector3(-3.14 / 3, 0, 0));\r\n        //加载精灵\r\n        Laya.loader.create(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\", Laya.Handler.create(this, this.onComplete));\r\n    }\r\n\r\n    private onComplete() {\r\n        this.AutoSetScene3d(this.s_scene);\r\n        //加载三维地面\r\n        var grid = this.s_scene.addChild(Laya.Loader.getRes(GlobalConfig.ResPath + \"res/threeDimen/staticModel/grid/plane.lh\")) as Laya.Sprite3D;\r\n        //加载二维猴子\r\n        this.layaMonkey2D = Laya.stage.addChild(new Laya.Image(GlobalConfig.ResPath + \"res/threeDimen/monkey.png\")) as Laya.Image;\r\n        //开启定时器循环\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate() {\r\n        //变换位置\r\n        this._position.x = Math.sin(this.scaleDelta += 0.01);\r\n        //计算位置\r\n        this.camera.viewport.project(this._position, this.camera.projectionViewMatrix, this._outPos);\r\n        this.layaMonkey2D.pos(this._outPos.x / Laya.stage.clientScaleX, this._outPos.y / Laya.stage.clientScaleY);\r\n    }\r\n\r\n    public Show() {\r\n        super.Show();\r\n        if (this.layaMonkey2D) {\r\n            this.layaMonkey2D.visible = true;\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        super.Hide();\r\n        if (this.layaMonkey2D) {\r\n            this.layaMonkey2D.visible = false;\r\n        }\r\n    }\r\n}","import SingletonMainScene from \"../SingletonMainScene\";\r\nimport { EventManager, EventType } from \"../EventManager\";\r\nimport { GlobalConfig } from \"../GlobalConfig\";\r\nimport { Laya3DCombineHtml } from \"./Laya3DCombineHtml\";\r\nimport { AStarFindPath } from \"./AStarFindPath\";\r\nimport { Scene2DPlayer3D } from \"./Scene2DPlayer3D\";\r\nimport { Secne3DPlayer2D } from \"./Secne3DPlayer2D\";\r\n\r\nexport class AdvanceMain extends SingletonMainScene {\r\n    private btnNameArr: Array<string> = [\r\n        \"返回主页\",\r\n        \"Laya3D与网页混合\", \"寻路导航\", \"2D场景+3D人物\", \"2D人物+3D场景\", \"3D文字纹理\",\r\n        \"视频纹理\", \"毛玻璃\", \"轮廓\", \"Instance渲染\", \"草地\",\r\n        \"反射探针\", \"相机深度模式纹理展示\", \"次表面散射\"\r\n    ];\r\n\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                this.Hide();\r\n                EventManager.DispatchEvent(EventType.BACKTOMAIN);\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                Laya3DCombineHtml.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                AStarFindPath.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                Scene2DPlayer3D.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                Secne3DPlayer2D.getInstance().Click();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                break;\r\n            case this.btnNameArr[6]:\r\n                break;\r\n            case this.btnNameArr[7]:\r\n                break;\r\n            case this.btnNameArr[8]:\r\n                break;\r\n            case this.btnNameArr[9]:\r\n                break;\r\n            case this.btnNameArr[10]:\r\n                break;\r\n            case this.btnNameArr[11]:\r\n                break;\r\n            case this.btnNameArr[12]:\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n}","import SingletonMainScene from \"./SingletonMainScene\";\r\nimport { EventManager, EventType } from \"./EventManager\";\r\nimport { ResourceMain } from \"./Resource/ResourceMain\";\r\nimport { GlobalConfig } from \"./GlobalConfig\";\r\nimport { Scene3DMain } from \"./Scene3D/Scene3DMain\";\r\nimport { CameraMain } from \"./Camera/CameraMain\";\r\nimport { PostProcessMain } from \"./PostProcess/PostProcessMain\";\r\nimport { LightingMain } from \"./Lighting/LightingMain\";\r\nimport { Sprite3DMain } from \"./Sprite3D/Sprite3DMain\";\r\nimport { MeshMain } from \"./Mesh/MeshMain\";\r\nimport { MaterialMain } from \"./Material/MaterialMain\";\r\nimport { TextureMain } from \"./Texture/TextureMain\";\r\nimport { Animation3DMain } from \"./Animation3D/Animation3DMain\";\r\nimport { Physics3DMain } from \"./Physics3D/Physics3DMain\";\r\nimport { CannonPhysics3DMain } from \"./CannonPhysics3D/CannonPhysics3DMain\";\r\nimport { MouseInteractionMain } from \"./MouseInteraction/MouseInteractionMain\";\r\nimport { ScriptMain } from \"./Script/ScriptMain\";\r\nimport { SkyMain } from \"./Sky/SkyMain\";\r\nimport { Particle3DMain } from \"./Particle3D/Particle3DMain\";\r\nimport { TrailMain } from \"./Trail/TrailMain\";\r\nimport { ShaderMain } from \"./Shader/ShaderMain\";\r\nimport { PerformanceMain } from \"./Performance/PerformanceMain\";\r\nimport { DemoMain } from \"./Demo/DemoMain\";\r\nimport { AdvanceMain } from \"./Advance/AdvanceMain\";\r\n\r\nexport class LayaMain3d extends SingletonMainScene {\r\n    constructor() {\r\n        super();\r\n        Laya.stage.addChild(this);\r\n        this.LoadExamples();\r\n    }\r\n\r\n    private btnNameArr: Array<string> = [\r\n        \"Resource\", \"Scene3D\", \"摄像机\", \"后处理\", \"光照\",\r\n        \"3D精灵\", \"Mesh网格\", \"材质\", \"纹理\", \"动画\",\r\n        \"物理系统\", \"canoon物理\", \"鼠标交互\", \"脚本\", \"天空\",\r\n        \"粒子系统\", \"拖尾系统\", \"自定义Shader\", \"性能测试\", \"高级应用\",\r\n        \"展示案例\",\r\n    ];\r\n\r\n    // 加载例子\r\n    LoadExamples() {\r\n        for (let index = 0; index < this.btnNameArr.length; index++) {\r\n            this.createButton(this.btnNameArr[index], this._onclick, index);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param name 按钮名称\r\n     * @param cb 绑定方法\r\n     * @param index index游标\r\n     * @param skin 按钮皮肤\r\n     */\r\n    private createButton(name: string, cb: Function, index: number, skin: string = GlobalConfig.ResPath + \"res/threeDimen/ui/button.png\"): Laya.Button {\r\n        var btn: Laya.Button = new Laya.Button(skin, name);\r\n        btn.on(Laya.Event.CLICK, this, cb, [name]);\r\n        btn.pos(Laya.stage.width - 50, Laya.stage.height - 50);\r\n        btn.size(50, 20);\r\n        btn.name = name;\r\n        btn.right = 5;\r\n        btn.top = index * (btn.height + 5);\r\n        this.addChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    // 绑定点击事件\r\n    private _onclick(name: string) {\r\n        this.Hide();\r\n        switch (name) {\r\n            case this.btnNameArr[0]:\r\n                ResourceMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[1]:\r\n                Scene3DMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[2]:\r\n                CameraMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[3]:\r\n                PostProcessMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[4]:\r\n                LightingMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[5]:\r\n                Sprite3DMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[6]:\r\n                MeshMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[7]:\r\n                MaterialMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[8]:\r\n                TextureMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[9]:\r\n                Animation3DMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[10]:\r\n                Physics3DMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[11]:\r\n                CannonPhysics3DMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[12]:\r\n                MouseInteractionMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[13]:\r\n                ScriptMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[14]:\r\n                SkyMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[15]:\r\n                Particle3DMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[16]:\r\n                TrailMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[17]:\r\n                ShaderMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[18]:\r\n                PerformanceMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[19]:\r\n                AdvanceMain.getInstance().Show();\r\n                break;\r\n            case this.btnNameArr[20]:\r\n                DemoMain.getInstance().Show();\r\n                break;\r\n        }\r\n        console.log(name + \"按钮_被点击\");\r\n    }\r\n\r\n    public Back2Main() {\r\n        this.Show();\r\n    }\r\n}","import GameConfig from \"./GameConfig\";\r\nimport { LayaMain3d } from \"./LayaMain3d\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t}\r\n\r\n\tLoad(): void {\r\n\t\tLayaMain3d.getInstance().LoadExamples();\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main().Load();\r\n"],"names":["Handler","Loader","Camera","Vector3","Scene3D","Button","Browser","Event","PostProcess","Shader3D","DirectionLight","DepthTextureMode","Sprite3D","MeshSprite3D","PrimitiveMesh","SpotLight","Script3D","PBRStandardMaterial","Vector4","Texture2D","BlinnPhongMaterial","UnlitMaterial","AnimatorStateScriptDemo","Rigidbody3D","BoxColliderShape","CannonPhysicsCollider","CannonBoxColliderShape","CannonRigidbody3D","CannonSphereColliderShape","CannonCompoundColliderShape","Matrix4x4","MouseManager","Text","RotationScript","Animator"],"mappings":"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"}