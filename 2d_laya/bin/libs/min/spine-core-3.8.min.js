var spine;!function(t){class e{constructor(t,e,a){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var s=0;s<e.length;s++)this.timelineIds[e[s].getPropertyId()]=!0;this.duration=a}hasTimeline(t){return 1==this.timelineIds[t]}apply(t,e,a,s,i,n,r,l){if(null==t)throw new Error("skeleton cannot be null.");s&&0!=this.duration&&(a%=this.duration,e>0&&(e%=this.duration));let o=this.timelines;for(let s=0,h=o.length;s<h;s++)o[s].apply(t,e,a,i,n,r,l)}static binarySearch(t,e,a=1){let s=0,i=t.length/a-2;if(0==i)return a;let n=i>>>1;for(;;){if(t[(n+1)*a]<=e?s=n+1:i=n,s==i)return(s+1)*a;n=s+i>>>1}}static linearSearch(t,e,a){for(let s=0,i=t.length-a;s<=i;s+=a)if(t[s]>e)return s;return-1}}let a,s,i;t.Animation=e,function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(a=t.MixBlend||(t.MixBlend={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(s=t.MixDirection||(t.MixDirection={})),function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(i=t.TimelineType||(t.TimelineType={}));class n{constructor(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=t.Utils.newFloatArray((e-1)*n.BEZIER_SIZE)}getFrameCount(){return this.curves.length/n.BEZIER_SIZE+1}setLinear(t){this.curves[t*n.BEZIER_SIZE]=n.LINEAR}setStepped(t){this.curves[t*n.BEZIER_SIZE]=n.STEPPED}getCurveType(t){let e=t*n.BEZIER_SIZE;if(e==this.curves.length)return n.LINEAR;let a=this.curves[e];return a==n.LINEAR?n.LINEAR:a==n.STEPPED?n.STEPPED:n.BEZIER}setCurve(t,e,a,s,i){let r=.03*(2*-e+s),l=.03*(2*-a+i),o=.006*(3*(e-s)+1),h=.006*(3*(a-i)+1),d=2*r+o,u=2*l+h,c=.3*e+r+.16666667*o,f=.3*a+l+.16666667*h,m=t*n.BEZIER_SIZE,g=this.curves;g[m++]=n.BEZIER;let p=c,w=f;for(let t=m+n.BEZIER_SIZE-1;m<t;m+=2)g[m]=p,g[m+1]=w,c+=d,f+=u,d+=o,u+=h,p+=c,w+=f}getCurvePercent(e,a){a=t.MathUtils.clamp(a,0,1);let s=this.curves,i=e*n.BEZIER_SIZE,r=s[i];if(r==n.LINEAR)return a;if(r==n.STEPPED)return 0;i++;let l=0;for(let t=i,e=i+n.BEZIER_SIZE-1;i<e;i+=2)if(l=s[i],l>=a){let e,n;return i==t?(e=0,n=0):(e=s[i-2],n=s[i-1]),n+(s[i+1]-n)*(a-e)/(l-e)}let o=s[i-1];return o+(1-o)*(a-l)/(1-l)}}n.LINEAR=0,n.STEPPED=1,n.BEZIER=2,n.BEZIER_SIZE=19,t.CurveTimeline=n;class r extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e<<1)}getPropertyId(){return(i.rotate<<24)+this.boneIndex}setFrame(t,e,a){t<<=1,this.frames[t]=e,this.frames[t+r.ROTATION]=a}apply(t,s,i,n,l,o,h){let d=this.frames,u=t.bones[this.boneIndex];if(!u.active)return;if(i<d[0]){switch(o){case a.setup:return void(u.rotation=u.data.rotation);case a.first:let t=u.data.rotation-u.rotation;u.rotation+=(t-360*(16384-(16384.499999999996-t/360|0)))*l}return}if(i>=d[d.length-r.ENTRIES]){let t=d[d.length+r.PREV_ROTATION];switch(o){case a.setup:u.rotation=u.data.rotation+t*l;break;case a.first:case a.replace:t+=u.data.rotation-u.rotation,t-=360*(16384-(16384.499999999996-t/360|0));case a.add:u.rotation+=t*l}return}let c=e.binarySearch(d,i,r.ENTRIES),f=d[c+r.PREV_ROTATION],m=d[c],g=this.getCurvePercent((c>>1)-1,1-(i-m)/(d[c+r.PREV_TIME]-m)),p=d[c+r.ROTATION]-f;switch(p=f+(p-360*(16384-(16384.499999999996-p/360|0)))*g,o){case a.setup:u.rotation=u.data.rotation+(p-360*(16384-(16384.499999999996-p/360|0)))*l;break;case a.first:case a.replace:p+=u.data.rotation-u.rotation;case a.add:u.rotation+=(p-360*(16384-(16384.499999999996-p/360|0)))*l}}}r.ENTRIES=2,r.PREV_TIME=-2,r.PREV_ROTATION=-1,r.ROTATION=1,t.RotateTimeline=r;class l extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e*l.ENTRIES)}getPropertyId(){return(i.translate<<24)+this.boneIndex}setFrame(t,e,a,s){t*=l.ENTRIES,this.frames[t]=e,this.frames[t+l.X]=a,this.frames[t+l.Y]=s}apply(t,s,i,n,r,o,h){let d=this.frames,u=t.bones[this.boneIndex];if(!u.active)return;if(i<d[0]){switch(o){case a.setup:return u.x=u.data.x,void(u.y=u.data.y);case a.first:u.x+=(u.data.x-u.x)*r,u.y+=(u.data.y-u.y)*r}return}let c=0,f=0;if(i>=d[d.length-l.ENTRIES])c=d[d.length+l.PREV_X],f=d[d.length+l.PREV_Y];else{let t=e.binarySearch(d,i,l.ENTRIES);c=d[t+l.PREV_X],f=d[t+l.PREV_Y];let a=d[t],s=this.getCurvePercent(t/l.ENTRIES-1,1-(i-a)/(d[t+l.PREV_TIME]-a));c+=(d[t+l.X]-c)*s,f+=(d[t+l.Y]-f)*s}switch(o){case a.setup:u.x=u.data.x+c*r,u.y=u.data.y+f*r;break;case a.first:case a.replace:u.x+=(u.data.x+c-u.x)*r,u.y+=(u.data.y+f-u.y)*r;break;case a.add:u.x+=c*r,u.y+=f*r}}}l.ENTRIES=3,l.PREV_TIME=-3,l.PREV_X=-2,l.PREV_Y=-1,l.X=1,l.Y=2,t.TranslateTimeline=l;class o extends l{constructor(t){super(t)}getPropertyId(){return(i.scale<<24)+this.boneIndex}apply(i,n,r,l,h,d,u){let c=this.frames,f=i.bones[this.boneIndex];if(!f.active)return;if(r<c[0]){switch(d){case a.setup:return f.scaleX=f.data.scaleX,void(f.scaleY=f.data.scaleY);case a.first:f.scaleX+=(f.data.scaleX-f.scaleX)*h,f.scaleY+=(f.data.scaleY-f.scaleY)*h}return}let m=0,g=0;if(r>=c[c.length-o.ENTRIES])m=c[c.length+o.PREV_X]*f.data.scaleX,g=c[c.length+o.PREV_Y]*f.data.scaleY;else{let t=e.binarySearch(c,r,o.ENTRIES);m=c[t+o.PREV_X],g=c[t+o.PREV_Y];let a=c[t],s=this.getCurvePercent(t/o.ENTRIES-1,1-(r-a)/(c[t+o.PREV_TIME]-a));m=(m+(c[t+o.X]-m)*s)*f.data.scaleX,g=(g+(c[t+o.Y]-g)*s)*f.data.scaleY}if(1==h)d==a.add?(f.scaleX+=m-f.data.scaleX,f.scaleY+=g-f.data.scaleY):(f.scaleX=m,f.scaleY=g);else{let e=0,i=0;if(u==s.mixOut)switch(d){case a.setup:e=f.data.scaleX,i=f.data.scaleY,f.scaleX=e+(Math.abs(m)*t.MathUtils.signum(e)-e)*h,f.scaleY=i+(Math.abs(g)*t.MathUtils.signum(i)-i)*h;break;case a.first:case a.replace:e=f.scaleX,i=f.scaleY,f.scaleX=e+(Math.abs(m)*t.MathUtils.signum(e)-e)*h,f.scaleY=i+(Math.abs(g)*t.MathUtils.signum(i)-i)*h;break;case a.add:e=f.scaleX,i=f.scaleY,f.scaleX=e+(Math.abs(m)*t.MathUtils.signum(e)-f.data.scaleX)*h,f.scaleY=i+(Math.abs(g)*t.MathUtils.signum(i)-f.data.scaleY)*h}else switch(d){case a.setup:e=Math.abs(f.data.scaleX)*t.MathUtils.signum(m),i=Math.abs(f.data.scaleY)*t.MathUtils.signum(g),f.scaleX=e+(m-e)*h,f.scaleY=i+(g-i)*h;break;case a.first:case a.replace:e=Math.abs(f.scaleX)*t.MathUtils.signum(m),i=Math.abs(f.scaleY)*t.MathUtils.signum(g),f.scaleX=e+(m-e)*h,f.scaleY=i+(g-i)*h;break;case a.add:e=t.MathUtils.signum(m),i=t.MathUtils.signum(g),f.scaleX=Math.abs(f.scaleX)*e+(m-Math.abs(f.data.scaleX)*e)*h,f.scaleY=Math.abs(f.scaleY)*i+(g-Math.abs(f.data.scaleY)*i)*h}}}}t.ScaleTimeline=o;class h extends l{constructor(t){super(t)}getPropertyId(){return(i.shear<<24)+this.boneIndex}apply(t,s,i,n,r,l,o){let d=this.frames,u=t.bones[this.boneIndex];if(!u.active)return;if(i<d[0]){switch(l){case a.setup:return u.shearX=u.data.shearX,void(u.shearY=u.data.shearY);case a.first:u.shearX+=(u.data.shearX-u.shearX)*r,u.shearY+=(u.data.shearY-u.shearY)*r}return}let c=0,f=0;if(i>=d[d.length-h.ENTRIES])c=d[d.length+h.PREV_X],f=d[d.length+h.PREV_Y];else{let t=e.binarySearch(d,i,h.ENTRIES);c=d[t+h.PREV_X],f=d[t+h.PREV_Y];let a=d[t],s=this.getCurvePercent(t/h.ENTRIES-1,1-(i-a)/(d[t+h.PREV_TIME]-a));c+=(d[t+h.X]-c)*s,f+=(d[t+h.Y]-f)*s}switch(l){case a.setup:u.shearX=u.data.shearX+c*r,u.shearY=u.data.shearY+f*r;break;case a.first:case a.replace:u.shearX+=(u.data.shearX+c-u.shearX)*r,u.shearY+=(u.data.shearY+f-u.shearY)*r;break;case a.add:u.shearX+=c*r,u.shearY+=f*r}}}t.ShearTimeline=h;class d extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e*d.ENTRIES)}getPropertyId(){return(i.color<<24)+this.slotIndex}setFrame(t,e,a,s,i,n){t*=d.ENTRIES,this.frames[t]=e,this.frames[t+d.R]=a,this.frames[t+d.G]=s,this.frames[t+d.B]=i,this.frames[t+d.A]=n}apply(t,s,i,n,r,l,o){let h=t.slots[this.slotIndex];if(!h.bone.active)return;let u=this.frames;if(i<u[0]){switch(l){case a.setup:return void h.color.setFromColor(h.data.color);case a.first:let t=h.color,e=h.data.color;t.add((e.r-t.r)*r,(e.g-t.g)*r,(e.b-t.b)*r,(e.a-t.a)*r)}return}let c=0,f=0,m=0,g=0;if(i>=u[u.length-d.ENTRIES]){let t=u.length;c=u[t+d.PREV_R],f=u[t+d.PREV_G],m=u[t+d.PREV_B],g=u[t+d.PREV_A]}else{let t=e.binarySearch(u,i,d.ENTRIES);c=u[t+d.PREV_R],f=u[t+d.PREV_G],m=u[t+d.PREV_B],g=u[t+d.PREV_A];let a=u[t],s=this.getCurvePercent(t/d.ENTRIES-1,1-(i-a)/(u[t+d.PREV_TIME]-a));c+=(u[t+d.R]-c)*s,f+=(u[t+d.G]-f)*s,m+=(u[t+d.B]-m)*s,g+=(u[t+d.A]-g)*s}if(1==r)h.color.set(c,f,m,g);else{let t=h.color;l==a.setup&&t.setFromColor(h.data.color),t.add((c-t.r)*r,(f-t.g)*r,(m-t.b)*r,(g-t.a)*r)}}}d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_R=-4,d.PREV_G=-3,d.PREV_B=-2,d.PREV_A=-1,d.R=1,d.G=2,d.B=3,d.A=4,t.ColorTimeline=d;class u extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e*u.ENTRIES)}getPropertyId(){return(i.twoColor<<24)+this.slotIndex}setFrame(t,e,a,s,i,n,r,l,o){t*=u.ENTRIES,this.frames[t]=e,this.frames[t+u.R]=a,this.frames[t+u.G]=s,this.frames[t+u.B]=i,this.frames[t+u.A]=n,this.frames[t+u.R2]=r,this.frames[t+u.G2]=l,this.frames[t+u.B2]=o}apply(t,s,i,n,r,l,o){let h=t.slots[this.slotIndex];if(!h.bone.active)return;let d=this.frames;if(i<d[0]){switch(l){case a.setup:return h.color.setFromColor(h.data.color),void h.darkColor.setFromColor(h.data.darkColor);case a.first:let t=h.color,e=h.darkColor,s=h.data.color,i=h.data.darkColor;t.add((s.r-t.r)*r,(s.g-t.g)*r,(s.b-t.b)*r,(s.a-t.a)*r),e.add((i.r-e.r)*r,(i.g-e.g)*r,(i.b-e.b)*r,0)}return}let c=0,f=0,m=0,g=0,p=0,w=0,x=0;if(i>=d[d.length-u.ENTRIES]){let t=d.length;c=d[t+u.PREV_R],f=d[t+u.PREV_G],m=d[t+u.PREV_B],g=d[t+u.PREV_A],p=d[t+u.PREV_R2],w=d[t+u.PREV_G2],x=d[t+u.PREV_B2]}else{let t=e.binarySearch(d,i,u.ENTRIES);c=d[t+u.PREV_R],f=d[t+u.PREV_G],m=d[t+u.PREV_B],g=d[t+u.PREV_A],p=d[t+u.PREV_R2],w=d[t+u.PREV_G2],x=d[t+u.PREV_B2];let a=d[t],s=this.getCurvePercent(t/u.ENTRIES-1,1-(i-a)/(d[t+u.PREV_TIME]-a));c+=(d[t+u.R]-c)*s,f+=(d[t+u.G]-f)*s,m+=(d[t+u.B]-m)*s,g+=(d[t+u.A]-g)*s,p+=(d[t+u.R2]-p)*s,w+=(d[t+u.G2]-w)*s,x+=(d[t+u.B2]-x)*s}if(1==r)h.color.set(c,f,m,g),h.darkColor.set(p,w,x,1);else{let t=h.color,e=h.darkColor;l==a.setup&&(t.setFromColor(h.data.color),e.setFromColor(h.data.darkColor)),t.add((c-t.r)*r,(f-t.g)*r,(m-t.b)*r,(g-t.a)*r),e.add((p-e.r)*r,(w-e.g)*r,(x-e.b)*r,0)}}}u.ENTRIES=8,u.PREV_TIME=-8,u.PREV_R=-7,u.PREV_G=-6,u.PREV_B=-5,u.PREV_A=-4,u.PREV_R2=-3,u.PREV_G2=-2,u.PREV_B2=-1,u.R=1,u.G=2,u.B=3,u.A=4,u.R2=5,u.G2=6,u.B2=7,t.TwoColorTimeline=u;t.AttachmentTimeline=class{constructor(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}getPropertyId(){return(i.attachment<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(t,e,a){this.frames[t]=e,this.attachmentNames[t]=a}apply(t,i,n,r,l,o,h){let d=t.slots[this.slotIndex];if(!d.bone.active)return;if(h==s.mixOut)return void(o==a.setup&&this.setAttachment(t,d,d.data.attachmentName));let u=this.frames;if(n<u[0])return void(o!=a.setup&&o!=a.first||this.setAttachment(t,d,d.data.attachmentName));let c=0;c=n>=u[u.length-1]?u.length-1:e.binarySearch(u,n,1)-1;let f=this.attachmentNames[c];t.slots[this.slotIndex].setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}setAttachment(t,e,a){e.attachment=null==a?null:t.getAttachment(this.slotIndex,a)}};let c=null;t.DeformTimeline=class extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e),this.frameVertices=new Array(e),null==c&&(c=t.Utils.newFloatArray(64))}getPropertyId(){return(i.deform<<27)+ +this.attachment.id+this.slotIndex}setFrame(t,e,a){this.frames[t]=e,this.frameVertices[t]=a}apply(s,i,n,r,l,o,h){let d=s.slots[this.slotIndex];if(!d.bone.active)return;let u=d.getAttachment();if(!(u instanceof t.VertexAttachment)||u.deformAttachment!=this.attachment)return;let c=d.deform;0==c.length&&(o=a.setup);let f=this.frameVertices,m=f[0].length,g=this.frames;if(n<g[0]){let e=u;switch(o){case a.setup:return void(c.length=0);case a.first:if(1==l){c.length=0;break}let s=t.Utils.setArraySize(c,m);if(null==e.bones){let t=e.vertices;for(var p=0;p<m;p++)s[p]+=(t[p]-s[p])*l}else{l=1-l;for(p=0;p<m;p++)s[p]*=l}}return}let w=t.Utils.setArraySize(c,m);if(n>=g[g.length-1]){let e=f[g.length-1];if(1==l)if(o==a.add){let t=u;if(null==t.bones){let a=t.vertices;for(let t=0;t<m;t++)w[t]+=e[t]-a[t]}else for(let t=0;t<m;t++)w[t]+=e[t]}else t.Utils.arrayCopy(e,0,w,0,m);else switch(o){case a.setup:{let t=u;if(null==t.bones){let a=t.vertices;for(let t=0;t<m;t++){let s=a[t];w[t]=s+(e[t]-s)*l}}else for(let t=0;t<m;t++)w[t]=e[t]*l;break}case a.first:case a.replace:for(let t=0;t<m;t++)w[t]+=(e[t]-w[t])*l;break;case a.add:let t=u;if(null==t.bones){let a=t.vertices;for(let t=0;t<m;t++)w[t]+=(e[t]-a[t])*l}else for(let t=0;t<m;t++)w[t]+=e[t]*l}return}let x=e.binarySearch(g,n),M=f[x-1],E=f[x],T=g[x],A=this.getCurvePercent(x-1,1-(n-T)/(g[x-1]-T));if(1==l)if(o==a.add){let t=u;if(null==t.bones){let e=t.vertices;for(let t=0;t<m;t++){let a=M[t];w[t]+=a+(E[t]-a)*A-e[t]}}else for(let t=0;t<m;t++){let e=M[t];w[t]+=e+(E[t]-e)*A}}else for(let t=0;t<m;t++){let e=M[t];w[t]=e+(E[t]-e)*A}else switch(o){case a.setup:{let t=u;if(null==t.bones){let e=t.vertices;for(let t=0;t<m;t++){let a=M[t],s=e[t];w[t]=s+(a+(E[t]-a)*A-s)*l}}else for(let t=0;t<m;t++){let e=M[t];w[t]=(e+(E[t]-e)*A)*l}break}case a.first:case a.replace:for(let t=0;t<m;t++){let e=M[t];w[t]+=(e+(E[t]-e)*A-w[t])*l}break;case a.add:let t=u;if(null==t.bones){let e=t.vertices;for(let t=0;t<m;t++){let a=M[t];w[t]+=(a+(E[t]-a)*A-e[t])*l}}else for(let t=0;t<m;t++){let e=M[t];w[t]+=(e+(E[t]-e)*A)*l}}}};t.EventTimeline=class{constructor(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}getPropertyId(){return i.event<<24}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,a,s,i,n,r,l){if(null==i)return;let o=this.frames,h=this.frames.length;if(a>s)this.apply(t,a,Number.MAX_VALUE,i,n,r,l),a=-1;else if(a>=o[h-1])return;if(s<o[0])return;let d=0;if(a<o[0])d=0;else{d=e.binarySearch(o,a);let t=o[d];for(;d>0&&o[d-1]==t;)d--}for(;d<h&&s>=o[d];d++)i.push(this.events[d])}};t.DrawOrderTimeline=class{constructor(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}getPropertyId(){return i.drawOrder<<24}getFrameCount(){return this.frames.length}setFrame(t,e,a){this.frames[t]=e,this.drawOrders[t]=a}apply(i,n,r,l,o,h,d){let u=i.drawOrder,c=i.slots;if(d==s.mixOut)return void(h==a.setup&&t.Utils.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length));let f=this.frames;if(r<f[0])return void(h!=a.setup&&h!=a.first||t.Utils.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length));let m=0;m=r>=f[f.length-1]?f.length-1:e.binarySearch(f,r)-1;let g=this.drawOrders[m];if(null==g)t.Utils.arrayCopy(c,0,u,0,c.length);else for(let t=0,e=g.length;t<e;t++)u[t]=c[g[t]]}};class f extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e*f.ENTRIES)}getPropertyId(){return(i.ikConstraint<<24)+this.ikConstraintIndex}setFrame(t,e,a,s,i,n,r){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.MIX]=a,this.frames[t+f.SOFTNESS]=s,this.frames[t+f.BEND_DIRECTION]=i,this.frames[t+f.COMPRESS]=n?1:0,this.frames[t+f.STRETCH]=r?1:0}apply(t,i,n,r,l,o,h){let d=this.frames,u=t.ikConstraints[this.ikConstraintIndex];if(!u.active)return;if(n<d[0]){switch(o){case a.setup:return u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,void(u.stretch=u.data.stretch);case a.first:u.mix+=(u.data.mix-u.mix)*l,u.softness+=(u.data.softness-u.softness)*l,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}if(n>=d[d.length-f.ENTRIES])return void(o==a.setup?(u.mix=u.data.mix+(d[d.length+f.PREV_MIX]-u.data.mix)*l,u.softness=u.data.softness+(d[d.length+f.PREV_SOFTNESS]-u.data.softness)*l,h==s.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=d[d.length+f.PREV_BEND_DIRECTION],u.compress=0!=d[d.length+f.PREV_COMPRESS],u.stretch=0!=d[d.length+f.PREV_STRETCH])):(u.mix+=(d[d.length+f.PREV_MIX]-u.mix)*l,u.softness+=(d[d.length+f.PREV_SOFTNESS]-u.softness)*l,h==s.mixIn&&(u.bendDirection=d[d.length+f.PREV_BEND_DIRECTION],u.compress=0!=d[d.length+f.PREV_COMPRESS],u.stretch=0!=d[d.length+f.PREV_STRETCH])));let c=e.binarySearch(d,n,f.ENTRIES),m=d[c+f.PREV_MIX],g=d[c+f.PREV_SOFTNESS],p=d[c],w=this.getCurvePercent(c/f.ENTRIES-1,1-(n-p)/(d[c+f.PREV_TIME]-p));o==a.setup?(u.mix=u.data.mix+(m+(d[c+f.MIX]-m)*w-u.data.mix)*l,u.softness=u.data.softness+(g+(d[c+f.SOFTNESS]-g)*w-u.data.softness)*l,h==s.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=d[c+f.PREV_BEND_DIRECTION],u.compress=0!=d[c+f.PREV_COMPRESS],u.stretch=0!=d[c+f.PREV_STRETCH])):(u.mix+=(m+(d[c+f.MIX]-m)*w-u.mix)*l,u.softness+=(g+(d[c+f.SOFTNESS]-g)*w-u.softness)*l,h==s.mixIn&&(u.bendDirection=d[c+f.PREV_BEND_DIRECTION],u.compress=0!=d[c+f.PREV_COMPRESS],u.stretch=0!=d[c+f.PREV_STRETCH]))}}f.ENTRIES=6,f.PREV_TIME=-6,f.PREV_MIX=-5,f.PREV_SOFTNESS=-4,f.PREV_BEND_DIRECTION=-3,f.PREV_COMPRESS=-2,f.PREV_STRETCH=-1,f.MIX=1,f.SOFTNESS=2,f.BEND_DIRECTION=3,f.COMPRESS=4,f.STRETCH=5,t.IkConstraintTimeline=f;class m extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e*m.ENTRIES)}getPropertyId(){return(i.transformConstraint<<24)+this.transformConstraintIndex}setFrame(t,e,a,s,i,n){t*=m.ENTRIES,this.frames[t]=e,this.frames[t+m.ROTATE]=a,this.frames[t+m.TRANSLATE]=s,this.frames[t+m.SCALE]=i,this.frames[t+m.SHEAR]=n}apply(t,s,i,n,r,l,o){let h=this.frames,d=t.transformConstraints[this.transformConstraintIndex];if(!d.active)return;if(i<h[0]){let t=d.data;switch(l){case a.setup:return d.rotateMix=t.rotateMix,d.translateMix=t.translateMix,d.scaleMix=t.scaleMix,void(d.shearMix=t.shearMix);case a.first:d.rotateMix+=(t.rotateMix-d.rotateMix)*r,d.translateMix+=(t.translateMix-d.translateMix)*r,d.scaleMix+=(t.scaleMix-d.scaleMix)*r,d.shearMix+=(t.shearMix-d.shearMix)*r}return}let u=0,c=0,f=0,g=0;if(i>=h[h.length-m.ENTRIES]){let t=h.length;u=h[t+m.PREV_ROTATE],c=h[t+m.PREV_TRANSLATE],f=h[t+m.PREV_SCALE],g=h[t+m.PREV_SHEAR]}else{let t=e.binarySearch(h,i,m.ENTRIES);u=h[t+m.PREV_ROTATE],c=h[t+m.PREV_TRANSLATE],f=h[t+m.PREV_SCALE],g=h[t+m.PREV_SHEAR];let a=h[t],s=this.getCurvePercent(t/m.ENTRIES-1,1-(i-a)/(h[t+m.PREV_TIME]-a));u+=(h[t+m.ROTATE]-u)*s,c+=(h[t+m.TRANSLATE]-c)*s,f+=(h[t+m.SCALE]-f)*s,g+=(h[t+m.SHEAR]-g)*s}if(l==a.setup){let t=d.data;d.rotateMix=t.rotateMix+(u-t.rotateMix)*r,d.translateMix=t.translateMix+(c-t.translateMix)*r,d.scaleMix=t.scaleMix+(f-t.scaleMix)*r,d.shearMix=t.shearMix+(g-t.shearMix)*r}else d.rotateMix+=(u-d.rotateMix)*r,d.translateMix+=(c-d.translateMix)*r,d.scaleMix+=(f-d.scaleMix)*r,d.shearMix+=(g-d.shearMix)*r}}m.ENTRIES=5,m.PREV_TIME=-5,m.PREV_ROTATE=-4,m.PREV_TRANSLATE=-3,m.PREV_SCALE=-2,m.PREV_SHEAR=-1,m.ROTATE=1,m.TRANSLATE=2,m.SCALE=3,m.SHEAR=4,t.TransformConstraintTimeline=m;class g extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e*g.ENTRIES)}getPropertyId(){return(i.pathConstraintPosition<<24)+this.pathConstraintIndex}setFrame(t,e,a){t*=g.ENTRIES,this.frames[t]=e,this.frames[t+g.VALUE]=a}apply(t,s,i,n,r,l,o){let h=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(!d.active)return;if(i<h[0]){switch(l){case a.setup:return void(d.position=d.data.position);case a.first:d.position+=(d.data.position-d.position)*r}return}let u=0;if(i>=h[h.length-g.ENTRIES])u=h[h.length+g.PREV_VALUE];else{let t=e.binarySearch(h,i,g.ENTRIES);u=h[t+g.PREV_VALUE];let a=h[t],s=this.getCurvePercent(t/g.ENTRIES-1,1-(i-a)/(h[t+g.PREV_TIME]-a));u+=(h[t+g.VALUE]-u)*s}l==a.setup?d.position=d.data.position+(u-d.data.position)*r:d.position+=(u-d.position)*r}}g.ENTRIES=2,g.PREV_TIME=-2,g.PREV_VALUE=-1,g.VALUE=1,t.PathConstraintPositionTimeline=g;class p extends g{constructor(t){super(t)}getPropertyId(){return(i.pathConstraintSpacing<<24)+this.pathConstraintIndex}apply(t,s,i,n,r,l,o){let h=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(!d.active)return;if(i<h[0]){switch(l){case a.setup:return void(d.spacing=d.data.spacing);case a.first:d.spacing+=(d.data.spacing-d.spacing)*r}return}let u=0;if(i>=h[h.length-p.ENTRIES])u=h[h.length+p.PREV_VALUE];else{let t=e.binarySearch(h,i,p.ENTRIES);u=h[t+p.PREV_VALUE];let a=h[t],s=this.getCurvePercent(t/p.ENTRIES-1,1-(i-a)/(h[t+p.PREV_TIME]-a));u+=(h[t+p.VALUE]-u)*s}l==a.setup?d.spacing=d.data.spacing+(u-d.data.spacing)*r:d.spacing+=(u-d.spacing)*r}}t.PathConstraintSpacingTimeline=p;class w extends n{constructor(e){super(e),this.frames=t.Utils.newFloatArray(e*w.ENTRIES)}getPropertyId(){return(i.pathConstraintMix<<24)+this.pathConstraintIndex}setFrame(t,e,a,s){t*=w.ENTRIES,this.frames[t]=e,this.frames[t+w.ROTATE]=a,this.frames[t+w.TRANSLATE]=s}apply(t,s,i,n,r,l,o){let h=this.frames,d=t.pathConstraints[this.pathConstraintIndex];if(!d.active)return;if(i<h[0]){switch(l){case a.setup:return d.rotateMix=d.data.rotateMix,void(d.translateMix=d.data.translateMix);case a.first:d.rotateMix+=(d.data.rotateMix-d.rotateMix)*r,d.translateMix+=(d.data.translateMix-d.translateMix)*r}return}let u=0,c=0;if(i>=h[h.length-w.ENTRIES])u=h[h.length+w.PREV_ROTATE],c=h[h.length+w.PREV_TRANSLATE];else{let t=e.binarySearch(h,i,w.ENTRIES);u=h[t+w.PREV_ROTATE],c=h[t+w.PREV_TRANSLATE];let a=h[t],s=this.getCurvePercent(t/w.ENTRIES-1,1-(i-a)/(h[t+w.PREV_TIME]-a));u+=(h[t+w.ROTATE]-u)*s,c+=(h[t+w.TRANSLATE]-c)*s}l==a.setup?(d.rotateMix=d.data.rotateMix+(u-d.data.rotateMix)*r,d.translateMix=d.data.translateMix+(c-d.data.translateMix)*r):(d.rotateMix+=(u-d.rotateMix)*r,d.translateMix+=(c-d.translateMix)*r)}}w.ENTRIES=3,w.PREV_TIME=-3,w.PREV_ROTATE=-2,w.PREV_TRANSLATE=-1,w.ROTATE=1,w.TRANSLATE=2,t.PathConstraintMixTimeline=w}(spine||(spine={})),function(t){class e{constructor(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new s(this),this.propertyIDs=new t.IntSet,this.animationsChanged=!1,this.trackEntryPool=new t.Pool(()=>new a),this.data=e}update(t){t*=this.timeScale;let e=this.tracks;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(null==s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let i=t*s.timeScale;if(s.delay>0){if(s.delay-=i,s.delay>0)continue;i=-s.delay,s.delay=0}let n=s.next;if(null!=n){let e=s.trackLast-n.delay;if(e>=0){for(n.delay=0,n.trackTime+=0==s.timeScale?0:(e/s.timeScale+t)*n.timeScale,s.trackTime+=i,this.setCurrent(a,n,!0);null!=n.mixingFrom;)n.mixTime+=t,n=n.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&null==s.mixingFrom){e[a]=null,this.queue.end(s),this.disposeNext(s);continue}if(null!=s.mixingFrom&&this.updateMixingFrom(s,t)){let t=s.mixingFrom;for(s.mixingFrom=null,null!=t&&(t.mixingTo=null);null!=t;)this.queue.end(t),t=t.mixingFrom}s.trackTime+=i}this.queue.drain()}updateMixingFrom(t,e){let a=t.mixingFrom;if(null==a)return!0;let s=this.updateMixingFrom(a,e);return a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=a.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=a.mixingFrom,null!=a.mixingFrom&&(a.mixingFrom.mixingTo=t),t.interruptAlpha=a.interruptAlpha,this.queue.end(a)),s):(a.trackTime+=e*a.timeScale,t.mixTime+=e,!1)}apply(a){if(null==a)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let s=this.events,i=this.tracks,n=!1;for(let l=0,o=i.length;l<o;l++){let o=i[l];if(null==o||o.delay>0)continue;n=!0;let h=0==l?t.MixBlend.first:o.mixBlend,d=o.alpha;null!=o.mixingFrom?d*=this.applyMixingFrom(o,a,h):o.trackTime>=o.trackEnd&&null==o.next&&(d=0);let u=o.animationLast,c=o.getAnimationTime(),f=o.animation.timelines.length,m=o.animation.timelines;if(0==l&&1==d||h==t.MixBlend.add)for(let e=0;e<f;e++){t.Utils.webkit602BugfixHelper(d,h);var r=m[e];r instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(r,a,c,h,!0):r.apply(a,u,c,s,d,h,t.MixDirection.mixIn)}else{let i=o.timelineMode,n=0==o.timelinesRotation.length;n&&t.Utils.setArraySize(o.timelinesRotation,f<<1,null);let r=o.timelinesRotation;for(let l=0;l<f;l++){let o=m[l],f=i[l]==e.SUBSEQUENT?h:t.MixBlend.setup;o instanceof t.RotateTimeline?this.applyRotateTimeline(o,a,c,d,f,r,l<<1,n):o instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(o,a,c,h,!0):(t.Utils.webkit602BugfixHelper(d,h),o.apply(a,u,c,s,d,f,t.MixDirection.mixIn))}}this.queueEvents(o,c),s.length=0,o.nextAnimationLast=c,o.nextTrackLast=o.trackTime}for(var l=this.unkeyedState+e.SETUP,o=a.slots,h=0,d=a.slots.length;h<d;h++){var u=o[h];if(u.attachmentState==l){var c=u.data.attachmentName;u.attachment=null==c?null:a.getAttachment(u.data.index,c)}}return this.unkeyedState+=2,this.queue.drain(),n}applyMixingFrom(a,s,i){let n=a.mixingFrom;null!=n.mixingFrom&&this.applyMixingFrom(n,s,i);let r=0;0==a.mixDuration?(r=1,i==t.MixBlend.first&&(i=t.MixBlend.setup)):(r=a.mixTime/a.mixDuration,r>1&&(r=1),i!=t.MixBlend.first&&(i=n.mixBlend));let l=r<n.eventThreshold?this.events:null,o=r<n.attachmentThreshold,h=r<n.drawOrderThreshold,d=n.animationLast,u=n.getAnimationTime(),c=n.animation.timelines.length,f=n.animation.timelines,m=n.alpha*a.interruptAlpha,g=m*(1-r);if(i==t.MixBlend.add)for(let e=0;e<c;e++)f[e].apply(s,d,u,l,g,i,t.MixDirection.mixOut);else{let a=n.timelineMode,r=n.timelineHoldMix,p=0==n.timelinesRotation.length;p&&t.Utils.setArraySize(n.timelinesRotation,c<<1,null);let w=n.timelinesRotation;n.totalAlpha=0;for(let x=0;x<c;x++){let c,M=f[x],E=t.MixDirection.mixOut,T=0;switch(a[x]){case e.SUBSEQUENT:if(!h&&M instanceof t.DrawOrderTimeline)continue;c=i,T=g;break;case e.FIRST:c=t.MixBlend.setup,T=g;break;case e.HOLD:c=t.MixBlend.setup,T=m;break;default:c=t.MixBlend.setup;let a=r[x];T=m*Math.max(0,1-a.mixTime/a.mixDuration)}n.totalAlpha+=T,M instanceof t.RotateTimeline?this.applyRotateTimeline(M,s,u,T,c,w,x<<1,p):M instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(M,s,u,c,o):(t.Utils.webkit602BugfixHelper(T,i),h&&M instanceof t.DrawOrderTimeline&&c==t.MixBlend.setup&&(E=t.MixDirection.mixIn),M.apply(s,d,u,l,T,c,E))}}return a.mixDuration>0&&this.queueEvents(n,u),this.events.length=0,n.nextAnimationLast=u,n.nextTrackLast=n.trackTime,r}applyAttachmentTimeline(a,s,i,n,r){var l=s.slots[a.slotIndex];if(l.bone.active){var o,h=a.frames;if(i<h[0])n!=t.MixBlend.setup&&n!=t.MixBlend.first||this.setAttachment(s,l,l.data.attachmentName,r);else o=i>=h[h.length-1]?h.length-1:t.Animation.binarySearch(h,i)-1,this.setAttachment(s,l,a.attachmentNames[o],r);l.attachmentState<=this.unkeyedState&&(l.attachmentState=this.unkeyedState+e.SETUP)}}setAttachment(t,a,s,i){a.attachment=null==s?null:t.getAttachment(a.data.index,s),i&&(a.attachmentState=this.unkeyedState+e.CURRENT)}applyRotateTimeline(e,a,s,i,n,r,l,o){if(o&&(r[l]=0),1==i)return void e.apply(a,0,s,null,1,n,t.MixDirection.mixIn);let h=e,d=h.frames,u=a.bones[h.boneIndex];if(!u.active)return;let c=0,f=0;if(s<d[0])switch(n){case t.MixBlend.setup:u.rotation=u.data.rotation;default:return;case t.MixBlend.first:c=u.rotation,f=u.data.rotation}else if(c=n==t.MixBlend.setup?u.data.rotation:u.rotation,s>=d[d.length-t.RotateTimeline.ENTRIES])f=u.data.rotation+d[d.length+t.RotateTimeline.PREV_ROTATION];else{let e=t.Animation.binarySearch(d,s,t.RotateTimeline.ENTRIES),a=d[e+t.RotateTimeline.PREV_ROTATION],i=d[e],n=h.getCurvePercent((e>>1)-1,1-(s-i)/(d[e+t.RotateTimeline.PREV_TIME]-i));f=d[e+t.RotateTimeline.ROTATION]-a,f-=360*(16384-(16384.499999999996-f/360|0)),f=a+f*n+u.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}let m=0,g=f-c;if(g-=360*(16384-(16384.499999999996-g/360|0)),0==g)m=r[l];else{let e=0,a=0;o?(e=0,a=g):(e=r[l],a=r[l+1]);let s=g>0,i=e>=0;t.MathUtils.signum(a)!=t.MathUtils.signum(g)&&Math.abs(a)<=90&&(Math.abs(e)>180&&(e+=360*t.MathUtils.signum(e)),i=s),m=g+e-e%360,i!=s&&(m+=360*t.MathUtils.signum(e)),r[l]=m}r[l+1]=g,c+=m*i,u.rotation=c-360*(16384-(16384.499999999996-c/360|0))}queueEvents(t,e){let a=t.animationStart,s=t.animationEnd,i=s-a,n=t.trackLast%i,r=this.events,l=0,o=r.length;for(;l<o;l++){let e=r[l];if(e.time<n)break;e.time>s||this.queue.event(t,e)}let h=!1;for(h=t.loop?0==i||n>t.trackTime%i:e>=s&&t.animationLast<s,h&&this.queue.complete(t);l<o;l++){r[l].time<a||this.queue.event(t,r[l])}}clearTracks(){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;let e=this.tracks[t];if(null==e)return;this.queue.end(e),this.disposeNext(e);let a=e;for(;;){let t=a.mixingFrom;if(null==t)break;this.queue.end(t),a.mixingFrom=null,a.mixingTo=null,a=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,a){let s=this.expandToIndex(t);this.tracks[t]=e,null!=s&&(a&&this.queue.interrupt(s),e.mixingFrom=s,s.mixingTo=e,e.mixTime=0,null!=s.mixingFrom&&s.mixDuration>0&&(e.interruptAlpha*=Math.min(1,s.mixTime/s.mixDuration)),s.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,a){let s=this.data.skeletonData.findAnimation(e);if(null==s)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,s,a)}setAnimationWith(t,e,a){if(null==e)throw new Error("animation cannot be null.");let s=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,s=!1):this.disposeNext(i));let n=this.trackEntry(t,e,a,i);return this.setCurrent(t,n,s),this.queue.drain(),n}addAnimation(t,e,a,s){let i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,a,s)}addAnimationWith(t,e,a,s){if(null==e)throw new Error("animation cannot be null.");let i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;let n=this.trackEntry(t,e,a,i);if(null==i)this.setCurrent(t,n,!0),this.queue.drain();else if(i.next=n,s<=0){let t=i.animationEnd-i.animationStart;0!=t?(i.loop?s+=t*(1+(i.trackTime/t|0)):s+=Math.max(t,i.trackTime),s-=this.data.getMix(i.animation,e)):s=i.trackTime}return n.delay=s,n}setEmptyAnimation(t,a){let s=this.setAnimationWith(t,e.emptyAnimation,!1);return s.mixDuration=a,s.trackEnd=a,s}addEmptyAnimation(t,a,s){s<=0&&(s-=a);let i=this.addAnimationWith(t,e.emptyAnimation,!1,s);return i.mixDuration=a,i.trackEnd=a,i}setEmptyAnimations(t){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,a=this.tracks.length;e<a;e++){let a=this.tracks[e];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}trackEntry(e,a,s,i){let n=this.trackEntryPool.obtain();return n.trackIndex=e,n.animation=a,n.loop=s,n.holdPrevious=!1,n.eventThreshold=0,n.attachmentThreshold=0,n.drawOrderThreshold=0,n.animationStart=0,n.animationEnd=a.duration,n.animationLast=-1,n.nextAnimationLast=-1,n.delay=0,n.trackTime=0,n.trackLast=-1,n.nextTrackLast=-1,n.trackEnd=Number.MAX_VALUE,n.timeScale=1,n.alpha=1,n.interruptAlpha=1,n.mixTime=0,n.mixDuration=null==i?0:this.data.getMix(i.animation,a),n.mixBlend=t.MixBlend.replace,n}disposeNext(t){let e=t.next;for(;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();for(let e=0,a=this.tracks.length;e<a;e++){let a=this.tracks[e];if(null!=a){for(;null!=a.mixingFrom;)a=a.mixingFrom;do{null!=a.mixingFrom&&a.mixBlend==t.MixBlend.add||this.computeHold(a),a=a.mixingTo}while(null!=a)}}}computeHold(a){let s=a.mixingTo,i=a.animation.timelines,n=a.animation.timelines.length,r=t.Utils.setArraySize(a.timelineMode,n);a.timelineHoldMix.length=0;let l=t.Utils.setArraySize(a.timelineHoldMix,n),o=this.propertyIDs;if(null!=s&&s.holdPrevious)for(let t=0;t<n;t++)o.add(i[t].getPropertyId()),r[t]=e.HOLD;else t:for(let h=0;h<n;h++){let n=i[h],d=n.getPropertyId();if(o.add(d))if(null==s||n instanceof t.AttachmentTimeline||n instanceof t.DrawOrderTimeline||n instanceof t.EventTimeline||!s.animation.hasTimeline(d))r[h]=e.FIRST;else{for(let t=s.mixingTo;null!=t;t=t.mixingTo)if(!t.animation.hasTimeline(d)){if(a.mixDuration>0){r[h]=e.HOLD_MIX,l[h]=t;continue t}break}r[h]=e.HOLD}else r[h]=e.SUBSEQUENT}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}}e.emptyAnimation=new t.Animation("<empty>",[],0),e.SUBSEQUENT=0,e.FIRST=1,e.HOLD=2,e.HOLD_MIX=3,e.SETUP=1,e.CURRENT=2,t.AnimationState=e;class a{constructor(){this.mixBlend=t.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}}t.TrackEntry=a;class s{constructor(t){this.objects=[],this.drainDisabled=!1,this.animState=t}start(t){this.objects.push(i.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(i.interrupt),this.objects.push(t)}end(t){this.objects.push(i.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(i.dispose),this.objects.push(t)}complete(t){this.objects.push(i.complete),this.objects.push(t)}event(t,e){this.objects.push(i.event),this.objects.push(t),this.objects.push(e)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let t=this.objects,e=this.animState.listeners;for(let a=0;a<t.length;a+=2){let s=t[a],n=t[a+1];switch(s){case i.start:null!=n.listener&&n.listener.start&&n.listener.start(n);for(let t=0;t<e.length;t++)e[t].start&&e[t].start(n);break;case i.interrupt:null!=n.listener&&n.listener.interrupt&&n.listener.interrupt(n);for(let t=0;t<e.length;t++)e[t].interrupt&&e[t].interrupt(n);break;case i.end:null!=n.listener&&n.listener.end&&n.listener.end(n);for(let t=0;t<e.length;t++)e[t].end&&e[t].end(n);case i.dispose:null!=n.listener&&n.listener.dispose&&n.listener.dispose(n);for(let t=0;t<e.length;t++)e[t].dispose&&e[t].dispose(n);this.animState.trackEntryPool.free(n);break;case i.complete:null!=n.listener&&n.listener.complete&&n.listener.complete(n);for(let t=0;t<e.length;t++)e[t].complete&&e[t].complete(n);break;case i.event:let s=t[2+a++];null!=n.listener&&n.listener.event&&n.listener.event(n,s);for(let t=0;t<e.length;t++)e[t].event&&e[t].event(n,s)}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}let i;t.EventQueue=s,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(i=t.EventType||(t.EventType={}));t.AnimationStateAdapter=class{start(t){}interrupt(t){}end(t){}dispose(t){}complete(t){}event(t,e){}}}(spine||(spine={})),function(t){t.AnimationStateData=class{constructor(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,a){let s=this.skeletonData.findAnimation(t);if(null==s)throw new Error("Animation not found: "+t);let i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(s,i,a)}setMixWith(t,e,a){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");let s=t.name+"."+e.name;this.animationToMixTime[s]=a}getMix(t,e){let a=t.name+"."+e.name,s=this.animationToMixTime[a];return void 0===s?this.defaultMix:s}}}(spine||(spine={})),function(t){t.AssetManager=class{constructor(t,e=""){this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=t,this.pathPrefix=e}downloadText(t,e,a){let s=Laya.Laya?Laya.Laya:Laya;s.loader.load([{type:s.Loader.TEXT,url:t}],s.Handler.create(this,i=>{i?e(s.loader.getRes(t)):a("download text error: ",t)}))}downloadBinary(t,e,a){let s=Laya.Laya?Laya.Laya:Laya;s.loader.load([{type:s.Loader.BUFFER,url:t}],s.Handler.create(this,i=>{i?e(new Uint8Array(s.loader.getRes(t))):a("download binary error: ",t)}))}setRawDataURI(t,e){this.rawDataUris[this.pathPrefix+t]=e}loadBinary(t,e=null,a=null){t=this.pathPrefix+t,this.toLoad++,this.downloadBinary(t,a=>{this.assets[t]=a,e&&e(t,a),this.toLoad--,this.loaded++},(e,s)=>{this.errors[t]=`Couldn't load binary ${t}: status ${e}, ${s}`,a&&a(t,`Couldn't load binary ${t}: status ${e}, ${s}`),this.toLoad--,this.loaded++})}loadText(t,e=null,a=null){t=this.pathPrefix+t,this.toLoad++,this.downloadText(t,a=>{this.assets[t]=a,e&&e(t,a),this.toLoad--,this.loaded++},(e,s)=>{this.errors[t]=`Couldn't load text ${t}: status ${status}, ${s}`,a&&a(t,`Couldn't load text ${t}: status ${status}, ${s}`),this.toLoad--,this.loaded++})}loadTexture(t,e=null,a=null){t=this.pathPrefix+t;this.toLoad++;let s=Laya.Laya?Laya.Laya:Laya;s.loader.load([{type:s.Loader.IMAGE,url:t}],s.Handler.create(this,i=>{if(i){let a=this.textureLoader(s.loader.getRes(t));this.assets[t]=a,this.toLoad--,this.loaded++,e&&e(t,a)}else this.errors[t]="Couldn't load text "+t,this.toLoad--,this.loaded++,a&&a(t,"Couldn't load image "+t)}))}loadTextureAtlas(e,a=null,s=null){let i=e.lastIndexOf("/")>=0?e.substring(0,e.lastIndexOf("/")):"";e=this.pathPrefix+e,this.toLoad++,this.downloadText(e,n=>{let r={count:0},l=new Array;try{new t.TextureAtlas(n,e=>{l.push(""==i?e:i+"/"+e);let a=document.createElement("img");return new t.FakeTexture(a)})}catch(t){let a=t;return this.errors[e]=`Couldn't load texture atlas ${e}: ${a.message}`,s&&s(e,`Couldn't load texture atlas ${e}: ${a.message}`),this.toLoad--,void this.loaded++}for(let o of l){let h=!1;this.loadTexture(o,(o,d)=>{if(r.count++,r.count==l.length)if(h)this.errors[e]=`Couldn't load texture atlas page ${o}} of atlas ${e}`,s&&s(e,`Couldn't load texture atlas page ${o} of atlas ${e}`),this.toLoad--,this.loaded++;else try{let s=new t.TextureAtlas(n,t=>this.get(""==i?t:i+"/"+t));this.assets[e]=s,a&&a(e,s),this.toLoad--,this.loaded++}catch(t){let a=t;this.errors[e]=`Couldn't load texture atlas ${e}: ${a.message}`,s&&s(e,`Couldn't load texture atlas ${e}: ${a.message}`),this.toLoad--,this.loaded++}},(t,a)=>{h=!0,r.count++,r.count==l.length&&(this.errors[e]=`Couldn't load texture atlas page ${t}} of atlas ${e}`,s&&s(e,`Couldn't load texture atlas page ${t} of atlas ${e}`),this.toLoad--,this.loaded++)})}},(t,a)=>{this.errors[e]=`Couldn't load texture atlas ${e}: status ${status}, ${a}`,s&&s(e,`Couldn't load texture atlas ${e}: status ${status}, ${a}`),this.toLoad--,this.loaded++})}get(t){return t=this.pathPrefix+t,this.assets[t]}remove(t){t=this.pathPrefix+t;let e=this.assets[t];e.dispose&&e.dispose(),this.assets[t]=null}removeAll(){for(let t in this.assets){let e=this.assets[t];e.dispose&&e.dispose()}this.assets={}}isLoadingComplete(){return 0==this.toLoad}getToLoad(){return this.toLoad}getLoaded(){return this.loaded}dispose(){this.removeAll()}hasErrors(){return Object.keys(this.errors).length>0}getErrors(){return this.errors}}}(spine||(spine={})),function(t){t.AtlasAttachmentLoader=class{constructor(t){this.atlas=t}newRegionAttachment(e,a,s){let i=this.atlas.findRegion(s);if(null==i)throw new Error("Region not found in atlas: "+s+" (region attachment: "+a+")");i.renderObject=i;let n=new t.RegionAttachment(a);return n.setRegion(i),n}newMeshAttachment(e,a,s){let i=this.atlas.findRegion(s);if(null==i)throw new Error("Region not found in atlas: "+s+" (mesh attachment: "+a+")");i.renderObject=i;let n=new t.MeshAttachment(a);return n.region=i,n}newBoundingBoxAttachment(e,a){return new t.BoundingBoxAttachment(a)}newPathAttachment(e,a){return new t.PathAttachment(a)}newPointAttachment(e,a){return new t.PointAttachment(a)}newClippingAttachment(e,a){return new t.ClippingAttachment(a)}}}(spine||(spine={})),function(t){let e;!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(e=t.BlendMode||(t.BlendMode={}))}(spine||(spine={})),function(t){t.Bone=class{constructor(t,e,a){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=a,this.setToSetupPose()}isActive(){return this.active}update(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,a,s,i,n,r,l){this.ax=e,this.ay=a,this.arotation=s,this.ascaleX=i,this.ascaleY=n,this.ashearX=r,this.ashearY=l,this.appliedValid=!0;let o=this.parent;if(null==o){let o=this.skeleton,h=s+90+l,d=o.scaleX,u=o.scaleY;return this.a=t.MathUtils.cosDeg(s+r)*i*d,this.b=t.MathUtils.cosDeg(h)*n*d,this.c=t.MathUtils.sinDeg(s+r)*i*u,this.d=t.MathUtils.sinDeg(h)*n*u,this.worldX=e*d+o.x,void(this.worldY=a*u+o.y)}let h=o.a,d=o.b,u=o.c,c=o.d;switch(this.worldX=h*e+d*a+o.worldX,this.worldY=u*e+c*a+o.worldY,this.data.transformMode){case t.TransformMode.Normal:{let e=s+90+l,a=t.MathUtils.cosDeg(s+r)*i,o=t.MathUtils.cosDeg(e)*n,f=t.MathUtils.sinDeg(s+r)*i,m=t.MathUtils.sinDeg(e)*n;return this.a=h*a+d*f,this.b=h*o+d*m,this.c=u*a+c*f,void(this.d=u*o+c*m)}case t.TransformMode.OnlyTranslation:{let e=s+90+l;this.a=t.MathUtils.cosDeg(s+r)*i,this.b=t.MathUtils.cosDeg(e)*n,this.c=t.MathUtils.sinDeg(s+r)*i,this.d=t.MathUtils.sinDeg(e)*n;break}case t.TransformMode.NoRotationOrReflection:{let e=h*h+u*u,a=0;e>1e-4?(e=Math.abs(h*c-d*u)/e,d=u*e,c=h*e,a=Math.atan2(u,h)*t.MathUtils.radDeg):(h=0,u=0,a=90-Math.atan2(c,d)*t.MathUtils.radDeg);let o=s+r-a,f=s+l-a+90,m=t.MathUtils.cosDeg(o)*i,g=t.MathUtils.cosDeg(f)*n,p=t.MathUtils.sinDeg(o)*i,w=t.MathUtils.sinDeg(f)*n;return this.a=h*m-d*p,this.b=h*g-d*w,this.c=u*m+c*p,void(this.d=u*g+c*w)}case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:{let e=t.MathUtils.cosDeg(s),a=t.MathUtils.sinDeg(s),o=(h*e+d*a)/this.skeleton.scaleX,f=(u*e+c*a)/this.skeleton.scaleY,m=Math.sqrt(o*o+f*f);m>1e-5&&(m=1/m),o*=m,f*=m,m=Math.sqrt(o*o+f*f),this.data.transformMode==t.TransformMode.NoScale&&h*c-d*u<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(m=-m);let g=Math.PI/2+Math.atan2(f,o),p=Math.cos(g)*m,w=Math.sin(g)*m,x=t.MathUtils.cosDeg(r)*i,M=t.MathUtils.cosDeg(90+l)*n,E=t.MathUtils.sinDeg(r)*i,T=t.MathUtils.sinDeg(90+l)*n;this.a=o*x+p*E,this.b=o*M+p*T,this.c=f*x+w*E,this.d=f*M+w*T;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}getWorldRotationX(){return Math.atan2(this.c,this.a)*t.MathUtils.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*t.MathUtils.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}updateAppliedTransform(){this.appliedValid=!0;let e=this.parent;if(null==e)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*t.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*t.MathUtils.radDeg);let a=e.a,s=e.b,i=e.c,n=e.d,r=1/(a*n-s*i),l=this.worldX-e.worldX,o=this.worldY-e.worldY;this.ax=l*n*r-o*s*r,this.ay=o*a*r-l*i*r;let h=r*n,d=r*a,u=r*s,c=r*i,f=h*this.a-u*this.c,m=h*this.b-u*this.d,g=d*this.c-c*this.a,p=d*this.d-c*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+g*g),this.ascaleX>1e-4){let e=f*p-m*g;this.ascaleY=e/this.ascaleX,this.ashearY=Math.atan2(f*m+g*p,e)*t.MathUtils.radDeg,this.arotation=Math.atan2(g,f)*t.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(m*m+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,m)*t.MathUtils.radDeg}worldToLocal(t){let e=this.a,a=this.b,s=this.c,i=this.d,n=1/(e*i-a*s),r=t.x-this.worldX,l=t.y-this.worldY;return t.x=r*i*n-l*a*n,t.y=l*e*n-r*s*n,t}localToWorld(t){let e=t.x,a=t.y;return t.x=e*this.a+a*this.b+this.worldX,t.y=e*this.c+a*this.d+this.worldY,t}worldToLocalRotation(e){let a=t.MathUtils.sinDeg(e),s=t.MathUtils.cosDeg(e);return Math.atan2(this.a*a-this.c*s,this.d*s-this.b*a)*t.MathUtils.radDeg+this.rotation-this.shearX}localToWorldRotation(e){e-=this.rotation-this.shearX;let a=t.MathUtils.sinDeg(e),s=t.MathUtils.cosDeg(e);return Math.atan2(s*this.c+a*this.d,s*this.a+a*this.b)*t.MathUtils.radDeg}rotateWorld(e){let a=this.a,s=this.b,i=this.c,n=this.d,r=t.MathUtils.cosDeg(e),l=t.MathUtils.sinDeg(e);this.a=r*a-l*i,this.b=r*s-l*n,this.c=l*a+r*i,this.d=l*s+r*n,this.appliedValid=!1}}}(spine||(spine={})),function(t){let e;t.BoneData=class{constructor(a,s,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,this.skinRequired=!1,this.color=new t.Color,a<0)throw new Error("index must be >= 0.");if(null==s)throw new Error("name cannot be null.");this.index=a,this.name=s,this.parent=i}},function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(spine||(spine={})),function(t){t.ConstraintData=class{constructor(t,e,a){this.name=t,this.order=e,this.skinRequired=a}}}(spine||(spine={})),function(t){t.Event=class{constructor(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}}}(spine||(spine={})),function(t){t.EventData=class{constructor(t){this.name=t}}}(spine||(spine={})),function(t){t.IkConstraint=class{constructor(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(let a=0;a<t.bones.length;a++)this.bones.push(e.findBone(t.bones[a].name));this.target=e.findBone(t.target.name)}isActive(){return this.active}apply(){this.update()}update(){let t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}}apply1(e,a,s,i,n,r,l){e.appliedValid||e.updateAppliedTransform();let o=e.parent,h=o.a,d=o.b,u=o.c,c=o.d,f=-e.ashearX-e.arotation,m=0,g=0;switch(e.data.transformMode){case t.TransformMode.OnlyTranslation:m=a-e.worldX,g=s-e.worldY;break;case t.TransformMode.NoRotationOrReflection:f+=Math.atan2(u,h)*t.MathUtils.radDeg;let i=Math.abs(h*c-d*u)/(h*h+u*u);d=-u*i,c=h*i;default:let n=a-o.worldX,r=s-o.worldY,l=h*c-d*u;m=(n*c-r*d)/l-e.ax,g=(r*h-n*u)/l-e.ay}f+=Math.atan2(g,m)*t.MathUtils.radDeg,e.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);let p=e.ascaleX,w=e.ascaleY;if(i||n){switch(e.data.transformMode){case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:m=a-e.worldX,g=s-e.worldY}let o=e.data.length*p,h=Math.sqrt(m*m+g*g);if(i&&h<o||n&&h>o&&o>1e-4){let t=(h/o-1)*l+1;p*=t,r&&(w*=t)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+f*l,p,w,e.ashearX,e.ashearY)}apply2(e,a,s,i,n,r,l,o){if(0==o)return void a.updateWorldTransform();e.appliedValid||e.updateAppliedTransform(),a.appliedValid||a.updateAppliedTransform();let h=e.ax,d=e.ay,u=e.ascaleX,c=u,f=e.ascaleY,m=a.ascaleX,g=0,p=0,w=0;u<0?(u=-u,g=180,w=-1):(g=0,w=1),f<0&&(f=-f,w=-w),m<0?(m=-m,p=180):p=0;let x=a.ax,M=0,E=0,T=0,A=e.a,b=e.b,y=e.c,S=e.d,I=Math.abs(u-f)<=1e-4;I?(M=a.ay,E=A*x+b*M+e.worldX,T=y*x+S*M+e.worldY):(M=0,E=A*x+e.worldX,T=y*x+e.worldY);let R=e.parent;A=R.a,b=R.b,y=R.c,S=R.d;let C,P,V=1/(A*S-b*y),k=E-R.worldX,v=T-R.worldY,F=(k*S-v*b)*V-h,N=(v*A-k*y)*V-d,L=Math.sqrt(F*F+N*N),U=a.data.length*m;if(L<1e-4)return this.apply1(e,s,i,!1,r,!1,o),void a.updateWorldTransformWith(x,M,0,a.ascaleX,a.ascaleY,a.ashearX,a.ashearY);k=s-R.worldX,v=i-R.worldY;let Y=(k*S-v*b)*V-h,X=(v*A-k*y)*V-d,B=Y*Y+X*X;if(0!=l){l*=u*(m+1)/2;let t=Math.sqrt(B),e=t-L-U*u+l;if(e>0){let a=Math.min(1,e/(2*l))-1;a=(e-l*(1-a*a))/t,Y-=a*Y,X-=a*X,B=Y*Y+X*X}}t:if(I){U*=u;let t=(B-L*L-U*U)/(2*L*U);t<-1?t=-1:t>1&&(t=1,r&&(c*=(Math.sqrt(B)/(L+U)-1)*o+1)),P=Math.acos(t)*n,A=L+U*t,b=U*Math.sin(P),C=Math.atan2(X*A-Y*b,Y*A+X*b)}else{A=u*U,b=f*U;let e=A*A,a=b*b,s=Math.atan2(X,Y);y=a*L*L+e*B-e*a;let i=-2*a*L,r=a-e;if(S=i*i-4*r*y,S>=0){let t=Math.sqrt(S);i<0&&(t=-t),t=-(i+t)/2;let e=t/r,a=y/t,l=Math.abs(e)<Math.abs(a)?e:a;if(l*l<=B){v=Math.sqrt(B-l*l)*n,C=s-Math.atan2(v,l),P=Math.atan2(v/f,(l-L)/u);break t}}let l=t.MathUtils.PI,o=L-A,h=o*o,d=0,c=0,m=L+A,g=m*m,p=0;y=-A*L/(e-a),y>=-1&&y<=1&&(y=Math.acos(y),k=A*Math.cos(y)+L,v=b*Math.sin(y),S=k*k+v*v,S<h&&(l=y,h=S,o=k,d=v),S>g&&(c=y,g=S,m=k,p=v)),B<=(h+g)/2?(C=s-Math.atan2(d*n,o),P=l*n):(C=s-Math.atan2(p*n,m),P=c*n)}let O=Math.atan2(M,x)*w,D=e.arotation;C=(C-O)*t.MathUtils.radDeg+g-D,C>180?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(h,d,D+C*o,c,e.ascaleY,0,0),D=a.arotation,P=((P+O)*t.MathUtils.radDeg-a.ashearX)*w+p-D,P>180?P-=360:P<-180&&(P+=360),a.updateWorldTransformWith(x,M,D+P*o,a.ascaleX,a.ascaleY,a.ashearX,a.ashearY)}}}(spine||(spine={})),function(t){class e extends t.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}}t.IkConstraintData=e}(spine||(spine={})),function(t){class e{constructor(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let a=0,s=t.bones.length;a<s;a++)this.bones.push(e.findBone(t.bones[a].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}isActive(){return this.active}apply(){this.update()}update(){let a=this.target.getAttachment();if(!(a instanceof t.PathAttachment))return;let s=this.rotateMix,i=this.translateMix,n=s>0;if(!(i>0)&&!n)return;let r=this.data,l=r.spacingMode==t.SpacingMode.Percent,o=r.rotateMode,h=o==t.RotateMode.Tangent,d=o==t.RotateMode.ChainScale,u=this.bones.length,c=h?u:u+1,f=this.bones,m=t.Utils.setArraySize(this.spaces,c),g=null,p=this.spacing;if(d||!l){d&&(g=t.Utils.setArraySize(this.lengths,u));let a=r.spacingMode==t.SpacingMode.Length;for(let t=0,s=c-1;t<s;){let s=f[t],i=s.data.length;if(i<e.epsilon)d&&(g[t]=0),m[++t]=0;else if(l){if(d){let e=i*s.a,a=i*s.c,n=Math.sqrt(e*e+a*a);g[t]=n}m[++t]=p}else{let e=i*s.a,n=i*s.c,r=Math.sqrt(e*e+n*n);d&&(g[t]=r),m[++t]=(a?i+p:p)*r/i}}}else for(let t=1;t<c;t++)m[t]=p;let w=this.computeWorldPositions(a,c,h,r.positionMode==t.PositionMode.Percent,l),x=w[0],M=w[1],E=r.offsetRotation,T=!1;if(0==E)T=o==t.RotateMode.Chain;else{T=!1;let e=this.target.bone;E*=e.a*e.d-e.b*e.c>0?t.MathUtils.degRad:-t.MathUtils.degRad}for(let e=0,a=3;e<u;e++,a+=3){let r=f[e];r.worldX+=(x-r.worldX)*i,r.worldY+=(M-r.worldY)*i;let l=w[a],o=w[a+1],u=l-x,c=o-M;if(d){let t=g[e];if(0!=t){let e=(Math.sqrt(u*u+c*c)/t-1)*s+1;r.a*=e,r.c*=e}}if(x=l,M=o,n){let i=r.a,n=r.b,l=r.c,o=r.d,d=0,f=0,g=0;if(d=h?w[a-1]:0==m[e+1]?w[a+2]:Math.atan2(c,u),d-=Math.atan2(l,i),T){f=Math.cos(d),g=Math.sin(d);let t=r.data.length;x+=(t*(f*i-g*l)-u)*s,M+=(t*(g*i+f*l)-c)*s}else d+=E;d>t.MathUtils.PI?d-=t.MathUtils.PI2:d<-t.MathUtils.PI&&(d+=t.MathUtils.PI2),d*=s,f=Math.cos(d),g=Math.sin(d),r.a=f*i-g*l,r.b=f*n-g*o,r.c=g*i+f*l,r.d=g*n+f*o}r.appliedValid=!1}}computeWorldPositions(a,s,i,n,r){let l=this.target,o=this.position,h=this.spaces,d=t.Utils.setArraySize(this.positions,3*s+2),u=null,c=a.closed,f=a.worldVerticesLength,m=f/6,g=e.NONE;if(!a.constantSpeed){let p=a.lengths;m-=c?1:2;let w=p[m];if(n&&(o*=w),r)for(let t=1;t<s;t++)h[t]*=w;u=t.Utils.setArraySize(this.world,8);for(let t=0,n=0,r=0;t<s;t++,n+=3){let s=h[t];o+=s;let x=o;if(c)x%=w,x<0&&(x+=w),r=0;else{if(x<0){g!=e.BEFORE&&(g=e.BEFORE,a.computeWorldVertices(l,2,4,u,0,2)),this.addBeforePosition(x,u,0,d,n);continue}if(x>w){g!=e.AFTER&&(g=e.AFTER,a.computeWorldVertices(l,f-6,4,u,0,2)),this.addAfterPosition(x-w,u,0,d,n);continue}}for(;;r++){let t=p[r];if(!(x>t)){if(0==r)x/=t;else{let e=p[r-1];x=(x-e)/(t-e)}break}}r!=g&&(g=r,c&&r==m?(a.computeWorldVertices(l,f-4,4,u,0,2),a.computeWorldVertices(l,0,4,u,4,2)):a.computeWorldVertices(l,6*r+2,8,u,0,2)),this.addCurvePosition(x,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],d,n,i||t>0&&0==s)}return d}c?(f+=2,u=t.Utils.setArraySize(this.world,f),a.computeWorldVertices(l,2,f-4,u,0,2),a.computeWorldVertices(l,0,2,u,f-4,2),u[f-2]=u[0],u[f-1]=u[1]):(m--,f-=4,u=t.Utils.setArraySize(this.world,f),a.computeWorldVertices(l,2,f,u,0,2));let p=t.Utils.setArraySize(this.curves,m),w=0,x=u[0],M=u[1],E=0,T=0,A=0,b=0,y=0,S=0,I=0,R=0,C=0,P=0,V=0,k=0,v=0,F=0;for(let t=0,e=2;t<m;t++,e+=6)E=u[e],T=u[e+1],A=u[e+2],b=u[e+3],y=u[e+4],S=u[e+5],I=.1875*(x-2*E+A),R=.1875*(M-2*T+b),C=.09375*(3*(E-A)-x+y),P=.09375*(3*(T-b)-M+S),V=2*I+C,k=2*R+P,v=.75*(E-x)+I+.16666667*C,F=.75*(T-M)+R+.16666667*P,w+=Math.sqrt(v*v+F*F),v+=V,F+=k,V+=C,k+=P,w+=Math.sqrt(v*v+F*F),v+=V,F+=k,w+=Math.sqrt(v*v+F*F),v+=V+C,F+=k+P,w+=Math.sqrt(v*v+F*F),p[t]=w,x=y,M=S;if(o*=n?w:w/a.lengths[m-1],r)for(let t=1;t<s;t++)h[t]*=w;let N=this.segments,L=0;for(let t=0,e=0,a=0,n=0;t<s;t++,e+=3){let s=h[t];o+=s;let r=o;if(c)r%=w,r<0&&(r+=w),a=0;else{if(r<0){this.addBeforePosition(r,u,0,d,e);continue}if(r>w){this.addAfterPosition(r-w,u,f-4,d,e);continue}}for(;;a++){let t=p[a];if(!(r>t)){if(0==a)r/=t;else{let e=p[a-1];r=(r-e)/(t-e)}break}}if(a!=g){g=a;let t=6*a;for(x=u[t],M=u[t+1],E=u[t+2],T=u[t+3],A=u[t+4],b=u[t+5],y=u[t+6],S=u[t+7],I=.03*(x-2*E+A),R=.03*(M-2*T+b),C=.006*(3*(E-A)-x+y),P=.006*(3*(T-b)-M+S),V=2*I+C,k=2*R+P,v=.3*(E-x)+I+.16666667*C,F=.3*(T-M)+R+.16666667*P,L=Math.sqrt(v*v+F*F),N[0]=L,t=1;t<8;t++)v+=V,F+=k,V+=C,k+=P,L+=Math.sqrt(v*v+F*F),N[t]=L;v+=V,F+=k,L+=Math.sqrt(v*v+F*F),N[8]=L,v+=V+C,F+=k+P,L+=Math.sqrt(v*v+F*F),N[9]=L,n=0}for(r*=L;;n++){let t=N[n];if(!(r>t)){if(0==n)r/=t;else{let e=N[n-1];r=n+(r-e)/(t-e)}break}}this.addCurvePosition(.1*r,x,M,E,T,A,b,y,S,d,e,i||t>0&&0==s)}return d}addBeforePosition(t,e,a,s,i){let n=e[a],r=e[a+1],l=e[a+2]-n,o=e[a+3]-r,h=Math.atan2(o,l);s[i]=n+t*Math.cos(h),s[i+1]=r+t*Math.sin(h),s[i+2]=h}addAfterPosition(t,e,a,s,i){let n=e[a+2],r=e[a+3],l=n-e[a],o=r-e[a+1],h=Math.atan2(o,l);s[i]=n+t*Math.cos(h),s[i+1]=r+t*Math.sin(h),s[i+2]=h}addCurvePosition(t,e,a,s,i,n,r,l,o,h,d,u){if(0==t||isNaN(t))return h[d]=e,h[d+1]=a,void(h[d+2]=Math.atan2(i-a,s-e));let c=t*t,f=c*t,m=1-t,g=m*m,p=g*m,w=m*t,x=3*w,M=m*x,E=x*t,T=e*p+s*M+n*E+l*f,A=a*p+i*M+r*E+o*f;h[d]=T,h[d+1]=A,u&&(h[d+2]=t<.001?Math.atan2(i-a,s-e):Math.atan2(A-(a*g+i*w*2+r*c),T-(e*g+s*w*2+n*c)))}}e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,e.epsilon=1e-5,t.PathConstraint=e}(spine||(spine={})),function(t){class e extends t.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array}}let a,s,i;t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(a=t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(s=t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(i=t.RotateMode||(t.RotateMode={}))}(spine||(spine={})),function(t){class e{constructor(t){this.toLoad=new Array,this.assets={},this.clientId=t}loaded(){let t=0;for(let e in this.assets)t++;return t}}t.SharedAssetManager=class{constructor(t=""){this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}queueAsset(t,a,s){let i=this.clientAssets[t];return null==i&&(i=new e(t),this.clientAssets[t]=i),null!==a&&(i.textureLoader=a),i.toLoad.push(s),this.queuedAssets[s]!==s&&(this.queuedAssets[s]=s,!0)}loadText(t,e){if(e=this.pathPrefix+e,!this.queueAsset(t,null,e))return;let a=Laya.Laya?Laya.Laya:Laya;a.loader.load([{type:a.Loader.TEXT,url:e}],a.Handler.create(this,t=>{t?this.rawAssets[e]=a.loader.getRes(e):this.errors[e]="Couldn't load text "+e}))}loadJson(t,e){if(e=this.pathPrefix+e,!this.queueAsset(t,null,e))return;let a=Laya.Laya?Laya.Laya:Laya;a.loader.load([{type:a.Loader.JSON,url:e}],a.Handler.create(this,t=>{t?this.rawAssets[e]=a.loader.getRes(e):this.errors[e]="Couldn't load text "+e}))}loadTexture(t,e,a){if(a=this.pathPrefix+a,!this.queueAsset(t,e,a))return;let s=Laya.Laya?Laya.Laya:Laya;s.loader.load([{type:s.Loader.IMAGE,url:a}],s.Handler.create(this,t=>{t?this.rawAssets[a]=s.loader.getRes(a):this.errors[a]="Couldn't load text "+a}))}get(t,e){e=this.pathPrefix+e;let a=this.clientAssets[t];return null==a||a.assets[e]}updateClientAssets(t){for(let e=0;e<t.toLoad.length;e++){let a=t.toLoad[e],s=t.assets[a];if(null==s){let e=this.rawAssets[a];if(null==e)continue;"object"==typeof e&&e._bitmap?t.assets[a]=t.textureLoader(e):t.assets[a]=e}}}isLoadingComplete(t){let e=this.clientAssets[t];return null==e||(this.updateClientAssets(e),e.toLoad.length==e.loaded())}dispose(){}hasErrors(){return Object.keys(this.errors).length>0}getErrors(){return this.errors}}}(spine||(spine={})),function(t){t.Skeleton=class{constructor(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(let a=0;a<e.bones.length;a++){let s,i=e.bones[a];if(null==i.parent)s=new t.Bone(i,this,null);else{let e=this.bones[i.parent.index];s=new t.Bone(i,this,e),e.children.push(s)}this.bones.push(s)}this.slots=new Array,this.drawOrder=new Array;for(let a=0;a<e.slots.length;a++){let s=e.slots[a],i=this.bones[s.boneData.index],n=new t.Slot(s,i);this.slots.push(n),this.drawOrder.push(n)}this.ikConstraints=new Array;for(let a=0;a<e.ikConstraints.length;a++){let s=e.ikConstraints[a];this.ikConstraints.push(new t.IkConstraint(s,this))}this.transformConstraints=new Array;for(let a=0;a<e.transformConstraints.length;a++){let s=e.transformConstraints[a];this.transformConstraints.push(new t.TransformConstraint(s,this))}this.pathConstraints=new Array;for(let a=0;a<e.pathConstraints.length;a++){let s=e.pathConstraints[a];this.pathConstraints.push(new t.PathConstraint(s,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0,this.updateCacheReset.length=0;let t=this.bones;for(let e=0,a=t.length;e<a;e++){let a=t[e];a.sorted=a.data.skinRequired,a.active=!a.sorted}if(null!=this.skin){let t=this.skin.bones;for(let e=0,a=this.skin.bones.length;e<a;e++){let a=this.bones[t[e].index];do{a.sorted=!1,a.active=!0,a=a.parent}while(null!=a)}}let e=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,i=e.length,n=a.length,r=s.length,l=i+n+r;t:for(let t=0;t<l;t++){for(let a=0;a<i;a++){let s=e[a];if(s.data.order==t){this.sortIkConstraint(s);continue t}}for(let e=0;e<n;e++){let s=a[e];if(s.data.order==t){this.sortTransformConstraint(s);continue t}}for(let e=0;e<r;e++){let a=s[e];if(a.data.order==t){this.sortPathConstraint(a);continue t}}}for(let e=0,a=t.length;e<a;e++)this.sortBone(t[e])}sortIkConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),!e.active)return;let a=e.target;this.sortBone(a);let s=e.bones,i=s[0];if(this.sortBone(i),s.length>1){let t=s[s.length-1];this._updateCache.indexOf(t)>-1||this.updateCacheReset.push(t)}this._updateCache.push(e),this.sortReset(i.children),s[s.length-1].sorted=!0}sortPathConstraint(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),!e.active)return;let a=e.target,s=a.data.index,i=a.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,s,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,s,i);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],s,i);let n=a.getAttachment();n instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(n,i);let r=e.bones,l=r.length;for(let t=0;t<l;t++)this.sortBone(r[t]);this._updateCache.push(e);for(let t=0;t<l;t++)this.sortReset(r[t].children);for(let t=0;t<l;t++)r[t].sorted=!0}sortTransformConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),!e.active)return;this.sortBone(e.target);let a=e.bones,s=a.length;if(e.data.local)for(let t=0;t<s;t++){let e=a[t];this.sortBone(e.parent),this._updateCache.indexOf(e)>-1||this.updateCacheReset.push(e)}else for(let t=0;t<s;t++)this.sortBone(a[t]);this._updateCache.push(e);for(let t=0;t<s;t++)this.sortReset(a[t].children);for(let t=0;t<s;t++)a[t].sorted=!0}sortPathConstraintAttachment(t,e,a){let s=t.attachments[e];if(s)for(let t in s)this.sortPathConstraintAttachmentWith(s[t],a)}sortPathConstraintAttachmentWith(e,a){if(!(e instanceof t.PathAttachment))return;let s=e.bones;if(null==s)this.sortBone(a);else{let t=this.bones,e=0;for(;e<s.length;){let a=s[e++];for(let i=e+a;e<i;e++){let a=s[e];this.sortBone(t[a])}}}}sortBone(t){if(t.sorted)return;let e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,a=t.length;e<a;e++){let a=t[e];a.active&&(a.sorted&&this.sortReset(a.children),a.sorted=!1)}}updateWorldTransform(){let t=this.updateCacheReset;for(let e=0,a=t.length;e<a;e++){let a=t[e];a.ax=a.x,a.ay=a.y,a.arotation=a.rotation,a.ascaleX=a.scaleX,a.ascaleY=a.scaleY,a.ashearX=a.shearX,a.ashearY=a.shearY,a.appliedValid=!0}let e=this._updateCache;for(let t=0,a=e.length;t<a;t++)e[t].update()}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){let t=this.bones;for(let e=0,a=t.length;e<a;e++)t[e].setToSetupPose();let e=this.ikConstraints;for(let t=0,a=e.length;t<a;t++){let a=e[t];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}let a=this.transformConstraints;for(let t=0,e=a.length;t<e;t++){let e=a[t],s=e.data;e.rotateMix=s.rotateMix,e.translateMix=s.translateMix,e.scaleMix=s.scaleMix,e.shearMix=s.shearMix}let s=this.pathConstraints;for(let t=0,e=s.length;t<e;t++){let e=s[t],a=e.data;e.position=a.position,e.spacing=a.spacing,e.rotateMix=a.rotateMix,e.translateMix=a.translateMix}}setSlotsToSetupPose(){let e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(let t=0,a=e.length;t<a;t++)e[t].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(null==t)throw new Error("boneName cannot be null.");let e=this.bones;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.data.name==t)return s}return null}findBoneIndex(t){if(null==t)throw new Error("boneName cannot be null.");let e=this.bones;for(let a=0,s=e.length;a<s;a++)if(e[a].data.name==t)return a;return-1}findSlot(t){if(null==t)throw new Error("slotName cannot be null.");let e=this.slots;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.data.name==t)return s}return null}findSlotIndex(t){if(null==t)throw new Error("slotName cannot be null.");let e=this.slots;for(let a=0,s=e.length;a<s;a++)if(e[a].data.name==t)return a;return-1}setSkinByName(t){let e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else{let e=this.slots;for(let a=0,s=e.length;a<s;a++){let s=e[a],i=s.data.attachmentName;if(null!=i){let e=t.getAttachment(a,i);null!=e&&s.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}getAttachment(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){let a=this.skin.getAttachment(t,e);if(null!=a)return a}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(null==t)throw new Error("slotName cannot be null.");let a=this.slots;for(let s=0,i=a.length;s<i;s++){let i=a[s];if(i.data.name==t){let a=null;if(null!=e&&(a=this.getAttachment(s,e),null==a))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(a)}}throw new Error("Slot not found: "+t)}findIkConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.data.name==t)return s}return null}findTransformConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.data.name==t)return s}return null}findPathConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.data.name==t)return s}return null}getBounds(e,a,s=new Array(2)){if(null==e)throw new Error("offset cannot be null.");if(null==a)throw new Error("size cannot be null.");let i=this.drawOrder,n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let e=0,a=i.length;e<a;e++){let a=i[e];if(!a.bone.active)continue;let h=0,d=null,u=a.getAttachment();if(u instanceof t.RegionAttachment)h=8,d=t.Utils.setArraySize(s,h,0),u.computeWorldVertices(a.bone,d,0,2);else if(u instanceof t.MeshAttachment){let e=u;h=e.worldVerticesLength,d=t.Utils.setArraySize(s,h,0),e.computeWorldVertices(a,0,h,d,0,2)}if(null!=d)for(let t=0,e=d.length;t<e;t+=2){let e=d[t],a=d[t+1];n=Math.min(n,e),r=Math.min(r,a),l=Math.max(l,e),o=Math.max(o,a)}}e.set(n,r),a.set(l-n,o-r)}update(t){this.time+=t}}}(spine||(spine={})),function(t){class e{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(s){let i=this.scale,n=new t.SkeletonData;n.name="";let r=new a(s);if(n.hash=r.readString(),n.version=r.readString(),"3.8.75"==n.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat();let l=r.readBoolean();l&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString());let o=0;o=r.readInt(!0);for(let t=0;t<o;t++)r.strings.push(r.readString());o=r.readInt(!0);for(let a=0;a<o;a++){let s=r.readString(),o=0==a?null:n.bones[r.readInt(!0)],h=new t.BoneData(a,s,o);h.rotation=r.readFloat(),h.x=r.readFloat()*i,h.y=r.readFloat()*i,h.scaleX=r.readFloat(),h.scaleY=r.readFloat(),h.shearX=r.readFloat(),h.shearY=r.readFloat(),h.length=r.readFloat()*i,h.transformMode=e.TransformModeValues[r.readInt(!0)],h.skinRequired=r.readBoolean(),l&&t.Color.rgba8888ToColor(h.color,r.readInt32()),n.bones.push(h)}o=r.readInt(!0);for(let a=0;a<o;a++){let s=r.readString(),i=n.bones[r.readInt(!0)],l=new t.SlotData(a,s,i);t.Color.rgba8888ToColor(l.color,r.readInt32());let o=r.readInt32();-1!=o&&t.Color.rgb888ToColor(l.darkColor=new t.Color,o),l.attachmentName=r.readStringRef(),l.blendMode=e.BlendModeValues[r.readInt(!0)],n.slots.push(l)}o=r.readInt(!0);for(let e,a=0;a<o;a++){let a=new t.IkConstraintData(r.readString());a.order=r.readInt(!0),a.skinRequired=r.readBoolean(),e=r.readInt(!0);for(let t=0;t<e;t++)a.bones.push(n.bones[r.readInt(!0)]);a.target=n.bones[r.readInt(!0)],a.mix=r.readFloat(),a.softness=r.readFloat()*i,a.bendDirection=r.readByte(),a.compress=r.readBoolean(),a.stretch=r.readBoolean(),a.uniform=r.readBoolean(),n.ikConstraints.push(a)}o=r.readInt(!0);for(let e,a=0;a<o;a++){let a=new t.TransformConstraintData(r.readString());a.order=r.readInt(!0),a.skinRequired=r.readBoolean(),e=r.readInt(!0);for(let t=0;t<e;t++)a.bones.push(n.bones[r.readInt(!0)]);a.target=n.bones[r.readInt(!0)],a.local=r.readBoolean(),a.relative=r.readBoolean(),a.offsetRotation=r.readFloat(),a.offsetX=r.readFloat()*i,a.offsetY=r.readFloat()*i,a.offsetScaleX=r.readFloat(),a.offsetScaleY=r.readFloat(),a.offsetShearY=r.readFloat(),a.rotateMix=r.readFloat(),a.translateMix=r.readFloat(),a.scaleMix=r.readFloat(),a.shearMix=r.readFloat(),n.transformConstraints.push(a)}o=r.readInt(!0);for(let a,s=0;s<o;s++){let s=new t.PathConstraintData(r.readString());s.order=r.readInt(!0),s.skinRequired=r.readBoolean(),a=r.readInt(!0);for(let t=0;t<a;t++)s.bones.push(n.bones[r.readInt(!0)]);s.target=n.slots[r.readInt(!0)],s.positionMode=e.PositionModeValues[r.readInt(!0)],s.spacingMode=e.SpacingModeValues[r.readInt(!0)],s.rotateMode=e.RotateModeValues[r.readInt(!0)],s.offsetRotation=r.readFloat(),s.position=r.readFloat(),s.positionMode==t.PositionMode.Fixed&&(s.position*=i),s.spacing=r.readFloat(),s.spacingMode!=t.SpacingMode.Length&&s.spacingMode!=t.SpacingMode.Fixed||(s.spacing*=i),s.rotateMix=r.readFloat(),s.translateMix=r.readFloat(),n.pathConstraints.push(s)}let h=this.readSkin(r,n,!0,l);null!=h&&(n.defaultSkin=h,n.skins.push(h));{let e=n.skins.length;for(t.Utils.setArraySize(n.skins,o=e+r.readInt(!0));e<o;e++)n.skins[e]=this.readSkin(r,n,!1,l)}o=this.linkedMeshes.length;for(let t=0;t<o;t++){let e=this.linkedMeshes[t],a=null==e.skin?n.defaultSkin:n.findSkin(e.skin);if(null==a)throw new Error("Skin not found: "+e.skin);let s=a.getAttachment(e.slotIndex,e.parent);if(null==s)throw new Error("Parent mesh not found: "+e.parent);e.mesh.deformAttachment=e.inheritDeform?s:e.mesh,e.mesh.setParentMesh(s),e.mesh.updateUVs()}this.linkedMeshes.length=0,o=r.readInt(!0);for(let e=0;e<o;e++){let e=new t.EventData(r.readStringRef());e.intValue=r.readInt(!1),e.floatValue=r.readFloat(),e.stringValue=r.readString(),e.audioPath=r.readString(),null!=e.audioPath&&(e.volume=r.readFloat(),e.balance=r.readFloat()),n.events.push(e)}o=r.readInt(!0);for(let t=0;t<o;t++)n.animations.push(this.readAnimation(r,r.readString(),n));return n}readSkin(e,a,s,i){let n=null,r=0;if(s){if(r=e.readInt(!0),0==r)return null;n=new t.Skin("default")}else{n=new t.Skin(e.readStringRef()),n.bones.length=e.readInt(!0);for(let t=0,s=n.bones.length;t<s;t++)n.bones[t]=a.bones[e.readInt(!0)];for(let t=0,s=e.readInt(!0);t<s;t++)n.constraints.push(a.ikConstraints[e.readInt(!0)]);for(let t=0,s=e.readInt(!0);t<s;t++)n.constraints.push(a.transformConstraints[e.readInt(!0)]);for(let t=0,s=e.readInt(!0);t<s;t++)n.constraints.push(a.pathConstraints[e.readInt(!0)]);r=e.readInt(!0)}for(let t=0;t<r;t++){let t=e.readInt(!0);for(let s=0,r=e.readInt(!0);s<r;s++){let s=e.readStringRef(),r=this.readAttachment(e,a,n,t,s,i);null!=r&&n.setAttachment(t,s,r)}}return n}readAttachment(a,i,n,r,l,o){let h=this.scale,d=a.readStringRef();null==d&&(d=l);let u=a.readByte();switch(e.AttachmentTypeValues[u]){case t.AttachmentType.Region:{let e=a.readStringRef(),s=a.readFloat(),i=a.readFloat(),r=a.readFloat(),l=a.readFloat(),o=a.readFloat(),u=a.readFloat(),c=a.readFloat(),f=a.readInt32();null==e&&(e=d);let m=this.attachmentLoader.newRegionAttachment(n,d,e);return null==m?null:(m.path=e,m.x=i*h,m.y=r*h,m.scaleX=l,m.scaleY=o,m.rotation=s,m.width=u*h,m.height=c*h,t.Color.rgba8888ToColor(m.color,f),m.updateOffset(),m)}case t.AttachmentType.BoundingBox:{let e=a.readInt(!0),s=this.readVertices(a,e),i=o?a.readInt32():0,r=this.attachmentLoader.newBoundingBoxAttachment(n,d);return null==r?null:(r.worldVerticesLength=e<<1,r.vertices=s.vertices,r.bones=s.bones,o&&t.Color.rgba8888ToColor(r.color,i),r)}case t.AttachmentType.Mesh:{let e=a.readStringRef(),s=a.readInt32(),i=a.readInt(!0),r=this.readFloatArray(a,i<<1,1),l=this.readShortArray(a),u=this.readVertices(a,i),c=a.readInt(!0),f=null,m=0,g=0;o&&(f=this.readShortArray(a),m=a.readFloat(),g=a.readFloat()),null==e&&(e=d);let p=this.attachmentLoader.newMeshAttachment(n,d,e);return null==p?null:(p.path=e,t.Color.rgba8888ToColor(p.color,s),p.bones=u.bones,p.vertices=u.vertices,p.worldVerticesLength=i<<1,p.triangles=l,p.regionUVs=r,p.updateUVs(),p.hullLength=c<<1,o&&(p.edges=f,p.width=m*h,p.height=g*h),p)}case t.AttachmentType.LinkedMesh:{let e=a.readStringRef(),i=a.readInt32(),l=a.readStringRef(),u=a.readStringRef(),c=a.readBoolean(),f=0,m=0;o&&(f=a.readFloat(),m=a.readFloat()),null==e&&(e=d);let g=this.attachmentLoader.newMeshAttachment(n,d,e);return null==g?null:(g.path=e,t.Color.rgba8888ToColor(g.color,i),o&&(g.width=f*h,g.height=m*h),this.linkedMeshes.push(new s(g,l,r,u,c)),g)}case t.AttachmentType.Path:{let e=a.readBoolean(),s=a.readBoolean(),i=a.readInt(!0),r=this.readVertices(a,i),l=t.Utils.newArray(i/3,0);for(let t=0,e=l.length;t<e;t++)l[t]=a.readFloat()*h;let u=o?a.readInt32():0,c=this.attachmentLoader.newPathAttachment(n,d);return null==c?null:(c.closed=e,c.constantSpeed=s,c.worldVerticesLength=i<<1,c.vertices=r.vertices,c.bones=r.bones,c.lengths=l,o&&t.Color.rgba8888ToColor(c.color,u),c)}case t.AttachmentType.Point:{let e=a.readFloat(),s=a.readFloat(),i=a.readFloat(),r=o?a.readInt32():0,l=this.attachmentLoader.newPointAttachment(n,d);return null==l?null:(l.x=s*h,l.y=i*h,l.rotation=e,o&&t.Color.rgba8888ToColor(l.color,r),l)}case t.AttachmentType.Clipping:{let e=a.readInt(!0),s=a.readInt(!0),r=this.readVertices(a,s),l=o?a.readInt32():0,h=this.attachmentLoader.newClippingAttachment(n,d);return null==h?null:(h.endSlot=i.slots[e],h.worldVerticesLength=s<<1,h.vertices=r.vertices,h.bones=r.bones,o&&t.Color.rgba8888ToColor(h.color,l),h)}}return null}readVertices(e,a){let s=a<<1,n=new i,r=this.scale;if(!e.readBoolean())return n.vertices=this.readFloatArray(e,s,r),n;let l=new Array,o=new Array;for(let t=0;t<a;t++){let t=e.readInt(!0);o.push(t);for(let a=0;a<t;a++)o.push(e.readInt(!0)),l.push(e.readFloat()*r),l.push(e.readFloat()*r),l.push(e.readFloat())}return n.vertices=t.Utils.toFloatArray(l),n.bones=o,n}readFloatArray(t,e,a){let s=new Array(e);if(1==a)for(let a=0;a<e;a++)s[a]=t.readFloat();else for(let i=0;i<e;i++)s[i]=t.readFloat()*a;return s}readShortArray(t){let e=t.readInt(!0),a=new Array(e);for(let s=0;s<e;s++)a[s]=t.readShort();return a}readAnimation(a,s,i){let n=new Array,r=this.scale,l=0,o=new t.Color,h=new t.Color;for(let s=0,i=a.readInt(!0);s<i;s++){let s=a.readInt(!0);for(let i=0,r=a.readInt(!0);i<r;i++){let i=a.readByte(),r=a.readInt(!0);switch(i){case e.SLOT_ATTACHMENT:{let e=new t.AttachmentTimeline(r);e.slotIndex=s;for(let t=0;t<r;t++)e.setFrame(t,a.readFloat(),a.readStringRef());n.push(e),l=Math.max(l,e.frames[r-1]);break}case e.SLOT_COLOR:{let e=new t.ColorTimeline(r);e.slotIndex=s;for(let s=0;s<r;s++){let i=a.readFloat();t.Color.rgba8888ToColor(o,a.readInt32()),e.setFrame(s,i,o.r,o.g,o.b,o.a),s<r-1&&this.readCurve(a,s,e)}n.push(e),l=Math.max(l,e.frames[(r-1)*t.ColorTimeline.ENTRIES]);break}case e.SLOT_TWO_COLOR:{let e=new t.TwoColorTimeline(r);e.slotIndex=s;for(let s=0;s<r;s++){let i=a.readFloat();t.Color.rgba8888ToColor(o,a.readInt32()),t.Color.rgb888ToColor(h,a.readInt32()),e.setFrame(s,i,o.r,o.g,o.b,o.a,h.r,h.g,h.b),s<r-1&&this.readCurve(a,s,e)}n.push(e),l=Math.max(l,e.frames[(r-1)*t.TwoColorTimeline.ENTRIES]);break}}}}for(let s=0,i=a.readInt(!0);s<i;s++){let s=a.readInt(!0);for(let i=0,o=a.readInt(!0);i<o;i++){let i=a.readByte(),o=a.readInt(!0);switch(i){case e.BONE_ROTATE:{let e=new t.RotateTimeline(o);e.boneIndex=s;for(let t=0;t<o;t++)e.setFrame(t,a.readFloat(),a.readFloat()),t<o-1&&this.readCurve(a,t,e);n.push(e),l=Math.max(l,e.frames[(o-1)*t.RotateTimeline.ENTRIES]);break}case e.BONE_TRANSLATE:case e.BONE_SCALE:case e.BONE_SHEAR:{let h,d=1;i==e.BONE_SCALE?h=new t.ScaleTimeline(o):i==e.BONE_SHEAR?h=new t.ShearTimeline(o):(h=new t.TranslateTimeline(o),d=r),h.boneIndex=s;for(let t=0;t<o;t++)h.setFrame(t,a.readFloat(),a.readFloat()*d,a.readFloat()*d),t<o-1&&this.readCurve(a,t,h);n.push(h),l=Math.max(l,h.frames[(o-1)*t.TranslateTimeline.ENTRIES]);break}}}}for(let e=0,s=a.readInt(!0);e<s;e++){let e=a.readInt(!0),s=a.readInt(!0),i=new t.IkConstraintTimeline(s);i.ikConstraintIndex=e;for(let t=0;t<s;t++)i.setFrame(t,a.readFloat(),a.readFloat(),a.readFloat()*r,a.readByte(),a.readBoolean(),a.readBoolean()),t<s-1&&this.readCurve(a,t,i);n.push(i),l=Math.max(l,i.frames[(s-1)*t.IkConstraintTimeline.ENTRIES])}for(let e=0,s=a.readInt(!0);e<s;e++){let e=a.readInt(!0),s=a.readInt(!0),i=new t.TransformConstraintTimeline(s);i.transformConstraintIndex=e;for(let t=0;t<s;t++)i.setFrame(t,a.readFloat(),a.readFloat(),a.readFloat(),a.readFloat(),a.readFloat()),t<s-1&&this.readCurve(a,t,i);n.push(i),l=Math.max(l,i.frames[(s-1)*t.TransformConstraintTimeline.ENTRIES])}for(let s=0,o=a.readInt(!0);s<o;s++){let s=a.readInt(!0),o=i.pathConstraints[s];for(let i=0,h=a.readInt(!0);i<h;i++){let i=a.readByte(),h=a.readInt(!0);switch(i){case e.PATH_POSITION:case e.PATH_SPACING:{let d,u=1;i==e.PATH_SPACING?(d=new t.PathConstraintSpacingTimeline(h),o.spacingMode!=t.SpacingMode.Length&&o.spacingMode!=t.SpacingMode.Fixed||(u=r)):(d=new t.PathConstraintPositionTimeline(h),o.positionMode==t.PositionMode.Fixed&&(u=r)),d.pathConstraintIndex=s;for(let t=0;t<h;t++)d.setFrame(t,a.readFloat(),a.readFloat()*u),t<h-1&&this.readCurve(a,t,d);n.push(d),l=Math.max(l,d.frames[(h-1)*t.PathConstraintPositionTimeline.ENTRIES]);break}case e.PATH_MIX:{let e=new t.PathConstraintMixTimeline(h);e.pathConstraintIndex=s;for(let t=0;t<h;t++)e.setFrame(t,a.readFloat(),a.readFloat(),a.readFloat()),t<h-1&&this.readCurve(a,t,e);n.push(e),l=Math.max(l,e.frames[(h-1)*t.PathConstraintMixTimeline.ENTRIES]);break}}}}for(let e=0,s=a.readInt(!0);e<s;e++){let e=i.skins[a.readInt(!0)];for(let s=0,i=a.readInt(!0);s<i;s++){let s=a.readInt(!0);for(let i=0,o=a.readInt(!0);i<o;i++){let i=e.getAttachment(s,a.readStringRef()),o=null!=i.bones,h=i.vertices,d=o?h.length/3*2:h.length,u=a.readInt(!0),c=new t.DeformTimeline(u);c.slotIndex=s,c.attachment=i;for(let e=0;e<u;e++){let s,i=a.readFloat(),n=a.readInt(!0);if(0==n)s=o?t.Utils.newFloatArray(d):h;else{s=t.Utils.newFloatArray(d);let e=a.readInt(!0);if(n+=e,1==r)for(let t=e;t<n;t++)s[t]=a.readFloat();else for(let t=e;t<n;t++)s[t]=a.readFloat()*r;if(!o)for(let t=0,e=s.length;t<e;t++)s[t]+=h[t]}c.setFrame(e,i,s),e<u-1&&this.readCurve(a,e,c)}n.push(c),l=Math.max(l,c.frames[u-1])}}}let d=a.readInt(!0);if(d>0){let e=new t.DrawOrderTimeline(d),s=i.slots.length;for(let i=0;i<d;i++){let n=a.readFloat(),r=a.readInt(!0),l=t.Utils.newArray(s,0);for(let t=s-1;t>=0;t--)l[t]=-1;let o=t.Utils.newArray(s-r,0),h=0,d=0;for(let t=0;t<r;t++){let t=a.readInt(!0);for(;h!=t;)o[d++]=h++;l[h+a.readInt(!0)]=h++}for(;h<s;)o[d++]=h++;for(let t=s-1;t>=0;t--)-1==l[t]&&(l[t]=o[--d]);e.setFrame(i,n,l)}n.push(e),l=Math.max(l,e.frames[d-1])}let u=a.readInt(!0);if(u>0){let e=new t.EventTimeline(u);for(let s=0;s<u;s++){let n=a.readFloat(),r=i.events[a.readInt(!0)],l=new t.Event(n,r);l.intValue=a.readInt(!1),l.floatValue=a.readFloat(),l.stringValue=a.readBoolean()?a.readString():r.stringValue,null!=l.data.audioPath&&(l.volume=a.readFloat(),l.balance=a.readFloat()),e.setFrame(s,l)}n.push(e),l=Math.max(l,e.frames[u-1])}return new t.Animation(s,n,l)}readCurve(t,a,s){switch(t.readByte()){case e.CURVE_STEPPED:s.setStepped(a);break;case e.CURVE_BEZIER:this.setCurve(s,a,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}}setCurve(t,e,a,s,i,n){t.setCurve(e,a,s,i,n)}}e.AttachmentTypeValues=[0,1,2,3,4,5,6],e.TransformModeValues=[t.TransformMode.Normal,t.TransformMode.OnlyTranslation,t.TransformMode.NoRotationOrReflection,t.TransformMode.NoScale,t.TransformMode.NoScaleOrReflection],e.PositionModeValues=[t.PositionMode.Fixed,t.PositionMode.Percent],e.SpacingModeValues=[t.SpacingMode.Length,t.SpacingMode.Fixed,t.SpacingMode.Percent],e.RotateModeValues=[t.RotateMode.Tangent,t.RotateMode.Chain,t.RotateMode.ChainScale],e.BlendModeValues=[t.BlendMode.Normal,t.BlendMode.Additive,t.BlendMode.Multiply,t.BlendMode.Screen],e.BONE_ROTATE=0,e.BONE_TRANSLATE=1,e.BONE_SCALE=2,e.BONE_SHEAR=3,e.SLOT_ATTACHMENT=0,e.SLOT_COLOR=1,e.SLOT_TWO_COLOR=2,e.PATH_POSITION=0,e.PATH_SPACING=1,e.PATH_MIX=2,e.CURVE_LINEAR=0,e.CURVE_STEPPED=1,e.CURVE_BEZIER=2,t.SkeletonBinary=e;class a{constructor(t,e=new Array,a=0,s=new DataView(t.buffer)){this.strings=e,this.index=a,this.buffer=s}readByte(){return this.buffer.getInt8(this.index++)}readShort(){let t=this.buffer.getInt16(this.index);return this.index+=2,t}readInt32(){let t=this.buffer.getInt32(this.index);return this.index+=4,t}readInt(t){let e=this.readByte(),a=127&e;return 0!=(128&e)&&(e=this.readByte(),a|=(127&e)<<7,0!=(128&e)&&(e=this.readByte(),a|=(127&e)<<14,0!=(128&e)&&(e=this.readByte(),a|=(127&e)<<21,0!=(128&e)&&(e=this.readByte(),a|=(127&e)<<28)))),t?a:a>>>1^-(1&a)}readStringRef(){let t=this.readInt(!0);return 0==t?null:this.strings[t-1]}readString(){let t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;let e="";for(let a=0;a<t;){let t=this.readByte();switch(t>>4){case 12:case 13:e+=String.fromCharCode((31&t)<<6|63&this.readByte()),a+=2;break;case 14:e+=String.fromCharCode((15&t)<<12|(63&this.readByte())<<6|63&this.readByte()),a+=3;break;default:e+=String.fromCharCode(t),a++}}return e}readFloat(){let t=this.buffer.getFloat32(this.index);return this.index+=4,t}readBoolean(){return 0!=this.readByte()}}class s{constructor(t,e,a,s,i){this.mesh=t,this.skin=e,this.slotIndex=a,this.parent=s,this.inheritDeform=i}}class i{constructor(t=null,e=null){this.bones=t,this.vertices=e}}}(spine||(spine={})),function(t){t.SkeletonBounds=class{constructor(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool(()=>t.Utils.newFloatArray(16))}update(e,a){if(null==e)throw new Error("skeleton cannot be null.");let s=this.boundingBoxes,i=this.polygons,n=this.polygonPool,r=e.slots,l=r.length;s.length=0,n.freeAll(i),i.length=0;for(let e=0;e<l;e++){let a=r[e];if(!a.bone.active)continue;let l=a.getAttachment();if(l instanceof t.BoundingBoxAttachment){let e=l;s.push(e);let r=n.obtain();r.length!=e.worldVerticesLength&&(r=t.Utils.newFloatArray(e.worldVerticesLength)),i.push(r),e.computeWorldVertices(a,0,e.worldVerticesLength,r,0,2)}}a?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,i=this.polygons;for(let n=0,r=i.length;n<r;n++){let r=i[n],l=r;for(let i=0,n=r.length;i<n;i+=2){let n=l[i],r=l[i+1];t=Math.min(t,n),e=Math.min(e,r),a=Math.max(a,n),s=Math.max(s,r)}}this.minX=t,this.minY=e,this.maxX=a,this.maxY=s}aabbContainsPoint(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}aabbIntersectsSegment(t,e,a,s){let i=this.minX,n=this.minY,r=this.maxX,l=this.maxY;if(t<=i&&a<=i||e<=n&&s<=n||t>=r&&a>=r||e>=l&&s>=l)return!1;let o=(s-e)/(a-t),h=o*(i-t)+e;if(h>n&&h<l)return!0;if(h=o*(r-t)+e,h>n&&h<l)return!0;let d=(n-e)/o+t;return d>i&&d<r||(d=(l-e)/o+t,d>i&&d<r)}aabbIntersectsSkeleton(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}containsPoint(t,e){let a=this.polygons;for(let s=0,i=a.length;s<i;s++)if(this.containsPointPolygon(a[s],t,e))return this.boundingBoxes[s];return null}containsPointPolygon(t,e,a){let s=t,i=t.length,n=i-2,r=!1;for(let t=0;t<i;t+=2){let i=s[t+1],l=s[n+1];if(i<a&&l>=a||l<a&&i>=a){let o=s[t];o+(a-i)/(l-i)*(s[n]-o)<e&&(r=!r)}n=t}return r}intersectsSegment(t,e,a,s){let i=this.polygons;for(let n=0,r=i.length;n<r;n++)if(this.intersectsSegmentPolygon(i[n],t,e,a,s))return this.boundingBoxes[n];return null}intersectsSegmentPolygon(t,e,a,s,i){let n=t,r=t.length,l=e-s,o=a-i,h=e*i-a*s,d=n[r-2],u=n[r-1];for(let t=0;t<r;t+=2){let r=n[t],c=n[t+1],f=d*c-u*r,m=d-r,g=u-c,p=l*g-o*m,w=(h*m-l*f)/p;if((w>=d&&w<=r||w>=r&&w<=d)&&(w>=e&&w<=s||w>=s&&w<=e)){let t=(h*g-o*f)/p;if((t>=u&&t<=c||t>=c&&t<=u)&&(t>=a&&t<=i||t>=i&&t<=a))return!0}d=r,u=c}return!1}getPolygon(t){if(null==t)throw new Error("boundingBox cannot be null.");let e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}}(spine||(spine={})),function(t){class e{constructor(){this.triangulator=new t.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}clipStart(a,s){if(null!=this.clipAttachment)return 0;this.clipAttachment=s;let i=s.worldVerticesLength,n=t.Utils.setArraySize(this.clippingPolygon,i);s.computeWorldVertices(a,0,i,n,0,2);let r=this.clippingPolygon;e.makeClockwise(r);let l=this.clippingPolygons=this.triangulator.decompose(r,this.triangulator.triangulate(r));for(let t=0,a=l.length;t<a;t++){let a=l[t];e.makeClockwise(a),a.push(a[0]),a.push(a[1])}return l.length}clipEndWithSlot(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()}clipEnd(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return null!=this.clipAttachment}clipTriangles(e,a,s,i,n,r,l,o){let h=this.clipOutput,d=this.clippedVertices,u=this.clippedTriangles,c=this.clippingPolygons,f=this.clippingPolygons.length,m=o?12:8,g=0;d.length=0,u.length=0;t:for(let a=0;a<i;a+=3){let i=s[a]<<1,p=e[i],w=e[i+1],x=n[i],M=n[i+1];i=s[a+1]<<1;let E=e[i],T=e[i+1],A=n[i],b=n[i+1];i=s[a+2]<<1;let y=e[i],S=e[i+1],I=n[i],R=n[i+1];for(let e=0;e<f;e++){let a=d.length;if(!this.clip(p,w,E,T,y,S,c[e],h)){let e=t.Utils.setArraySize(d,a+3*m);e[a]=p,e[a+1]=w,e[a+2]=r.r,e[a+3]=r.g,e[a+4]=r.b,e[a+5]=r.a,o?(e[a+6]=x,e[a+7]=M,e[a+8]=l.r,e[a+9]=l.g,e[a+10]=l.b,e[a+11]=l.a,e[a+12]=E,e[a+13]=T,e[a+14]=r.r,e[a+15]=r.g,e[a+16]=r.b,e[a+17]=r.a,e[a+18]=A,e[a+19]=b,e[a+20]=l.r,e[a+21]=l.g,e[a+22]=l.b,e[a+23]=l.a,e[a+24]=y,e[a+25]=S,e[a+26]=r.r,e[a+27]=r.g,e[a+28]=r.b,e[a+29]=r.a,e[a+30]=I,e[a+31]=R,e[a+32]=l.r,e[a+33]=l.g,e[a+34]=l.b,e[a+35]=l.a):(e[a+6]=x,e[a+7]=M,e[a+8]=E,e[a+9]=T,e[a+10]=r.r,e[a+11]=r.g,e[a+12]=r.b,e[a+13]=r.a,e[a+14]=A,e[a+15]=b,e[a+16]=y,e[a+17]=S,e[a+18]=r.r,e[a+19]=r.g,e[a+20]=r.b,e[a+21]=r.a,e[a+22]=I,e[a+23]=R),a=u.length;let s=t.Utils.setArraySize(u,a+3);s[a]=g,s[a+1]=g+1,s[a+2]=g+2,g+=3;continue t}{let e=h.length;if(0==e)continue;let s=T-S,i=y-E,n=p-y,c=S-w,f=1/(s*n+i*(w-S)),C=e>>1,P=this.clipOutput,V=t.Utils.setArraySize(d,a+C*m);for(let t=0;t<e;t+=2){let e=P[t],h=P[t+1];V[a]=e,V[a+1]=h,V[a+2]=r.r,V[a+3]=r.g,V[a+4]=r.b,V[a+5]=r.a;let d=e-y,u=h-S,g=(s*d+i*u)*f,p=(c*d+n*u)*f,w=1-g-p;V[a+6]=x*g+A*p+I*w,V[a+7]=M*g+b*p+R*w,o&&(V[a+8]=l.r,V[a+9]=l.g,V[a+10]=l.b,V[a+11]=l.a),a+=m}a=u.length;let k=t.Utils.setArraySize(u,a+3*(C-2));C--;for(let t=1;t<C;t++)k[a]=g,k[a+1]=g+t,k[a+2]=g+t+1,a+=3;g+=C+1}}}}clip(t,e,a,s,i,n,r,l){let o=l,h=!1,d=null;r.length%4>=2?(d=l,l=this.scratch):d=this.scratch,d.length=0,d.push(t),d.push(e),d.push(a),d.push(s),d.push(i),d.push(n),d.push(t),d.push(e),l.length=0;let u=r,c=r.length-4;for(let t=0;;t+=2){let e=u[t],a=u[t+1],s=u[t+2],i=u[t+3],n=e-s,r=a-i,f=d,m=d.length-2,g=l.length;for(let t=0;t<m;t+=2){let o=f[t],d=f[t+1],u=f[t+2],c=f[t+3],m=n*(c-i)-r*(u-s)>0;if(n*(d-i)-r*(o-s)>0){if(m){l.push(u),l.push(c);continue}let t=c-d,n=u-o,r=t*(s-e)-n*(i-a);if(Math.abs(r)>1e-6){let h=(n*(a-d)-t*(e-o))/r;l.push(e+(s-e)*h),l.push(a+(i-a)*h)}else l.push(e),l.push(a)}else if(m){let t=c-d,n=u-o,r=t*(s-e)-n*(i-a);if(Math.abs(r)>1e-6){let h=(n*(a-d)-t*(e-o))/r;l.push(e+(s-e)*h),l.push(a+(i-a)*h)}else l.push(e),l.push(a);l.push(u),l.push(c)}h=!0}if(g==l.length)return o.length=0,!0;if(l.push(l[0]),l.push(l[1]),t==c)break;let p=l;(l=d).length=0,d=p}if(o!=l){o.length=0;for(let t=0,e=l.length-2;t<e;t++)o[t]=l[t]}else o.length=o.length-2;return h}static makeClockwise(t){let e=t,a=t.length,s=e[a-2]*e[1]-e[0]*e[a-1],i=0,n=0,r=0,l=0;for(let t=0,o=a-3;t<o;t+=2)i=e[t],n=e[t+1],r=e[t+2],l=e[t+3],s+=i*l-r*n;if(!(s<0))for(let t=0,s=a-2,i=a>>1;t<i;t+=2){let a=e[t],i=e[t+1],n=s-t;e[t]=e[n],e[t+1]=e[n+1],e[n]=a,e[n+1]=i}}}t.SkeletonClipping=e}(spine||(spine={})),function(t){t.SkeletonData=class{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(t){if(null==t)throw new Error("boneName cannot be null.");let e=this.bones;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findBoneIndex(t){if(null==t)throw new Error("boneName cannot be null.");let e=this.bones;for(let a=0,s=e.length;a<s;a++)if(e[a].name==t)return a;return-1}findSlot(t){if(null==t)throw new Error("slotName cannot be null.");let e=this.slots;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findSlotIndex(t){if(null==t)throw new Error("slotName cannot be null.");let e=this.slots;for(let a=0,s=e.length;a<s;a++)if(e[a].name==t)return a;return-1}findSkin(t){if(null==t)throw new Error("skinName cannot be null.");let e=this.skins;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findEvent(t){if(null==t)throw new Error("eventDataName cannot be null.");let e=this.events;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findAnimation(t){if(null==t)throw new Error("animationName cannot be null.");let e=this.animations;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findIkConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findTransformConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findPathConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let a=0,s=e.length;a<s;a++){let s=e[a];if(s.name==t)return s}return null}findPathConstraintIndex(t){if(null==t)throw new Error("pathConstraintName cannot be null.");let e=this.pathConstraints;for(let a=0,s=e.length;a<s;a++)if(e[a].name==t)return a;return-1}}}(spine||(spine={})),function(t){class e{constructor(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(a){let s=this.scale,i=new t.SkeletonData,n="string"==typeof a?JSON.parse(a):a,r=n.skeleton;if(null!=r){if(i.hash=r.hash,i.version=r.spine,"3.8.75"==i.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height,i.fps=r.fps,i.imagesPath=r.images}if(n.bones)for(let a=0;a<n.bones.length;a++){let r=n.bones[a],l=null,o=this.getValue(r,"parent",null);if(null!=o&&(l=i.findBone(o),null==l))throw new Error("Parent bone not found: "+o);let h=new t.BoneData(i.bones.length,r.name,l);h.length=this.getValue(r,"length",0)*s,h.x=this.getValue(r,"x",0)*s,h.y=this.getValue(r,"y",0)*s,h.rotation=this.getValue(r,"rotation",0),h.scaleX=this.getValue(r,"scaleX",1),h.scaleY=this.getValue(r,"scaleY",1),h.shearX=this.getValue(r,"shearX",0),h.shearY=this.getValue(r,"shearY",0),h.transformMode=e.transformModeFromString(this.getValue(r,"transform","normal")),h.skinRequired=this.getValue(r,"skin",!1),i.bones.push(h)}if(n.slots)for(let a=0;a<n.slots.length;a++){let s=n.slots[a],r=s.name,l=s.bone,o=i.findBone(l);if(null==o)throw new Error("Slot bone not found: "+l);let h=new t.SlotData(i.slots.length,r,o),d=this.getValue(s,"color",null);null!=d&&h.color.setFromString(d);let u=this.getValue(s,"dark",null);null!=u&&(h.darkColor=new t.Color(1,1,1,1),h.darkColor.setFromString(u)),h.attachmentName=this.getValue(s,"attachment",null),h.blendMode=e.blendModeFromString(this.getValue(s,"blend","normal")),i.slots.push(h)}if(n.ik)for(let e=0;e<n.ik.length;e++){let a=n.ik[e],r=new t.IkConstraintData(a.name);r.order=this.getValue(a,"order",0),r.skinRequired=this.getValue(a,"skin",!1);for(let t=0;t<a.bones.length;t++){let e=a.bones[t],s=i.findBone(e);if(null==s)throw new Error("IK bone not found: "+e);r.bones.push(s)}let l=a.target;if(r.target=i.findBone(l),null==r.target)throw new Error("IK target bone not found: "+l);r.mix=this.getValue(a,"mix",1),r.softness=this.getValue(a,"softness",0)*s,r.bendDirection=this.getValue(a,"bendPositive",!0)?1:-1,r.compress=this.getValue(a,"compress",!1),r.stretch=this.getValue(a,"stretch",!1),r.uniform=this.getValue(a,"uniform",!1),i.ikConstraints.push(r)}if(n.transform)for(let e=0;e<n.transform.length;e++){let a=n.transform[e],r=new t.TransformConstraintData(a.name);r.order=this.getValue(a,"order",0),r.skinRequired=this.getValue(a,"skin",!1);for(let t=0;t<a.bones.length;t++){let e=a.bones[t],s=i.findBone(e);if(null==s)throw new Error("Transform constraint bone not found: "+e);r.bones.push(s)}let l=a.target;if(r.target=i.findBone(l),null==r.target)throw new Error("Transform constraint target bone not found: "+l);r.local=this.getValue(a,"local",!1),r.relative=this.getValue(a,"relative",!1),r.offsetRotation=this.getValue(a,"rotation",0),r.offsetX=this.getValue(a,"x",0)*s,r.offsetY=this.getValue(a,"y",0)*s,r.offsetScaleX=this.getValue(a,"scaleX",0),r.offsetScaleY=this.getValue(a,"scaleY",0),r.offsetShearY=this.getValue(a,"shearY",0),r.rotateMix=this.getValue(a,"rotateMix",1),r.translateMix=this.getValue(a,"translateMix",1),r.scaleMix=this.getValue(a,"scaleMix",1),r.shearMix=this.getValue(a,"shearMix",1),i.transformConstraints.push(r)}if(n.path)for(let a=0;a<n.path.length;a++){let r=n.path[a],l=new t.PathConstraintData(r.name);l.order=this.getValue(r,"order",0),l.skinRequired=this.getValue(r,"skin",!1);for(let t=0;t<r.bones.length;t++){let e=r.bones[t],a=i.findBone(e);if(null==a)throw new Error("Transform constraint bone not found: "+e);l.bones.push(a)}let o=r.target;if(l.target=i.findSlot(o),null==l.target)throw new Error("Path target slot not found: "+o);l.positionMode=e.positionModeFromString(this.getValue(r,"positionMode","percent")),l.spacingMode=e.spacingModeFromString(this.getValue(r,"spacingMode","length")),l.rotateMode=e.rotateModeFromString(this.getValue(r,"rotateMode","tangent")),l.offsetRotation=this.getValue(r,"rotation",0),l.position=this.getValue(r,"position",0),l.positionMode==t.PositionMode.Fixed&&(l.position*=s),l.spacing=this.getValue(r,"spacing",0),l.spacingMode!=t.SpacingMode.Length&&l.spacingMode!=t.SpacingMode.Fixed||(l.spacing*=s),l.rotateMix=this.getValue(r,"rotateMix",1),l.translateMix=this.getValue(r,"translateMix",1),i.pathConstraints.push(l)}if(n.skins)for(let e=0;e<n.skins.length;e++){let a=n.skins[e],s=new t.Skin(a.name);if(a.bones)for(let t=0;t<a.bones.length;t++){let n=i.findBone(a.bones[t]);if(null==n)throw new Error("Skin bone not found: "+a.bones[e]);s.bones.push(n)}if(a.ik)for(let t=0;t<a.ik.length;t++){let n=i.findIkConstraint(a.ik[t]);if(null==n)throw new Error("Skin IK constraint not found: "+a.ik[e]);s.constraints.push(n)}if(a.transform)for(let t=0;t<a.transform.length;t++){let n=i.findTransformConstraint(a.transform[t]);if(null==n)throw new Error("Skin transform constraint not found: "+a.transform[e]);s.constraints.push(n)}if(a.path)for(let t=0;t<a.path.length;t++){let n=i.findPathConstraint(a.path[t]);if(null==n)throw new Error("Skin path constraint not found: "+a.path[e]);s.constraints.push(n)}for(let t in a.attachments){let e=i.findSlot(t);if(null==e)throw new Error("Slot not found: "+t);let n=a.attachments[t];for(let t in n){let a=this.readAttachment(n[t],s,e.index,t,i);null!=a&&s.setAttachment(e.index,t,a)}}i.skins.push(s),"default"==s.name&&(i.defaultSkin=s)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){let e=this.linkedMeshes[t],a=null==e.skin?i.defaultSkin:i.findSkin(e.skin);if(null==a)throw new Error("Skin not found: "+e.skin);let s=a.getAttachment(e.slotIndex,e.parent);if(null==s)throw new Error("Parent mesh not found: "+e.parent);e.mesh.deformAttachment=e.inheritDeform?s:e.mesh,e.mesh.setParentMesh(s),e.mesh.updateUVs()}if(this.linkedMeshes.length=0,n.events)for(let e in n.events){let a=n.events[e],s=new t.EventData(e);s.intValue=this.getValue(a,"int",0),s.floatValue=this.getValue(a,"float",0),s.stringValue=this.getValue(a,"string",""),s.audioPath=this.getValue(a,"audio",null),null!=s.audioPath&&(s.volume=this.getValue(a,"volume",1),s.balance=this.getValue(a,"balance",0)),i.events.push(s)}if(n.animations)for(let t in n.animations){let e=n.animations[t];this.readAnimation(e,t,i)}return i}readAttachment(e,s,i,n,r){let l=this.scale;switch(n=this.getValue(e,"name",n),this.getValue(e,"type","region")){case"region":{let t=this.getValue(e,"path",n),a=this.attachmentLoader.newRegionAttachment(s,n,t);if(null==a)return null;a.path=t,a.x=this.getValue(e,"x",0)*l,a.y=this.getValue(e,"y",0)*l,a.scaleX=this.getValue(e,"scaleX",1),a.scaleY=this.getValue(e,"scaleY",1),a.rotation=this.getValue(e,"rotation",0),a.width=e.width*l,a.height=e.height*l;let i=this.getValue(e,"color",null);return null!=i&&a.color.setFromString(i),a.updateOffset(),a}case"boundingbox":{let t=this.attachmentLoader.newBoundingBoxAttachment(s,n);if(null==t)return null;this.readVertices(e,t,e.vertexCount<<1);let a=this.getValue(e,"color",null);return null!=a&&t.color.setFromString(a),t}case"mesh":case"linkedmesh":{let t=this.getValue(e,"path",n),r=this.attachmentLoader.newMeshAttachment(s,n,t);if(null==r)return null;r.path=t;let o=this.getValue(e,"color",null);null!=o&&r.color.setFromString(o),r.width=this.getValue(e,"width",0)*l,r.height=this.getValue(e,"height",0)*l;let h=this.getValue(e,"parent",null);if(null!=h)return this.linkedMeshes.push(new a(r,this.getValue(e,"skin",null),i,h,this.getValue(e,"deform",!0))),r;let d=e.uvs;return this.readVertices(e,r,d.length),r.triangles=e.triangles,r.regionUVs=d,r.updateUVs(),r.edges=this.getValue(e,"edges",null),r.hullLength=2*this.getValue(e,"hull",0),r}case"path":{let a=this.attachmentLoader.newPathAttachment(s,n);if(null==a)return null;a.closed=this.getValue(e,"closed",!1),a.constantSpeed=this.getValue(e,"constantSpeed",!0);let i=e.vertexCount;this.readVertices(e,a,i<<1);let r=t.Utils.newArray(i/3,0);for(let t=0;t<e.lengths.length;t++)r[t]=e.lengths[t]*l;a.lengths=r;let o=this.getValue(e,"color",null);return null!=o&&a.color.setFromString(o),a}case"point":{let t=this.attachmentLoader.newPointAttachment(s,n);if(null==t)return null;t.x=this.getValue(e,"x",0)*l,t.y=this.getValue(e,"y",0)*l,t.rotation=this.getValue(e,"rotation",0);let a=this.getValue(e,"color",null);return null!=a&&t.color.setFromString(a),t}case"clipping":{let t=this.attachmentLoader.newClippingAttachment(s,n);if(null==t)return null;let a=this.getValue(e,"end",null);if(null!=a){let e=r.findSlot(a);if(null==e)throw new Error("Clipping end slot not found: "+a);t.endSlot=e}let i=e.vertexCount;this.readVertices(e,t,i<<1);let l=this.getValue(e,"color",null);return null!=l&&t.color.setFromString(l),t}}return null}readVertices(e,a,s){let i=this.scale;a.worldVerticesLength=s;let n=e.vertices;if(s==n.length){let e=t.Utils.toFloatArray(n);if(1!=i)for(let t=0,a=n.length;t<a;t++)e[t]*=i;return void(a.vertices=e)}let r=new Array,l=new Array;for(let t=0,e=n.length;t<e;){let e=n[t++];l.push(e);for(let a=t+4*e;t<a;t+=4)l.push(n[t]),r.push(n[t+1]*i),r.push(n[t+2]*i),r.push(n[t+3])}a.bones=l,a.vertices=t.Utils.toFloatArray(r)}readAnimation(e,a,s){let i=this.scale,n=new Array,r=0;if(e.slots)for(let a in e.slots){let i=e.slots[a],l=s.findSlotIndex(a);if(-1==l)throw new Error("Slot not found: "+a);for(let e in i){let s=i[e];if("attachment"==e){let e=new t.AttachmentTimeline(s.length);e.slotIndex=l;let a=0;for(let t=0;t<s.length;t++){let i=s[t];e.setFrame(a++,this.getValue(i,"time",0),i.name)}n.push(e),r=Math.max(r,e.frames[e.getFrameCount()-1])}else if("color"==e){let e=new t.ColorTimeline(s.length);e.slotIndex=l;let a=0;for(let i=0;i<s.length;i++){let n=s[i],r=new t.Color;r.setFromString(n.color),e.setFrame(a,this.getValue(n,"time",0),r.r,r.g,r.b,r.a),this.readCurve(n,e,a),a++}n.push(e),r=Math.max(r,e.frames[(e.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if("twoColor"!=e)throw new Error("Invalid timeline type for a slot: "+e+" ("+a+")");{let e=new t.TwoColorTimeline(s.length);e.slotIndex=l;let a=0;for(let i=0;i<s.length;i++){let n=s[i],r=new t.Color,l=new t.Color;r.setFromString(n.light),l.setFromString(n.dark),e.setFrame(a,this.getValue(n,"time",0),r.r,r.g,r.b,r.a,l.r,l.g,l.b),this.readCurve(n,e,a),a++}n.push(e),r=Math.max(r,e.frames[(e.getFrameCount()-1)*t.TwoColorTimeline.ENTRIES])}}}}if(e.bones)for(let a in e.bones){let l=e.bones[a],o=s.findBoneIndex(a);if(-1==o)throw new Error("Bone not found: "+a);for(let e in l){let s=l[e];if("rotate"===e){let e=new t.RotateTimeline(s.length);e.boneIndex=o;let a=0;for(let t=0;t<s.length;t++){let i=s[t];e.setFrame(a,this.getValue(i,"time",0),this.getValue(i,"angle",0)),this.readCurve(i,e,a),a++}n.push(e),r=Math.max(r,e.frames[(e.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==e&&"scale"!==e&&"shear"!==e)throw new Error("Invalid timeline type for a bone: "+e+" ("+a+")");{let a=null,l=1,h=0;"scale"===e?(a=new t.ScaleTimeline(s.length),h=1):"shear"===e?a=new t.ShearTimeline(s.length):(a=new t.TranslateTimeline(s.length),l=i),a.boneIndex=o;let d=0;for(let t=0;t<s.length;t++){let e=s[t],i=this.getValue(e,"x",h),n=this.getValue(e,"y",h);a.setFrame(d,this.getValue(e,"time",0),i*l,n*l),this.readCurve(e,a,d),d++}n.push(a),r=Math.max(r,a.frames[(a.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}}}if(e.ik)for(let a in e.ik){let l=e.ik[a],o=s.findIkConstraint(a),h=new t.IkConstraintTimeline(l.length);h.ikConstraintIndex=s.ikConstraints.indexOf(o);let d=0;for(let t=0;t<l.length;t++){let e=l[t];h.setFrame(d,this.getValue(e,"time",0),this.getValue(e,"mix",1),this.getValue(e,"softness",0)*i,this.getValue(e,"bendPositive",!0)?1:-1,this.getValue(e,"compress",!1),this.getValue(e,"stretch",!1)),this.readCurve(e,h,d),d++}n.push(h),r=Math.max(r,h.frames[(h.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(let a in e.transform){let i=e.transform[a],l=s.findTransformConstraint(a),o=new t.TransformConstraintTimeline(i.length);o.transformConstraintIndex=s.transformConstraints.indexOf(l);let h=0;for(let t=0;t<i.length;t++){let e=i[t];o.setFrame(h,this.getValue(e,"time",0),this.getValue(e,"rotateMix",1),this.getValue(e,"translateMix",1),this.getValue(e,"scaleMix",1),this.getValue(e,"shearMix",1)),this.readCurve(e,o,h),h++}n.push(o),r=Math.max(r,o.frames[(o.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.path)for(let a in e.path){let l=e.path[a],o=s.findPathConstraintIndex(a);if(-1==o)throw new Error("Path constraint not found: "+a);let h=s.pathConstraints[o];for(let e in l){let a=l[e];if("position"===e||"spacing"===e){let s=null,l=1;"spacing"===e?(s=new t.PathConstraintSpacingTimeline(a.length),h.spacingMode!=t.SpacingMode.Length&&h.spacingMode!=t.SpacingMode.Fixed||(l=i)):(s=new t.PathConstraintPositionTimeline(a.length),h.positionMode==t.PositionMode.Fixed&&(l=i)),s.pathConstraintIndex=o;let d=0;for(let t=0;t<a.length;t++){let i=a[t];s.setFrame(d,this.getValue(i,"time",0),this.getValue(i,e,0)*l),this.readCurve(i,s,d),d++}n.push(s),r=Math.max(r,s.frames[(s.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===e){let e=new t.PathConstraintMixTimeline(a.length);e.pathConstraintIndex=o;let s=0;for(let t=0;t<a.length;t++){let i=a[t];e.setFrame(s,this.getValue(i,"time",0),this.getValue(i,"rotateMix",1),this.getValue(i,"translateMix",1)),this.readCurve(i,e,s),s++}n.push(e),r=Math.max(r,e.frames[(e.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(let a in e.deform){let l=e.deform[a],o=s.findSkin(a);if(null==o)throw new Error("Skin not found: "+a);for(let e in l){let a=l[e],h=s.findSlotIndex(e);if(-1==h)throw new Error("Slot not found: "+a.name);for(let e in a){let s=a[e],l=o.getAttachment(h,e);if(null==l)throw new Error("Deform attachment not found: "+s.name);let d=null!=l.bones,u=l.vertices,c=d?u.length/3*2:u.length,f=new t.DeformTimeline(s.length);f.slotIndex=h,f.attachment=l;let m=0;for(let e=0;e<s.length;e++){let a,n=s[e],r=this.getValue(n,"vertices",null);if(null==r)a=d?t.Utils.newFloatArray(c):u;else{a=t.Utils.newFloatArray(c);let e=this.getValue(n,"offset",0);if(t.Utils.arrayCopy(r,0,a,e,r.length),1!=i)for(let t=e,s=t+r.length;t<s;t++)a[t]*=i;if(!d)for(let t=0;t<c;t++)a[t]+=u[t]}f.setFrame(m,this.getValue(n,"time",0),a),this.readCurve(n,f,m),m++}n.push(f),r=Math.max(r,f.frames[f.getFrameCount()-1])}}}let l=e.drawOrder;if(null==l&&(l=e.draworder),null!=l){let e=new t.DrawOrderTimeline(l.length),a=s.slots.length,i=0;for(let n=0;n<l.length;n++){let r=l[n],o=null,h=this.getValue(r,"offsets",null);if(null!=h){o=t.Utils.newArray(a,-1);let e=t.Utils.newArray(a-h.length,0),i=0,n=0;for(let t=0;t<h.length;t++){let a=h[t],r=s.findSlotIndex(a.slot);if(-1==r)throw new Error("Slot not found: "+a.slot);for(;i!=r;)e[n++]=i++;o[i+a.offset]=i++}for(;i<a;)e[n++]=i++;for(let t=a-1;t>=0;t--)-1==o[t]&&(o[t]=e[--n])}e.setFrame(i++,this.getValue(r,"time",0),o)}n.push(e),r=Math.max(r,e.frames[e.getFrameCount()-1])}if(e.events){let a=new t.EventTimeline(e.events.length),i=0;for(let n=0;n<e.events.length;n++){let r=e.events[n],l=s.findEvent(r.name);if(null==l)throw new Error("Event not found: "+r.name);let o=new t.Event(t.Utils.toSinglePrecision(this.getValue(r,"time",0)),l);o.intValue=this.getValue(r,"int",l.intValue),o.floatValue=this.getValue(r,"float",l.floatValue),o.stringValue=this.getValue(r,"string",l.stringValue),null!=o.data.audioPath&&(o.volume=this.getValue(r,"volume",1),o.balance=this.getValue(r,"balance",0)),a.setFrame(i++,o)}n.push(a),r=Math.max(r,a.frames[a.getFrameCount()-1])}if(isNaN(r))throw new Error("Error while parsing animation, duration is NaN");s.animations.push(new t.Animation(a,n,r))}readCurve(t,e,a){if(t.hasOwnProperty("curve"))if("stepped"==t.curve)e.setStepped(a);else{let s=t.curve;e.setCurve(a,s,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}}getValue(t,e,a){return void 0!==t[e]?t[e]:a}static blendModeFromString(e){if("normal"==(e=e.toLowerCase()))return t.BlendMode.Normal;if("additive"==e)return t.BlendMode.Additive;if("multiply"==e)return t.BlendMode.Multiply;if("screen"==e)return t.BlendMode.Screen;throw new Error("Unknown blend mode: "+e)}static positionModeFromString(e){if("fixed"==(e=e.toLowerCase()))return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)}static spacingModeFromString(e){if("length"==(e=e.toLowerCase()))return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)}static rotateModeFromString(e){if("tangent"==(e=e.toLowerCase()))return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)}static transformModeFromString(e){if("normal"==(e=e.toLowerCase()))return t.TransformMode.Normal;if("onlytranslation"==e)return t.TransformMode.OnlyTranslation;if("norotationorreflection"==e)return t.TransformMode.NoRotationOrReflection;if("noscale"==e)return t.TransformMode.NoScale;if("noscaleorreflection"==e)return t.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)}}t.SkeletonJson=e;class a{constructor(t,e,a,s,i){this.mesh=t,this.skin=e,this.slotIndex=a,this.parent=s,this.inheritDeform=i}}}(spine||(spine={})),function(t){class e{constructor(t,e,a){this.slotIndex=t,this.name=e,this.attachment=a}}t.SkinEntry=e;t.Skin=class{constructor(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,a){if(null==a)throw new Error("attachment cannot be null.");let s=this.attachments;t>=s.length&&(s.length=t+1),s[t]||(s[t]={}),s[t][e]=a}addSkin(t){for(let e=0;e<t.bones.length;e++){let a=t.bones[e],s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==a){s=!0;break}s||this.bones.push(a)}for(let e=0;e<t.constraints.length;e++){let a=t.constraints[e],s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==a){s=!0;break}s||this.constraints.push(a)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var a=e[t];this.setAttachment(a.slotIndex,a.name,a.attachment)}}copySkin(e){for(let t=0;t<e.bones.length;t++){let a=e.bones[t],s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==a){s=!0;break}s||this.bones.push(a)}for(let t=0;t<e.constraints.length;t++){let a=e.constraints[t],s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==a){s=!0;break}s||this.constraints.push(a)}let a=e.getAttachments();for(let e=0;e<a.length;e++){var s=a[e];null!=s.attachment&&(s.attachment instanceof t.MeshAttachment?(s.attachment=s.attachment.newLinkedMesh(),this.setAttachment(s.slotIndex,s.name,s.attachment)):(s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment)))}}getAttachment(t,e){let a=this.attachments[t];return a?a[e]:null}removeAttachment(t,e){let a=this.attachments[t];a&&(a[e]=null)}getAttachments(){let t=new Array;for(var a=0;a<this.attachments.length;a++){let s=this.attachments[a];if(s)for(let i in s){let n=s[i];n&&t.push(new e(a,i,n))}}return t}getAttachmentsForSlot(t,a){let s=this.attachments[t];if(s)for(let i in s){let n=s[i];n&&a.push(new e(t,i,n))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let a=0;for(let s=0;s<t.slots.length;s++){let i=t.slots[s],n=i.getAttachment();if(n&&a<e.attachments.length){let t=e.attachments[a];for(let e in t){if(n==t[e]){let t=this.getAttachment(a,e);null!=t&&i.setAttachment(t);break}}}a++}}}}(spine||(spine={})),function(t){t.Slot=class{constructor(e,a){if(this.deform=new Array,null==e)throw new Error("data cannot be null.");if(null==a)throw new Error("bone cannot be null.");this.data=e,this.bone=a,this.color=new t.Color,this.darkColor=null==e.darkColor?null:new t.Color,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}setAttachmentTime(t){this.attachmentTime=this.bone.skeleton.time-t}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}}(spine||(spine={})),function(t){t.SlotData=class{constructor(e,a,s){if(this.color=new t.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==a)throw new Error("name cannot be null.");if(null==s)throw new Error("boneData cannot be null.");this.index=e,this.name=a,this.boneData=s}}}(spine||(spine={})),function(t){class e{constructor(t){this._image=t}getImage(){return this._image}static filterFromString(t){switch(t.toLowerCase()){case"nearest":return a.Nearest;case"linear":return a.Linear;case"mipmap":return a.MipMap;case"mipmapnearestnearest":return a.MipMapNearestNearest;case"mipmaplinearnearest":return a.MipMapLinearNearest;case"mipmapnearestlinear":return a.MipMapNearestLinear;case"mipmaplinearlinear":return a.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}static wrapFromString(t){switch(t.toLowerCase()){case"mirroredtepeat":return s.MirroredRepeat;case"clamptoedge":return s.ClampToEdge;case"repeat":return s.Repeat;default:throw new Error("Unknown texture wrap "+t)}}}let a,s;t.Texture=e,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(a=t.TextureFilter||(t.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(s=t.TextureWrap||(t.TextureWrap={}));t.TextureRegion=class{constructor(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}};t.FakeTexture=class extends e{setFilters(t,e){}setWraps(t,e){}dispose(){}}}(spine||(spine={})),function(t){t.TextureAtlas=class{constructor(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}load(i,n){if(null==n)throw new Error("textureLoader cannot be null.");let r=new e(i),l=new Array(4),o=null;for(;;){let e=r.readLine();if(null==e)break;if(e=e.trim(),0==e.length)o=null;else if(o){let t=new s;t.name=e,t.page=o;let a=r.readValue();"true"==a.toLocaleLowerCase()?t.degrees=90:"false"==a.toLocaleLowerCase()?t.degrees=0:t.degrees=parseFloat(a),t.rotate=90==t.degrees,r.readTuple(l);let i=parseInt(l[0]),n=parseInt(l[1]);r.readTuple(l);let h=parseInt(l[0]),d=parseInt(l[1]);t.u=i/o.width,t.v=n/o.height,t.rotate?(t.u2=(i+d)/o.width,t.v2=(n+h)/o.height):(t.u2=(i+h)/o.width,t.v2=(n+d)/o.height),t.x=i,t.y=n,t.width=Math.abs(h),t.height=Math.abs(d),4==r.readTuple(l)&&4==r.readTuple(l)&&r.readTuple(l),t.originalWidth=parseInt(l[0]),t.originalHeight=parseInt(l[1]),r.readTuple(l),t.offsetX=parseInt(l[0]),t.offsetY=parseInt(l[1]),t.index=parseInt(r.readValue()),t.texture=o.texture,this.regions.push(t)}else{o=new a,o.name=e,2==r.readTuple(l)&&(o.width=parseInt(l[0]),o.height=parseInt(l[1]),r.readTuple(l)),r.readTuple(l),o.minFilter=t.Texture.filterFromString(l[0]),o.magFilter=t.Texture.filterFromString(l[1]);let s=r.readValue();o.uWrap=t.TextureWrap.ClampToEdge,o.vWrap=t.TextureWrap.ClampToEdge,"x"==s?o.uWrap=t.TextureWrap.Repeat:"y"==s?o.vWrap=t.TextureWrap.Repeat:"xy"==s&&(o.uWrap=o.vWrap=t.TextureWrap.Repeat),o.texture=n(e),o.texture.setFilters(o.minFilter,o.magFilter),o.texture.setWraps(o.uWrap,o.vWrap),o.width=o.texture.getImage().width,o.height=o.texture.getImage().height,this.pages.push(o)}}}findRegion(t){for(let e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}dispose(){for(let t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()}};class e{constructor(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readValue(){let t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()}readTuple(t){let e=this.readLine(),a=e.indexOf(":");if(-1==a)throw new Error("Invalid line: "+e);let s=0,i=a+1;for(;s<3;s++){let a=e.indexOf(",",i);if(-1==a)break;t[s]=e.substr(i,a-i).trim(),i=a+1}return t[s]=e.substring(i).trim(),s+1}}class a{}t.TextureAtlasPage=a;class s extends t.TextureRegion{}t.TextureAtlasRegion=s}(spine||(spine={})),function(t){t.TransformConstraint=class{constructor(e,a){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==a)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(let t=0;t<e.bones.length;t++)this.bones.push(a.findBone(e.bones[t].name));this.target=a.findBone(e.target.name)}isActive(){return this.active}apply(){this.update()}update(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}applyAbsoluteWorld(){let e=this.rotateMix,a=this.translateMix,s=this.scaleMix,i=this.shearMix,n=this.target,r=n.a,l=n.b,o=n.c,h=n.d,d=r*h-l*o>0?t.MathUtils.degRad:-t.MathUtils.degRad,u=this.data.offsetRotation*d,c=this.data.offsetShearY*d,f=this.bones;for(let d=0,m=f.length;d<m;d++){let m=f[d],g=!1;if(0!=e){let a=m.a,s=m.b,i=m.c,n=m.d,l=Math.atan2(o,r)-Math.atan2(i,a)+u;l>t.MathUtils.PI?l-=t.MathUtils.PI2:l<-t.MathUtils.PI&&(l+=t.MathUtils.PI2),l*=e;let h=Math.cos(l),d=Math.sin(l);m.a=h*a-d*i,m.b=h*s-d*n,m.c=d*a+h*i,m.d=d*s+h*n,g=!0}if(0!=a){let t=this.temp;n.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),m.worldX+=(t.x-m.worldX)*a,m.worldY+=(t.y-m.worldY)*a,g=!0}if(s>0){let t=Math.sqrt(m.a*m.a+m.c*m.c),e=Math.sqrt(r*r+o*o);t>1e-5&&(t=(t+(e-t+this.data.offsetScaleX)*s)/t),m.a*=t,m.c*=t,t=Math.sqrt(m.b*m.b+m.d*m.d),e=Math.sqrt(l*l+h*h),t>1e-5&&(t=(t+(e-t+this.data.offsetScaleY)*s)/t),m.b*=t,m.d*=t,g=!0}if(i>0){let e=m.b,a=m.d,s=Math.atan2(a,e),n=Math.atan2(h,l)-Math.atan2(o,r)-(s-Math.atan2(m.c,m.a));n>t.MathUtils.PI?n-=t.MathUtils.PI2:n<-t.MathUtils.PI&&(n+=t.MathUtils.PI2),n=s+(n+c)*i;let d=Math.sqrt(e*e+a*a);m.b=Math.cos(n)*d,m.d=Math.sin(n)*d,g=!0}g&&(m.appliedValid=!1)}}applyRelativeWorld(){let e=this.rotateMix,a=this.translateMix,s=this.scaleMix,i=this.shearMix,n=this.target,r=n.a,l=n.b,o=n.c,h=n.d,d=r*h-l*o>0?t.MathUtils.degRad:-t.MathUtils.degRad,u=this.data.offsetRotation*d,c=this.data.offsetShearY*d,f=this.bones;for(let d=0,m=f.length;d<m;d++){let m=f[d],g=!1;if(0!=e){let a=m.a,s=m.b,i=m.c,n=m.d,l=Math.atan2(o,r)+u;l>t.MathUtils.PI?l-=t.MathUtils.PI2:l<-t.MathUtils.PI&&(l+=t.MathUtils.PI2),l*=e;let h=Math.cos(l),d=Math.sin(l);m.a=h*a-d*i,m.b=h*s-d*n,m.c=d*a+h*i,m.d=d*s+h*n,g=!0}if(0!=a){let t=this.temp;n.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),m.worldX+=t.x*a,m.worldY+=t.y*a,g=!0}if(s>0){let t=(Math.sqrt(r*r+o*o)-1+this.data.offsetScaleX)*s+1;m.a*=t,m.c*=t,t=(Math.sqrt(l*l+h*h)-1+this.data.offsetScaleY)*s+1,m.b*=t,m.d*=t,g=!0}if(i>0){let e=Math.atan2(h,l)-Math.atan2(o,r);e>t.MathUtils.PI?e-=t.MathUtils.PI2:e<-t.MathUtils.PI&&(e+=t.MathUtils.PI2);let a=m.b,s=m.d;e=Math.atan2(s,a)+(e-t.MathUtils.PI/2+c)*i;let n=Math.sqrt(a*a+s*s);m.b=Math.cos(e)*n,m.d=Math.sin(e)*n,g=!0}g&&(m.appliedValid=!1)}}applyAbsoluteLocal(){let t=this.rotateMix,e=this.translateMix,a=this.scaleMix,s=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();let n=this.bones;for(let r=0,l=n.length;r<l;r++){let l=n[r];l.appliedValid||l.updateAppliedTransform();let o=l.arotation;if(0!=t){let e=i.arotation-o+this.data.offsetRotation;e-=360*(16384-(16384.499999999996-e/360|0)),o+=e*t}let h=l.ax,d=l.ay;0!=e&&(h+=(i.ax-h+this.data.offsetX)*e,d+=(i.ay-d+this.data.offsetY)*e);let u=l.ascaleX,c=l.ascaleY;0!=a&&(u>1e-5&&(u=(u+(i.ascaleX-u+this.data.offsetScaleX)*a)/u),c>1e-5&&(c=(c+(i.ascaleY-c+this.data.offsetScaleY)*a)/c));let f=l.ashearY;if(0!=s){let t=i.ashearY-f+this.data.offsetShearY;t-=360*(16384-(16384.499999999996-t/360|0)),l.shearY+=t*s}l.updateWorldTransformWith(h,d,o,u,c,l.ashearX,f)}}applyRelativeLocal(){let t=this.rotateMix,e=this.translateMix,a=this.scaleMix,s=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();let n=this.bones;for(let r=0,l=n.length;r<l;r++){let l=n[r];l.appliedValid||l.updateAppliedTransform();let o=l.arotation;0!=t&&(o+=(i.arotation+this.data.offsetRotation)*t);let h=l.ax,d=l.ay;0!=e&&(h+=(i.ax+this.data.offsetX)*e,d+=(i.ay+this.data.offsetY)*e);let u=l.ascaleX,c=l.ascaleY;0!=a&&(u>1e-5&&(u*=(i.ascaleX-1+this.data.offsetScaleX)*a+1),c>1e-5&&(c*=(i.ascaleY-1+this.data.offsetScaleY)*a+1));let f=l.ashearY;0!=s&&(f+=(i.ashearY+this.data.offsetShearY)*s),l.updateWorldTransformWith(h,d,o,u,c,l.ashearX,f)}}}}(spine||(spine={})),function(t){class e extends t.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}}t.TransformConstraintData=e}(spine||(spine={})),function(t){class e{constructor(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(()=>new Array),this.polygonIndicesPool=new t.Pool(()=>new Array)}triangulate(t){let a=t,s=t.length>>1,i=this.indicesArray;i.length=0;for(let t=0;t<s;t++)i[t]=t;let n=this.isConcaveArray;n.length=0;for(let t=0,r=s;t<r;++t)n[t]=e.isConcave(t,s,a,i);let r=this.triangles;for(r.length=0;s>3;){let t=s-1,l=0,o=1;for(;;){t:if(!n[l]){let r=i[t]<<1,h=i[l]<<1,d=i[o]<<1,u=a[r],c=a[r+1],f=a[h],m=a[h+1],g=a[d],p=a[d+1];for(let r=(o+1)%s;r!=t;r=(r+1)%s){if(!n[r])continue;let t=i[r]<<1,s=a[t],l=a[t+1];if(e.positiveArea(g,p,u,c,s,l)&&e.positiveArea(u,c,f,m,s,l)&&e.positiveArea(f,m,g,p,s,l))break t}break}if(0==o){do{if(!n[l])break;l--}while(l>0);break}t=l,l=o,o=(o+1)%s}r.push(i[(s+l-1)%s]),r.push(i[l]),r.push(i[(l+1)%s]),i.splice(l,1),n.splice(l,1),s--;let h=(s+l-1)%s,d=l==s?0:l;n[h]=e.isConcave(h,s,a,i),n[d]=e.isConcave(d,s,a,i)}return 3==s&&(r.push(i[2]),r.push(i[0]),r.push(i[1])),r}decompose(t,a){let s=t,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;let n=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(n),n.length=0;let r=this.polygonIndicesPool.obtain();r.length=0;let l=this.polygonPool.obtain();l.length=0;let o=-1,h=0;for(let t=0,d=a.length;t<d;t+=3){let d=a[t]<<1,u=a[t+1]<<1,c=a[t+2]<<1,f=s[d],m=s[d+1],g=s[u],p=s[u+1],w=s[c],x=s[c+1],M=!1;if(o==d){let t=l.length-4,a=e.winding(l[t],l[t+1],l[t+2],l[t+3],w,x),s=e.winding(w,x,l[0],l[1],l[2],l[3]);a==h&&s==h&&(l.push(w),l.push(x),r.push(c),M=!0)}M||(l.length>0?(i.push(l),n.push(r)):(this.polygonPool.free(l),this.polygonIndicesPool.free(r)),l=this.polygonPool.obtain(),l.length=0,l.push(f),l.push(m),l.push(g),l.push(p),l.push(w),l.push(x),r=this.polygonIndicesPool.obtain(),r.length=0,r.push(d),r.push(u),r.push(c),h=e.winding(f,m,g,p,w,x),o=d)}l.length>0&&(i.push(l),n.push(r));for(let t=0,a=i.length;t<a;t++){if(r=n[t],0==r.length)continue;let s=r[0],o=r[r.length-1];l=i[t];let h=l.length-4,d=l[h],u=l[h+1],c=l[h+2],f=l[h+3],m=l[0],g=l[1],p=l[2],w=l[3],x=e.winding(d,u,c,f,m,g);for(let h=0;h<a;h++){if(h==t)continue;let a=n[h];if(3!=a.length)continue;let M=a[0],E=a[1],T=a[2],A=i[h],b=A[A.length-2],y=A[A.length-1];if(M!=s||E!=o)continue;let S=e.winding(d,u,c,f,b,y),I=e.winding(b,y,m,g,p,w);S==x&&I==x&&(A.length=0,a.length=0,l.push(b),l.push(y),r.push(T),d=c,u=f,c=b,f=y,h=0)}}for(let t=i.length-1;t>=0;t--)l=i[t],0==l.length&&(i.splice(t,1),this.polygonPool.free(l),r=n[t],n.splice(t,1),this.polygonIndicesPool.free(r));return i}static isConcave(t,e,a,s){let i=s[(e+t-1)%e]<<1,n=s[t]<<1,r=s[(t+1)%e]<<1;return!this.positiveArea(a[i],a[i+1],a[n],a[n+1],a[r],a[r+1])}static positiveArea(t,e,a,s,i,n){return t*(n-s)+a*(e-n)+i*(s-e)>=0}static winding(t,e,a,s,i,n){let r=a-t,l=s-e;return i*l-n*r+r*e-t*l>=0?1:-1}}t.Triangulator=e}(spine||(spine={})),function(t){t.IntSet=class{constructor(){this.array=new Array}add(t){let e=this.contains(t);return this.array[0|t]=0|t,!e}contains(t){return null!=this.array[0|t]}remove(t){this.array[0|t]=void 0}clear(){this.array.length=0}};class e{constructor(t=0,e=0,a=0,s=0){this.r=t,this.g=e,this.b=a,this.a=s}set(t,e,a,s){return this.r=t,this.g=e,this.b=a,this.a=s,this.clamp(),this}setFromColor(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}setFromString(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this}add(t,e,a,s){return this.r+=t,this.g+=e,this.b+=a,this.a+=s,this.clamp(),this}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}static rgb888ToColor(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}}e.WHITE=new e(1,1,1,1),e.RED=new e(1,0,0,1),e.GREEN=new e(0,1,0,1),e.BLUE=new e(0,0,1,1),e.MAGENTA=new e(1,0,1,1),t.Color=e;class a{static clamp(t,e,a){return t<e?e:t>a?a:t}static cosDeg(t){return Math.cos(t*a.degRad)}static sinDeg(t){return Math.sin(t*a.degRad)}static signum(t){return t>0?1:t<0?-1:0}static toInt(t){return t>0?Math.floor(t):Math.ceil(t)}static cbrt(t){let e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}static randomTriangular(t,e){return a.randomTriangularWith(t,e,.5*(t+e))}static randomTriangularWith(t,e,a){let s=Math.random(),i=e-t;return s<=(a-t)/i?t+Math.sqrt(s*i*(a-t)):e-Math.sqrt((1-s)*i*(e-a))}}a.PI=3.1415927,a.PI2=2*a.PI,a.radiansToDegrees=180/a.PI,a.radDeg=a.radiansToDegrees,a.degreesToRadians=a.PI/180,a.degRad=a.degreesToRadians,t.MathUtils=a;class s{apply(t,e,a){return t+(e-t)*this.applyInternal(a)}}t.Interpolation=s;class i extends s{constructor(t){super(),this.power=2,this.power=t}applyInternal(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1}}t.Pow=i;t.PowOut=class extends i{constructor(t){super(t)}applyInternal(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}};class n{static arrayCopy(t,e,a,s,i){for(let n=e,r=s;n<e+i;n++,r++)a[r]=t[n]}static setArraySize(t,e,a=0){let s=t.length;if(s==e)return t;if(t.length=e,s<e)for(let i=s;i<e;i++)t[i]=a;return t}static ensureArrayCapacity(t,e,a=0){return t.length>=e?t:n.setArraySize(t,e,a)}static newArray(t,e){let a=new Array(t);for(let s=0;s<t;s++)a[s]=e;return a}static newFloatArray(t){if(n.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static newShortArray(t){if(n.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static toFloatArray(t){return n.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}static toSinglePrecision(t){return n.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}static webkit602BugfixHelper(t,e){}static contains(t,e,a=!0){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1}}n.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t.Utils=n;t.DebugUtils=class{static logBones(t){for(let e=0;e<t.bones.length;e++){let a=t.bones[e];console.log(a.data.name+", "+a.a+", "+a.b+", "+a.c+", "+a.d+", "+a.worldX+", "+a.worldY)}}};t.Pool=class{constructor(t){this.items=new Array,this.instantiator=t}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(t){t.reset&&t.reset(),this.items.push(t)}freeAll(t){for(let e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]}clear(){this.items.length=0}};t.Vector2=class{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}length(){let t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}normalize(){let t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}};t.TimeKeeper=class{constructor(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}update(){let t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}};t.WindowedMean=class{constructor(t=32){this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}hasEnoughData(){return this.addedValues>=this.values.length}addValue(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}getMean(){if(this.hasEnoughData()){if(this.dirty){let t=0;for(let e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}}}(spine||(spine={})),(()=>{var t;Math.fround||(Math.fround=(t=new Float32Array(1),function(e){return t[0]=e,t[0]}))})(),function(t){class e{constructor(t){if(null==t)throw new Error("name cannot be null.");this.name=t}}t.Attachment=e;class a extends e{constructor(t){super(t),this.id=(65535&a.nextID++)<<11,this.worldVerticesLength=0,this.deformAttachment=this}computeWorldVertices(t,e,a,s,i,n){a=i+(a>>1)*n;let r=t.bone.skeleton,l=t.deform,o=this.vertices,h=this.bones;if(null==h){l.length>0&&(o=l);let r=t.bone,h=r.worldX,d=r.worldY,u=r.a,c=r.b,f=r.c,m=r.d;for(let t=e,r=i;r<a;t+=2,r+=n){let e=o[t],a=o[t+1];s[r]=e*u+a*c+h,s[r+1]=e*f+a*m+d}return}let d=0,u=0;for(let t=0;t<e;t+=2){let t=h[d];d+=t+1,u+=t}let c=r.bones;if(0==l.length)for(let t=i,e=3*u;t<a;t+=n){let a=0,i=0,n=h[d++];for(n+=d;d<n;d++,e+=3){let t=c[h[d]],s=o[e],n=o[e+1],r=o[e+2];a+=(s*t.a+n*t.b+t.worldX)*r,i+=(s*t.c+n*t.d+t.worldY)*r}s[t]=a,s[t+1]=i}else{let t=l;for(let e=i,r=3*u,l=u<<1;e<a;e+=n){let a=0,i=0,n=h[d++];for(n+=d;d<n;d++,r+=3,l+=2){let e=c[h[d]],s=o[r]+t[l],n=o[r+1]+t[l+1],u=o[r+2];a+=(s*e.a+n*e.b+e.worldX)*u,i+=(s*e.c+n*e.d+e.worldY)*u}s[e]=a,s[e+1]=i}}}copyTo(e){null!=this.bones?(e.bones=new Array(this.bones.length),t.Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,null!=this.vertices?(e.vertices=t.Utils.newFloatArray(this.vertices.length),t.Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment}}a.nextID=0,t.VertexAttachment=a}(spine||(spine={})),function(t){let e;!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(e=t.AttachmentType||(t.AttachmentType={}))}(spine||(spine={})),function(t){class e extends t.VertexAttachment{constructor(e){super(e),this.color=new t.Color(1,1,1,1)}copy(){let t=new e(name);return this.copyTo(t),t.color.setFromColor(this.color),t}}t.BoundingBoxAttachment=e}(spine||(spine={})),function(t){class e extends t.VertexAttachment{constructor(e){super(e),this.color=new t.Color(.2275,.2275,.8078,1)}copy(){let t=new e(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}t.ClippingAttachment=e}(spine||(spine={})),function(t){class e extends t.VertexAttachment{constructor(e){super(e),this.color=new t.Color(1,1,1,1),this.tempColor=new t.Color(0,0,0,0)}updateUVs(){let e=this.regionUVs;null!=this.uvs&&this.uvs.length==e.length||(this.uvs=t.Utils.newFloatArray(e.length));let a=this.uvs,s=this.uvs.length,i=this.region.u,n=this.region.v,r=0,l=0;if(this.region instanceof t.TextureAtlasRegion){let t=this.region,o=t.texture.getImage().width,h=t.texture.getImage().height;switch(t.degrees){case 90:i-=(t.originalHeight-t.offsetY-t.height)/o,n-=(t.originalWidth-t.offsetX-t.width)/h,r=t.originalHeight/o,l=t.originalWidth/h;for(let t=0;t<s;t+=2)a[t]=i+e[t+1]*r,a[t+1]=n+(1-e[t])*l;return;case 180:i-=(t.originalWidth-t.offsetX-t.width)/o,n-=t.offsetY/h,r=t.originalWidth/o,l=t.originalHeight/h;for(let t=0;t<s;t+=2)a[t]=i+(1-e[t])*r,a[t+1]=n+(1-e[t+1])*l;return;case 270:i-=t.offsetY/o,n-=t.offsetX/h,r=t.originalHeight/o,l=t.originalWidth/h;for(let t=0;t<s;t+=2)a[t]=i+(1-e[t+1])*r,a[t+1]=n+e[t]*l;return}i-=t.offsetX/o,n-=(t.originalHeight-t.offsetY-t.height)/h,r=t.originalWidth/o,l=t.originalHeight/h}else null==this.region?(i=n=0,r=l=1):(r=this.region.u2-i,l=this.region.v2-n);for(let t=0;t<s;t+=2)a[t]=i+e[t]*r,a[t+1]=n+e[t+1]*l}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(null!=this.parentMesh)return this.newLinkedMesh();let a=new e(this.name);return a.region=this.region,a.path=this.path,a.color.setFromColor(this.color),this.copyTo(a),a.regionUVs=new Array(this.regionUVs.length),t.Utils.arrayCopy(this.regionUVs,0,a.regionUVs,0,this.regionUVs.length),a.uvs=new Array(this.uvs.length),t.Utils.arrayCopy(this.uvs,0,a.uvs,0,this.uvs.length),a.triangles=new Array(this.triangles.length),t.Utils.arrayCopy(this.triangles,0,a.triangles,0,this.triangles.length),a.hullLength=this.hullLength,null!=this.edges&&(a.edges=new Array(this.edges.length),t.Utils.arrayCopy(this.edges,0,a.edges,0,this.edges.length)),a.width=this.width,a.height=this.height,a}newLinkedMesh(){let t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t.updateUVs(),t}}t.MeshAttachment=e}(spine||(spine={})),function(t){class e extends t.VertexAttachment{constructor(e){super(e),this.closed=!1,this.constantSpeed=!1,this.color=new t.Color(1,1,1,1)}copy(){let a=new e(name);return this.copyTo(a),a.lengths=new Array(this.lengths.length),t.Utils.arrayCopy(this.lengths,0,a.lengths,0,this.lengths.length),a.closed=closed,a.constantSpeed=this.constantSpeed,a.color.setFromColor(this.color),a}}t.PathAttachment=e}(spine||(spine={})),function(t){class e extends t.VertexAttachment{constructor(e){super(e),this.color=new t.Color(.38,.94,0,1)}computeWorldPosition(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e}computeWorldRotation(e){let a=t.MathUtils.cosDeg(this.rotation),s=t.MathUtils.sinDeg(this.rotation),i=a*e.a+s*e.b,n=a*e.c+s*e.d;return Math.atan2(n,i)*t.MathUtils.radDeg}copy(){let t=new e(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}t.PointAttachment=e}(spine||(spine={})),function(t){class e extends t.Attachment{constructor(e){super(e),this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new t.Color(1,1,1,1),this.offset=t.Utils.newFloatArray(8),this.uvs=t.Utils.newFloatArray(8),this.tempColor=new t.Color(1,1,1,1)}updateOffset(){let t=this.width/this.region.originalWidth*this.scaleX,a=this.height/this.region.originalHeight*this.scaleY,s=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*a,n=s+this.region.width*t,r=i+this.region.height*a,l=this.rotation*Math.PI/180,o=Math.cos(l),h=Math.sin(l),d=s*o+this.x,u=s*h,c=i*o+this.y,f=i*h,m=n*o+this.x,g=n*h,p=r*o+this.y,w=r*h,x=this.offset;x[e.OX1]=d-f,x[e.OY1]=c+u,x[e.OX2]=d-w,x[e.OY2]=p+u,x[e.OX3]=m-w,x[e.OY3]=p+g,x[e.OX4]=m-f,x[e.OY4]=c+g}setRegion(t){this.region=t;let e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,a,s,i){let n=this.offset,r=t.worldX,l=t.worldY,o=t.a,h=t.b,d=t.c,u=t.d,c=0,f=0;c=n[e.OX1],f=n[e.OY1],a[s]=c*o+f*h+r,a[s+1]=c*d+f*u+l,s+=i,c=n[e.OX2],f=n[e.OY2],a[s]=c*o+f*h+r,a[s+1]=c*d+f*u+l,s+=i,c=n[e.OX3],f=n[e.OY3],a[s]=c*o+f*h+r,a[s+1]=c*d+f*u+l,s+=i,c=n[e.OX4],f=n[e.OY4],a[s]=c*o+f*h+r,a[s+1]=c*d+f*u+l}copy(){let a=new e(name);return a.region=this.region,a.rendererObject=this.rendererObject,a.path=this.path,a.x=this.x,a.y=this.y,a.scaleX=this.scaleX,a.scaleY=this.scaleY,a.rotation=this.rotation,a.width=this.width,a.height=this.height,t.Utils.arrayCopy(this.uvs,0,a.uvs,0,8),t.Utils.arrayCopy(this.offset,0,a.offset,0,8),a.color.setFromColor(this.color),a}}e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,t.RegionAttachment=e}(spine||(spine={})),function(t){t.JitterEffect=class{constructor(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}begin(t){}transform(e,a,s,i){e.x+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY)}end(){}}}(spine||(spine={})),function(t){class e{constructor(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}begin(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}transform(a,s,i,n){let r=this.angle*t.MathUtils.degreesToRadians,l=a.x-this.worldX,o=a.y-this.worldY,h=Math.sqrt(l*l+o*o);if(h<this.radius){let t=e.interpolation.apply(0,r,(this.radius-h)/this.radius),s=Math.cos(t),i=Math.sin(t);a.x=s*l-i*o+this.worldX,a.y=i*l+s*o+this.worldY}}end(){}}e.interpolation=new t.PowOut(2),t.SwirlEffect=e}(spine||(spine={})),window.spine=spine;